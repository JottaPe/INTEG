!function(t,o){"object"==typeof exports&&"undefined"!=typeof module?o(exports,require("@angular/core"),require("@totvs/thf-core/services/thf-dialog-base/thf-dialog.enum"),require("@totvs/thf-core/components/thf-modal-base"),require("@totvs/thf-core/services/thf-dialog-base/thf-dialog-base.service"),require("@totvs/thf-core/services/thf-notification-base/thf-notification-base.service"),require("@totvs/thf-core/services/thf-notification-base/thf-toaster-base/thf-toaster-orientation.enum"),require("@totvs/thf-core/services/thf-notification-base/thf-toaster-base/thf-toaster-base.component"),require("@totvs/thf-core/services/thf-notification-base/thf-toaster-base/thf-toaster-type.enum"),require("@totvs/thf-core/interceptors/thf-http-interceptor-base")):"function"==typeof define&&define.amd?define(["exports","@angular/core","@totvs/thf-core/services/thf-dialog-base/thf-dialog.enum","@totvs/thf-core/components/thf-modal-base","@totvs/thf-core/services/thf-dialog-base/thf-dialog-base.service","@totvs/thf-core/services/thf-notification-base/thf-notification-base.service","@totvs/thf-core/services/thf-notification-base/thf-toaster-base/thf-toaster-orientation.enum","@totvs/thf-core/services/thf-notification-base/thf-toaster-base/thf-toaster-base.component","@totvs/thf-core/services/thf-notification-base/thf-toaster-base/thf-toaster-type.enum","@totvs/thf-core/interceptors/thf-http-interceptor-base"],o):o(t["thf-http-interceptor"]={},t.core,t.thfDialog_enum,t.thfModalBase,t.thfDialogBase_service,t.thfNotificationBase_service,t.thfToasterOrientation_enum,t.thfToasterBase_component,t.thfToasterType_enum,t.thfHttpInterceptorBase)}(this,function(t,o,e,n,i,r,a,s,c,f){"use strict";var p=function(){function t(t,o,e){this.componentResolver=t,this.applicationRef=o,this.injector=e}return t.prototype.createComponentInApplication=function(t){var o=this.componentResolver.resolveComponentFactory(t).create(this.injector);this.applicationRef.attachView(o.hostView);var e=o.hostView.rootNodes[0];return document.body.appendChild(e),o},t.prototype.destroyComponentInApplication=function(t){this.applicationRef.detachView(t.hostView),t.destroy()},t.decorators=[{type:o.Injectable}],t.ctorParameters=function(){return[{type:o.ComponentFactoryResolver},{type:o.ApplicationRef},{type:o.Injector}]},t}(),h=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var e in o)o.hasOwnProperty(e)&&(t[e]=o[e])};return function(o,e){t(o,e);function n(){this.constructor=o}o.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),l=function(t){h(e,t);function e(){var o=null!==t&&t.apply(this,arguments)||this;return o.focusableElements="input, select, textarea, button, a",o}return e.prototype.open=function(){t.prototype.open.call(this),this.handleFocus()},e.prototype.close=function(){t.prototype.close.call(this),document.removeEventListener("focus",this.focusFunction,!0)},e.prototype.handleFocus=function(){var t=this;setTimeout(function(){t.modalContent&&(t.initFocus(),document.addEventListener("focus",t.focusFunction,!0))})},e.prototype.initFocus=function(){var t=this;if(this.focusFunction=function(o){t.modalContent.nativeElement.contains(o.target)||(o.stopPropagation(),t.firstElement.focus())},this.setFirstElement(),this.hideClose)this.firstElement.focus();else{this.modalContent.nativeElement.querySelectorAll(this.focusableElements)[1].focus()}},e.prototype.setFirstElement=function(){this.firstElement=this.modalContent.nativeElement.querySelector(this.focusableElements)},e.decorators=[{type:o.Component,args:[{selector:"thf-modal",template:'<div class="thf-modal" *ngIf="!isHidden"> <div class="thf-modal-overlay" (click)="onClickOut()"></div> <div #modalContent class="thf-modal-content thf-modal-{{ modalSize }}" tabindex="-1"> <div class="thf-modal-header"> <div class="thf-modal-title"> <a class="thf-modal-header-close-button" *ngIf="!hideClose" (click)="close()" tabindex="0" > <span class="thf-icon thf-icon-close"></span> </a> {{ title }} </div> </div> <div class="thf-modal-body"> <ng-content></ng-content> </div> <div class="thf-modal-footer"> <thf-button *ngIf="secondaryAction" class="thf-modal-footer-button" [t-label]="secondaryAction.label" (t-click)="secondaryAction.action()" t-primary="false"> </thf-button> <thf-button *ngIf="primaryAction" class="thf-modal-footer-button" [t-label]="primaryAction.label" (t-click)="primaryAction.action()" t-primary="true"> </thf-button> </div> </div> </div> ',styles:[".thf-modal { font-family: NunitoSans; position: relative; z-index: 50; } .thf-modal-overlay:before { content: ''; position: fixed; background-color: #052e3e; top: 0; bottom: 0; right: 0; left: 0; opacity: 0.7; } .thf-modal-sm { width: 50% !important; } .thf-modal-md { width: 70% !important; } .thf-modal-lg { width: 80% !important; } .thf-modal-xl { width: 90% !important; } .thf-modal-auto { width: auto !important; } @media screen and (max-width: 480px) { .thf-modal-content { position: fixed; left: 50%; top: 50%; transform: translate(-50%, -50%); background-color: #ffffff; box-shadow: 0px 4px 16px 0 rgba(7, 9, 9, 0.24); max-height: 90%; width: 90%; } } @media screen and (min-width: 481px) and (max-width: 960px) { .thf-modal-content { position: fixed; left: 50%; top: 50%; transform: translate(-50%, -50%); background-color: #ffffff; box-shadow: 0px 4px 16px 0 rgba(7, 9, 9, 0.24); max-height: 90%; width: 80%; } } @media screen and (min-width: 961px) { .thf-modal-content { position: fixed; left: 50%; top: 50%; transform: translate(-50%, -50%); background-color: #ffffff; box-shadow: 0px 4px 16px 0 rgba(7, 9, 9, 0.24); max-height: 90%; width: 70%; } } .thf-modal-header { border-radius: 3px; padding-top: 18px; padding-left: 24px; padding-right: 24px; padding-bottom: 12px; border: 0px; } .thf-modal-title { font-size: 34px; font-weight: 200; line-height: 27px; text-align: left; color: #4a5c60; } .thf-modal-header-close-button { float: right; border-radius: 1px; text-align: right; color: #0c9abe; cursor: pointer; text-decoration: none; } .thf-modal-body { margin: 12px 24px 12px 24px; font-size: 14px; line-height: 1.71; text-align: left; color: #425357; max-height: calc(100vh - 210px); overflow-y: auto; } .thf-modal-footer { font-family: NunitoSans; background-color: #ffffff; border-radius: 3px; border: 0px; text-align: right; padding-top: 12px; padding-left: 0px; padding-bottom: 24px; padding-right: 24px; } .thf-modal-footer-button { margin-left: 16px; margin-top: 5px; } ::-webkit-scrollbar { width: 4px; height: 50px; opacity: 0.5; border-radius: 2px; } ::-webkit-scrollbar-thumb { background-color: #0c9abe; } "]}]}],e.ctorParameters=function(){return[]},e.propDecorators={modalContent:[{type:o.ViewChild,args:["modalContent",{read:o.ElementRef}]}]},e}(n.ThfModalBaseComponent),d=function(){function t(){this.primaryAction={label:"ok",action:function(){}}}return t.prototype.close=function(){this.thfModal.close(),this.destroy()},t.prototype.destroy=function(){this.componentRef&&this.componentRef.destroy()},t.prototype.configDialog=function(t,o,e,n){var i=this;this.primaryAction={label:t,action:function(){o&&o(),i.close()}},e&&(this.secondaryAction={label:e,action:function(){n&&n(),i.close()}})},t.prototype.open=function(t,o,n){switch(this.title=t.title,this.message=t.message,this.componentRef=n,o){case e.ThfDialogType.Confirm:this.configDialog("Confirmar",t.confirm,"Cancelar",t.cancel);break;case e.ThfDialogType.Alert:this.configDialog("Ok",t.ok)}this.thfModal.open()},t.decorators=[{type:o.Component,args:[{template:'<thf-modal [t-title]="title" [t-primary-action]="primaryAction" [t-secondary-action]="secondaryAction"> {{ message }} </thf-modal> '}]}],t.ctorParameters=function(){return[]},t.propDecorators={thfModal:[{type:o.ViewChild,args:[l]}]},t}(),u=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var e in o)o.hasOwnProperty(e)&&(t[e]=o[e])};return function(o,e){t(o,e);function n(){this.constructor=o}o.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),m=function(t){u(e,t);function e(o){var e=t.call(this)||this;return e.thfComponentInjector=o,e}return e.prototype.openDialog=function(t,o){var e=this.thfComponentInjector.createComponentInApplication(d);e.changeDetectorRef.detectChanges(),e.instance.open(o,t,e)},e.decorators=[{type:o.Injectable}],e.ctorParameters=function(){return[{type:p}]},e}(i.ThfDialogBaseService),y=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var e in o)o.hasOwnProperty(e)&&(t[e]=o[e])};return function(o,e){t(o,e);function n(){this.constructor=o}o.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),b=function(t){y(e,t);function e(o){var e=t.call(this)||this;return e.elementeRef=o,e.margin=20,e.showToaster=!0,e}return e.prototype.changePosition=function(t){this.elementeRef.nativeElement.style.display="table",this.margin=6+44*t+6*t,this.orientation===a.ThfToasterOrientation.Bottom?this.toaster.nativeElement.style.bottom=this.margin+"px":this.toaster.nativeElement.style.top=this.margin+"px"},e.prototype.close=function(){this.showToaster=!1},e.prototype.configToaster=function(t){switch(this.type=t.type,this.message=t.message,this.orientation=t.orientation,this.position=t.position,this.action=t.action,this.actionLabel=t.actionLabel?t.actionLabel:"Fechar",this.componentRef=t.componentRef,this.orientation===a.ThfToasterOrientation.Bottom&&(this.toasterPosition="thf-toaster-bottom"),this.changePosition(this.position),this.type){case c.ThfToasterType.Error:this.toasterType="thf-toaster-error",this.icon="thf-icon-close";break;case c.ThfToasterType.Information:this.toasterType="thf-toaster-info",this.icon="thf-icon-info";break;case c.ThfToasterType.Success:this.toasterType="thf-toaster-success",this.icon="thf-icon-ok";break;case c.ThfToasterType.Warning:this.toasterType="thf-toaster-warning",this.icon="thf-icon-warning"}},e.prototype.thfToasterAction=function(){this.action(this)},e.prototype.getShowToaster=function(){return this.showToaster},e.decorators=[{type:o.Component,args:[{selector:"thf-toaster",template:'<div #toaster *ngIf="getShowToaster()" class="thf-toaster {{ toasterType }} {{ toasterPosition }}"> <div class="thf-toaster-message"> <span class="thf-icon {{ icon }}"></span> {{ message }} </div> <div *ngIf="action !== undefined" (click)="thfToasterAction()" class="thf-toaster-action"> {{ actionLabel }} </div> </div> '}]}],e.ctorParameters=function(){return[{type:o.ElementRef}]},e.propDecorators={toaster:[{type:o.ViewChild,args:["toaster"]}]},e}(s.ThfToasterBaseComponent),g=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var e in o)o.hasOwnProperty(e)&&(t[e]=o[e])};return function(o,e){t(o,e);function n(){this.constructor=o}o.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),v=function(t){g(e,t);function e(o){var e=t.call(this)||this;return e.thfComponentInjector=o,e}return e.prototype.createToaster=function(t){var o=this,e=this.thfComponentInjector.createComponentInApplication(b);t.componentRef=e,e.changeDetectorRef.detectChanges(),e.instance.configToaster(t),t.orientation===a.ThfToasterOrientation.Top?this.stackTop.push(e):this.stackBottom.push(e),void 0===t.action&&setTimeout(function(){o.destroyToaster(e)},this.durationToaster)},e.prototype.destroyToaster=function(t){var o,e=(o=t.instance.orientation===a.ThfToasterOrientation.Top?this.stackTop:this.stackBottom).indexOf(t);o.splice(e,1),this.thfComponentInjector.destroyComponentInApplication(t);for(var n=0;n<o.length;n++)o[n].instance.changePosition(n)},e.decorators=[{type:o.Injectable}],e.ctorParameters=function(){return[{type:p}]},e}(r.ThfNotificationBaseService),x=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var e in o)o.hasOwnProperty(e)&&(t[e]=o[e])};return function(o,e){t(o,e);function n(){this.constructor=o}o.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),T=function(t){x(e,t);function e(o,e){return t.call(this,o,e)||this}return e.decorators=[{type:o.Injectable}],e.ctorParameters=function(){return[{type:v},{type:m}]},e}(f.ThfHttpInterceptorBaseService),_=function(){function t(){}return t.decorators=[{type:o.NgModule,args:[{providers:[T,m,v]}]}],t.ctorParameters=function(){return[]},t}();t.ThfHttpInterceptorModule=_,Object.defineProperty(t,"__esModule",{value:!0})});