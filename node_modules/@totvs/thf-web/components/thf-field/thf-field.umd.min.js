!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular/common"),require("@angular/forms"),require("@angular/common/http"),require("@totvs/thf-core/components/thf-button-base"),require("@totvs/thf-core/utils/util"),require("@totvs/thf-core/components/thf-field-base"),require("@totvs/thf-core/utils"),require("@totvs/thf-core/components/thf-field-base/thf-upload-base/thf-upload-file"),require("@totvs/thf-core/components/thf-field-base/thf-upload-base/thf-upload-status.enum")):"function"==typeof define&&define.amd?define(["exports","@angular/core","@angular/common","@angular/forms","@angular/common/http","@totvs/thf-core/components/thf-button-base","@totvs/thf-core/utils/util","@totvs/thf-core/components/thf-field-base","@totvs/thf-core/utils","@totvs/thf-core/components/thf-field-base/thf-upload-base/thf-upload-file","@totvs/thf-core/components/thf-field-base/thf-upload-base/thf-upload-status.enum"],e):e(t["thf-field"]={},t.core,t.common,t.forms,t.http,t.thfButtonBase,t.util,t.thfFieldBase,t.utils,t.thfUploadFile,t.thfUploadStatus_enum)}(this,function(t,e,n,i,o,a,r,l,s,p,c){"use strict";var d=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){t(e,n);function i(){this.constructor=e}e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),h=function(t){d(n,t);function n(){return null!==t&&t.apply(this,arguments)||this}return n.decorators=[{type:e.Component,args:[{selector:"thf-button",template:'<button class="thf-button" type="button" id="{{ id }}" [disabled]="disabled" [ngClass]="{ \'thf-button--primary\' : primary, \'thf-button--sm\' : small }" (click)="onClick()"> <span *ngIf="icon" class="thf-icon {{ icon }}" aria-hidden="true"></span> {{ label }} </button> ',providers:[]}]}],n.ctorParameters=function(){return[]},n}(a.ThfButtonBaseComponent),u=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule],declarations:[h],exports:[h]}]}],t.ctorParameters=function(){return[]},t}(),f=function(){function t(){this.months=[{pt:"Janeiro",en:"January",es:"Enero"},{pt:"Fevereiro",en:"February",es:"Febrero"},{pt:"Março",en:"March",es:"Marzo"},{pt:"Abril",en:"April",es:"Abril"},{pt:"Maio",en:"May",es:"Mayo"},{pt:"Junho",en:"June",es:"Junio"},{pt:"Julho",en:"July",es:"Julio"},{pt:"Agosto",en:"August",es:"Agosto"},{pt:"Setembro",en:"September",es:"Setiembre"},{pt:"Outubro",en:"October",es:"Octubre"},{pt:"Novembro",en:"November",es:"Noviembre"},{pt:"Dezembro",en:"December",es:"Diciembre"}],this.shortWeekDays=[{pt:"Dom",en:"Sun",es:"Dom"},{pt:"Seg",en:"Mon",es:"Lun"},{pt:"Ter",en:"Tue",es:"Mar"},{pt:"Qua",en:"Wed",es:"Mié"},{pt:"Qui",en:"Thu",es:"Jue"},{pt:"Sex",en:"Fri",es:"Vie"},{pt:"Sáb",en:"Sat",es:"Sáb"}],this.wordMonth={pt:"Mês",en:"Month",es:"Mes"},this.wordYear={pt:"Ano",en:"Year",es:"Año"},this.lang="en"}return t.prototype.setLanguage=function(t){t&&t.length>=2&&(t=t.toLowerCase().slice(0,2),this.lang="pt"===t||"en"===t||"es"===t?t:"pt")},t.prototype.getWordMonth=function(){return this.wordMonth[this.lang]},t.prototype.getWordYear=function(){return this.wordYear[this.lang]},t.prototype.getMonth=function(t){return this.months[t][this.lang]},t.prototype.getArrayMonths=function(){for(var t=Array(),e=0;e<this.months.length;e++)t.push(this.months[e][this.lang]);return t},t.prototype.getWeedDays=function(t){return this.shortWeekDays[t][this.lang]},t.prototype.getArrayWeekDays=function(){for(var t=Array(),e=0;e<this.shortWeekDays.length;e++)t.push(this.shortWeekDays[e][this.lang]);return t},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[]},t}(),g=function(){function t(){this.firstWeekDay=0}return t.prototype.weekStartDate=function(t){for(var e=new Date(t.getTime());e.getDay()!==this.firstWeekDay;)e.setDate(e.getDate()-1);return e},t.prototype.monthDates=function(t,e,n,i){if(void 0===n&&(n=null),void 0===i&&(i=null),"number"!=typeof e||e<0||e>11)throw Error("month must be a number (Jan is 0)");var o=[],a=[],r=0,l=this.weekStartDate(new Date(t,e,1));do{for(r=0;r<7;r++)a.push(n?n(l):l),(l=new Date(l.getTime())).setDate(l.getDate()+1);o.push(i?i(a):a),a=[]}while(l.getMonth()<=e&&l.getFullYear()===t);return o},t.prototype.monthDays=function(t,e){return this.monthDates(t,e,function(t){return t.getMonth()===e?t:0})},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[]},t}(),y=function(){function t(t,n,i){this.elementRef=t,this.dateChange=new e.EventEmitter,this.submit=new e.EventEmitter,this.today=new Date,this.isMobile=r.isMobile,this.displayMonths=Array(),this.displayWeedDays=Array(),this.thfCalendarService=n,this.thfCalendarLangService=i}return Object.defineProperty(t.prototype,"date",{get:function(){return this._date},set:function(t){t&&(this._date=t,this.updateDate(t))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dateStart",{get:function(){return this._dateStart},set:function(t){if(t){var e=t.getFullYear(),n=t.getMonth(),i=t.getDate();this._dateStart=new Date(e,n,i,0,0,0)}else this._dateStart=void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dateEnd",{get:function(){return this._dateEnd},set:function(t){if(t){var e=t.getFullYear(),n=t.getMonth(),i=t.getDate();this._dateEnd=new Date(e,n,i,23,59,59)}else this._dateEnd=void 0},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){this.thfCalendarLangService.setLanguage(this.locale),this.displayWeedDays=this.thfCalendarLangService.getArrayWeekDays(),this.displayMonths=this.thfCalendarLangService.getArrayMonths(),this.init()},t.prototype.init=function(){this.date||(this.date=new Date),this.selectDay(),this.updateDate(this.date),this.isMobile()&&this.setMobileVisualization()},t.prototype.setMobileVisualization=function(){var t=this.elementRef.nativeElement.querySelector(".thf-calendar-overlay");this.elementRef.nativeElement.querySelector(".thf-calendar").classList.add("thf-calendar-mobile"),t.classList.remove("thf-invisible")},t.prototype.updateDate=function(t){this.currentMonthNumber=t.getMonth(),this.currentMonth=this.displayMonths[this.currentMonthNumber],this.currentYear=t.getFullYear(),this.currentDay=t.getDate(),this.currentDayOfWeek=this.displayWeedDays[t.getDay()],this.updateDisplay(this.currentYear,this.currentMonthNumber)},t.prototype.updateDisplay=function(t,e){var n=this.thfCalendarService.monthDays(t,e);this.displayDays=[].concat.apply([],n),this.displayMonthNumber=e,this.displayMonth=this.displayMonths[e],this.displayYear=t,this.getArrayDecade(t)},t.prototype.equalsDate=function(t,e){try{return t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth()&&t.getDate()===e.getDate()}catch(t){return!1}},t.prototype.selectDay=function(){this.elDays.nativeElement.classList.remove("thf-invisible"),this.elMonths.nativeElement.classList.add("thf-invisible"),this.elYears.nativeElement.classList.add("thf-invisible"),this.lastDisplay="day"},t.prototype.selectMonth=function(){this.elDays.nativeElement.classList.add("thf-invisible"),this.elMonths.nativeElement.classList.remove("thf-invisible"),this.elYears.nativeElement.classList.add("thf-invisible"),this.lastDisplay="month"},t.prototype.selectYear=function(){this.elDays.nativeElement.classList.add("thf-invisible"),this.elMonths.nativeElement.classList.add("thf-invisible"),this.elYears.nativeElement.classList.remove("thf-invisible")},t.prototype.getDayBackgroundColor=function(t){return this.equalsDate(t,this.date)?"thf-calendar-box-background-selected":this.equalsDate(t,this.today)?"thf-calendar-box-background-today":t?this.dateInRange(t)?"thf-calendar-box-background":"thf-calendar-box-background-disabled":""},t.prototype.getDayForegroundColor=function(t){return this.equalsDate(t,this.date)?"thf-calendar-box-foreground-selected":this.equalsDate(t,this.today)?"thf-calendar-box-foreground-today":this.dateInRange(t)?"thf-calendar-box-foreground":"thf-calendar-box-foreground-disabled"},t.prototype.dateInRange=function(t){return this._dateStart&&!this._dateEnd?t>=this._dateStart:this._dateEnd&&!this._dateStart?t<=this._dateEnd:!this._dateStart||!this._dateEnd||t>=this._dateStart&&t<=this._dateEnd},t.prototype.getMonthBackgroundColor=function(t){return t===this.displayMonthNumber?"thf-calendar-box-background-selected":"thf-calendar-box-background"},t.prototype.getMonthForegroundColor=function(t){return t===this.displayMonthNumber?"thf-calendar-box-foreground-selected":"thf-calendar-box-foreground"},t.prototype.getYearBackgroundColor=function(t){return t===this.currentYear?"thf-calendar-box-background-selected":"thf-calendar-box-background"},t.prototype.getYearForegroundColor=function(t){return t===this.currentYear?"thf-calendar-box-foreground-selected":"thf-calendar-box-foreground"},t.prototype.onPrevMonth=function(){this.displayMonthNumber>0?this.updateDisplay(this.displayYear,this.displayMonthNumber-1):this.updateDisplay(this.displayYear-1,11)},t.prototype.onNextMonth=function(){this.displayMonthNumber<11?this.updateDisplay(this.displayYear,this.displayMonthNumber+1):this.updateDisplay(this.displayYear+1,0)},t.prototype.onPrevYear=function(){this.updateDisplay(this.displayYear-1,this.displayMonthNumber)},t.prototype.onNextYear=function(){this.updateDisplay(this.displayYear+1,this.displayMonthNumber)},t.prototype.onPrevDecade=function(){this.updateDisplay(this.displayYear-10,this.displayMonthNumber)},t.prototype.onNextDecade=function(){this.updateDisplay(this.displayYear+10,this.displayMonthNumber)},t.prototype.onSelectYear=function(t,e){"month"===this.lastDisplay?this.selectMonth():this.selectDay(),this.currentYear=t,this.updateDisplay(t,e)},t.prototype.onSelectMonth=function(t,e){this.selectDay(),this.updateDisplay(t,e)},t.prototype.onSelectDate=function(t){this.dateInRange(t)&&(this.date=t,this.dateChange.emit(t),this.submit.emit(this.date))},t.prototype.getArrayDecade=function(t){this.displayDecade=Array();var e;if(t%10==0){for(e=t;e<t+10;e++)this.displayDecade.push(e);this.displayStartDecade=t,this.displayFinalDecade=t+9}else{for(;t%10!=0;)t--;for(this.displayStartDecade=t,this.displayFinalDecade=t+9,e=t;e<t+10;e++)this.displayDecade.push(e)}},t.prototype.getWordMonth=function(){return this.thfCalendarLangService.getWordMonth()},t.prototype.getWordYear=function(){return this.thfCalendarLangService.getWordYear()},t.decorators=[{type:e.Component,args:[{selector:"thf-calendar",template:'<div class="thf-calendar-overlay thf-invisible"></div> <div class="thf-calendar"> <div #days> <div class="thf-calendar-nav"> <span (click)="onPrevMonth()" class="thf-calendar-nav-left thf-icon thf-icon-arrow-left"></span> <div class="thf-calendar-nav-title"> <span class="thf-clickable" (click)="selectMonth()">{{ displayMonth }}</span> <span class="thf-clickable" (click)="selectYear()">{{ displayYear }}</span> </div> <span (click)="onNextMonth()" class="thf-calendar-nav-right thf-icon thf-icon-arrow-right"></span> </div> <div class="thf-calendar-content"> <div class="thf-calendar-labels"> <div class="thf-calendar-label" *ngFor="let day of displayWeedDays"> {{ day.toLowerCase() }} </div> </div> <div class="thf-calendar-content-list-day"> <div *ngFor="let day of displayDays" class="thf-calendar-day thf-calendar-box-background" (click)="onSelectDate(day)" [ngClass]="getDayBackgroundColor(day)"> <span *ngIf="day != 0" [ngClass]="getDayForegroundColor(day)"> {{ day.getDate() }} </span> </div> </div> </div> </div> <div #months> <div class="thf-calendar-nav"> <span (click)="onPrevYear()" class="thf-calendar-nav-left thf-icon thf-icon-arrow-left"></span> <div class="thf-calendar-nav-title"> <span class="thf-clickable" (click)="selectYear()">{{ displayYear }}</span> </div> <span (click)="onNextYear()" class="thf-calendar-nav-right thf-icon thf-icon-arrow-right"></span> </div> <div class="thf-calendar-content"> <div class="thf-calendar-labels"> <div class="thf-calendar-label"> {{ getWordMonth() }} </div> </div> <div class="thf-calendar-content-list-month"> <div *ngFor="let month of displayMonths; let i = index;" class="thf-calendar-month" (click)="onSelectMonth(displayYear, i)" [ngClass]="getMonthBackgroundColor(i)"> <span [ngClass]="getMonthForegroundColor(i)"> {{ month }} </span> </div> </div> </div> </div> <div #years> <div class="thf-calendar-nav"> <span (click)="onPrevDecade()" class="thf-calendar-nav-left thf-icon thf-icon-arrow-left"></span> <div class="thf-calendar-nav-title"> {{ displayStartDecade }} - {{ displayFinalDecade }} </div> <span (click)="onNextDecade()" class="thf-calendar-nav-right thf-icon thf-icon-arrow-right"></span> </div> <div class="thf-calendar-content"> <div class="thf-calendar-labels"> <div class="thf-calendar-label"> {{ getWordYear() }} </div> </div> <div class="thf-calendar-content-list-year"> <div *ngFor="let year of displayDecade; let i = index;" class="thf-calendar-year" (click)="onSelectYear(year, displayMonthNumber)" [ngClass]="getYearBackgroundColor(year)"> <span [ngClass]="getYearForegroundColor(year)"> {{ year }} </span> </div> </div> </div> </div> </div> '}]}],t.ctorParameters=function(){return[{type:e.ElementRef},{type:g},{type:f}]},t.propDecorators={date:[{type:e.Input,args:["t-date"]}],dateChange:[{type:e.Output,args:["t-dateChange"]}],dateStart:[{type:e.Input,args:["t-start"]}],dateEnd:[{type:e.Input,args:["t-end"]}],locale:[{type:e.Input,args:["t-locale"]}],submit:[{type:e.Output,args:["t-submit"]}],elDays:[{type:e.ViewChild,args:["days",{read:e.ElementRef}]}],elMonths:[{type:e.ViewChild,args:["months",{read:e.ElementRef}]}],elYears:[{type:e.ViewChild,args:["years",{read:e.ElementRef}]}]},t}(),b=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){t(e,n);function i(){this.constructor=e}e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),v=function(t){b(n,t);function n(){return null!==t&&t.apply(this,arguments)||this}return n.decorators=[{type:e.Component,args:[{selector:"thf-checkbox-group",template:'<thf-field-container [t-label]="label" [t-help]="help" [t-opcional]="!required"> <div class="thf-checkbox-container" #inp> <div class="thf-input-checkbox-inline" *ngFor="let option of options"> <input class="thf-input-checkbox" type="checkbox" [attr.name]="name + option.value" [attr.id]="name + option.value" [required]="required" [disabled]="option.disabled === true" [value]="option.value" (click)="eventClick(name, option.value)"> <label for="{{name + option.value}}">{{option.label}}</label> </div> </div> </thf-field-container> ',styles:[".thf-input-checkbox-inline { display: inline-block; } .thf-input-checkbox { width: 20px; height: 20px; border-radius: 2px; box-shadow: inset 0 1px 8px 0 rgba(0, 0, 0, 0.1); border: solid 1px rgba(255, 255, 255, 0.6); } .thf-input-checkbox:checked { width: 20px; height: 20px; border-radius: 2px; } input[type=checkbox] { visibility: hidden; position: absolute; } input[type=checkbox] + label:before { width: 20px; height: 20px; margin-top: -2px; margin-right: 8px; display: inline-block; vertical-align: middle; background-color: #ffffff; box-shadow: inset 0px 2px 8px 0 #edefef; border: solid 1px #b7bebf; content: ' '; } input[type=checkbox]:checked + label:before { background-color: #0c9abe; box-shadow: none; color: white; font-family: 'TotvsIcon' !important; line-height: 18px; content: ' '; padding-left: 1px; } input[type=checkbox]:disabled + label:before { background-color: #edefef; border: solid 1px #b7bebf; } input[type=checkbox]:checked:disabled + label:before { color: #b7bebf; } input[type=checkbox] + label:before { border-radius: 2px; } label { height: 16px; font-family: NunitoSans; font-size: 16px; line-height: 1.5; text-align: left; color: #1e2526; margin: 0 6px 6px 6px; cursor: pointer; } "],encapsulation:e.ViewEncapsulation.None,changeDetection:e.ChangeDetectionStrategy.OnPush}]}],n.ctorParameters=function(){return[]},n.propDecorators={label:[{type:e.Input,args:["t-label"]}],help:[{type:e.Input,args:["t-help"]}]},n}(l.ThfCheckboxGroupBaseComponent),m=function(){function t(){this.position=1}return t.decorators=[{type:e.Component,args:[{selector:"thf-clean",template:"<span class=\"thf-icon thf-icon-close thf-span-clean\" [ngClass]=\"{'thf-icon': true, 'thf-icon-close': true, 'thf-span-clean': true, 'thf-span-clean-pos1': position==1, 'thf-span-clean-pos2': position!=1}\"> </span> ",styles:[".thf-span-clean { position: relative; width: 0px; font-size: 25px; color: #0c9abe; top: 19px; text-decoration: none; cursor: pointer; } .thf-span-clean-pos1 { right: 35px; } .thf-span-clean-pos2 { right: 70px; } .ng-invalid.ng-dirty .thf-span-clean { color: #c64840 !important; } "]}]}],t.ctorParameters=function(){return[]},t.propDecorators={position:[{type:e.Input}]},t}(),x=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){t(e,n);function i(){this.constructor=e}e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),k=function(t){x(n,t);function n(e,n,i){var o=t.call(this,i)||this;return o.validators=[],o.date=new Date,o.hour="T00:00:00+00:00",o.el=n,o.clickListener=e.listenGlobal("document","click",function(t){return o.wasClickedOnPicker(t)}),o}return n.prototype.ngAfterViewInit=function(){this.focus&&this.inputEl.nativeElement.focus(),this.clean&&(this.inputEl.nativeElement.style.paddingRight="30px")},n.prototype.ngOnDestroy=function(){this.clickListener()},n.prototype.togglePicker=function(){var t=this.dialogPicker.nativeElement;if(!this.disabled)if(t.classList.contains("thf-datepicker-invisible")){var e=document.body.scrollWidth;t.style.marginLeft="0px",t.classList.remove("thf-datepicker-invisible"),this.picker.init(),document.body.scrollWidth!==e&&(t.style.marginLeft=this.inputEl.nativeElement.offsetWidth-288+"px")}else t.classList.add("thf-datepicker-invisible"),this.inputEl.nativeElement.disabled=!1},n.prototype.dateSelected=function(){this.inputEl.nativeElement.value=this.formatToDate(this.date),this.callOnChange(s.convertDateToISOExtended(this.date,this.hour)),this.dialogPicker.nativeElement.classList.add("thf-datepicker-invisible")},n.prototype.wasClickedOnPicker=function(t){this.dialogPicker.nativeElement.contains(t.target)&&!this.hasOverlayClass(t.target)||this.iconDatepicker.nativeElement.contains(t.target)||this.dialogPicker.nativeElement.classList.add("thf-datepicker-invisible")},n.prototype.onKeyup=function(t){this.objMask.keyup(t),this.objMask.valueToModel||""===this.objMask.valueToModel?this.objMask.valueToModel.length>=10?(this.controlModel(this.getDateFromString(this.inputEl.nativeElement.value)),this.date=this.getDateFromString(this.inputEl.nativeElement.value)):(this.date=void 0,this.controlModel(this.date)):this.date=void 0},n.prototype.onKeypress=function(t){this.objMask.keypress(t)},n.prototype.onKeydown=function(t){this.objMask.keydown(t)},n.prototype.hasInvalidClass=function(){return this.el.nativeElement.classList.contains("ng-invalid")&&this.el.nativeElement.classList.contains("ng-dirty")&&""!==this.inputEl.nativeElement.value},n.prototype.cleanInput=function(){this.inputEl.nativeElement.value="",this.callOnChange(""),this.date=void 0,this.required&&this.controlModel(this.date)},n.prototype.eventOnBlur=function(t){s.isMobile()||(this.objMask.blur(t),this.onblur.emit(),this.objMask.valueToModel?this.objMask.valueToModel.length>=10?(this.controlModel(this.getDateFromString(this.inputEl.nativeElement.value)),this.date=this.getDateFromString(this.inputEl.nativeElement.value)):(this.date=void 0,this.controlModel(this.date)):this.date=void 0)},n.prototype.eventOnChange=function(t){s.isMobile()&&(this.controlModel(this.inputEl.nativeElement.value),this.callOnChange(this.inputEl.nativeElement.value)),this.onchange.emit()},n.prototype.eventOnClick=function(t){var e=this;s.isMobile()?(t.target.blur(),setTimeout(function(){return e.togglePicker()},0)):this.objMask.click(t)},n.prototype.formatToDate=function(t){var e=this.format;return e=(e=(e=e.replace("dd",("0"+t.getDate()).slice(-2))).replace("mm",("0"+(t.getMonth()+1)).slice(-2))).replace("yyyy",String(t.getFullYear()))},n.prototype.writeValue=function(t){if(this.inputEl&&t){if(t instanceof Date){var e=t.toString();this.hour="T"+e.substring(16,24)+e.substring(28,31)+":"+e.substring(31,33),this.date=t,this.inputEl.nativeElement.value=this.formatToDate(t)}else{this.hour=t.substring(10,25);var n=parseInt(t.substring(8,10),10),i=parseInt(t.substring(5,7),10)-1,o=parseInt(t.substring(0,4),10),a=new Date(o,i,n);this.date=a,this.inputEl.nativeElement.value=this.formatToDate(a)}this.controlModel(this.date)}},n.prototype.hasOverlayClass=function(t){return t.classList.contains("thf-calendar-overlay")},n.decorators=[{type:e.Component,args:[{selector:"thf-datepicker",template:'<div class="thf-input-datepicker"> <thf-field-container [t-label]="label" [t-help]="help" [t-opcional]="!required"> <div class="thf-field-flex-container" > <input #inp type="text" class="thf-input-elem" (blur)="eventOnBlur($event)" (change)="eventOnChange($event)" (click)="eventOnClick($event)" [attr.name]="name" [placeholder]="placeholder" [required]="required" [disabled]="disabled" [readonly]="readonly"> <thf-clean #clean (click)="cleanInput()" position="2" *ngIf="clean && !disabled"></thf-clean> <span #iconDatepicker (click)="togglePicker()" class="thf-icon thf-icon-calendar thf-span-datepicker"></span> </div> <div class="thf-datepicker thf-datepicker-invisible" #dialogPicker> <thf-calendar #picker [t-locale]="locale" [t-end]="end" [t-start]="start" [(t-date)]="date" (t-submit)="dateSelected()"> </thf-calendar> </div> <div class="thf-field-error"> <div *ngIf="errorPattern!==\'\' && hasInvalidClass()" class="thf-field-error"> <span class="thf-icon thf-icon-close"></span> {{ errorPattern }} </div> </div> </thf-field-container> </div> ',styles:[".thf-input-datepicker { max-width: 100%; } .thf-clean-arrow-mobile { z-index: 4; position: relative; width: 20px; float: right; height: 20px; background-color: white; bottom: 33px; right: 2px; } .thf-input-elem { width: 100%; line-height: 24px; font-family: NunitoSans; font-size: 16px; border-radius: 3px; background-color: #ffffff; box-shadow: inset 0px 2px 8px 0 #edefef; border: solid 1px #b7bebf !important; padding: 10px 15px 8px 15px; margin-top: 8px; } .thf-input-elem:disabled { background-color: #edefef; border: solid 1px #b7bebf; } thf-datepicker.ng-valid .thf-input-elem:focus { outline: none; border: solid 1px #0c9abe !important; border: solid 1px var(--water-blue); } thf-datepicker.ng-invalid.ng-dirty .thf-input-elem { outline: none; border: solid 1px #c64840 !important; } thf-datepicker.ng-invalid.ng-dirty .thf-span-clean { color: #c64840 !important; } .thf-field-flex-container { display: flex; } .thf-text-clean { position: absolute; width: 0px; font-size: 25px; color: #0c9abe; right: 35px; top: 10px; text-decoration: none; cursor: pointer; } .thf-field-error { display: block; height: 20px; font-family: NunitoSans; font-size: 12px; text-align: left; color: #c64840; padding-left: 2px; margin-top: 2px; } .thf-field-error span { padding-bottom: 2px; vertical-align: middle; font-size: 14px; font-weight: bold; } .thf-datepicker { position: absolute; padding-top: 8px; z-index: 1000; } .thf-datepicker-invisible { display: none; } .thf-span-datepicker { position: relative; width: 0px; font-size: 25px; color: #0c9abe; right: 35px; top: 18px; text-decoration: none; z-index: 100; cursor: pointer; } thf-datepicker.ng-invalid.ng-dirty .thf-span-datepicker { color: #c64840 !important; } "],encapsulation:e.ViewEncapsulation.None}]}],n.ctorParameters=function(){return[{type:e.Renderer},{type:e.ElementRef},{type:i.NgControl,decorators:[{type:e.Optional}]}]},n.propDecorators={picker:[{type:e.ViewChild,args:["picker"]}],dialogPicker:[{type:e.ViewChild,args:["dialogPicker",{read:e.ElementRef}]}],iconDatepicker:[{type:e.ViewChild,args:["iconDatepicker",{read:e.ElementRef}]}],inputEl:[{type:e.ViewChild,args:["inp",{read:e.ElementRef}]}],cleanEl:[{type:e.ViewChild,args:["clean",{read:e.ElementRef}]}],label:[{type:e.Input,args:["t-label"]}],help:[{type:e.Input,args:["t-help"]}],onKeyup:[{type:e.HostListener,args:["keyup",["$event"]]}],onKeypress:[{type:e.HostListener,args:["keypress",["$event"]]}],onKeydown:[{type:e.HostListener,args:["keydown",["$event"]]}]},n}(l.ThfDatepickerBaseComponent),w=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){t(e,n);function i(){this.constructor=e}e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),C=function(t){w(n,t);function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.maxlength=254,e.type="email",e.pattern="^([\\w-]+(?:\\.[\\w-]+)*)@((?:[\\w-]+\\.)*\\w[\\w-]{0,66})\\.([a-z]{2,6}(?:\\.[a-z]{2})?)$",e.mask="",e}return Object.defineProperty(n.prototype,"setMaxlength",{set:function(t){isNaN(parseInt(t,10))||(this.maxlength=parseInt(t,10))},enumerable:!0,configurable:!0}),n.decorators=[{type:e.Component,args:[{selector:"thf-email",template:' <thf-field-container [t-label]="label" [t-help]="help" [t-opcional]="!required"> <div class="thf-field-flex-container" > <input #inp [type]="type" class="thf-input-elem" (input)="eventOnInput($event)" (focus)="eventOnFocus($event)" (blur)="eventOnBlur($event)" (click)="eventOnClick($event)" [attr.name]="name" [placeholder]="placeholder" [required]="required" [disabled]="disabled" [readonly]="readonly"> <thf-clean #clean (click)="cleanInput()" *ngIf="clean!==\'\' && !disabled"></thf-clean> </div> <div class="thf-field-error"> <div *ngIf="errorPattern!==\'\' && hasInvalidClass()" class="thf-field-error"> <span class="thf-icon thf-icon-close"></span> {{errorPattern}} </div> </div> </thf-field-container> ',styles:[".thf-input-elem { width: 100%; line-height: 24px; font-family: NunitoSans; font-size: 16px; border-radius: 3px; background-color: #ffffff; box-shadow: inset 0px 2px 8px 0 #edefef; border: solid 1px #b7bebf !important; padding: 10px 15px 8px 15px; margin-top: 8px; } .thf-input-elem:disabled { background-color: #edefef; border: solid 1px #b7bebf; } thf-input.ng-valid .thf-input-elem:focus, thf-email.ng-valid .thf-input-elem:focus, thf-url.ng-valid .thf-input-elem:focus, thf-number.ng-valid .thf-input-elem:focus { outline: none; border: solid 1px #0c9abe !important; border: solid 1px var(--water-blue); } thf-input.ng-invalid.ng-dirty input, thf-email.ng-invalid.ng-dirty input, thf-url.ng-invalid.ng-dirty input, thf-number.ng-invalid.ng-dirty input { outline: none; border: solid 1px #c64840 !important; } thf-input.ng-invalid.ng-dirty .thf-span-clean, thf-email.ng-invalid.ng-dirty .thf-span-clean, thf-url.ng-invalid.ng-dirty .thf-span-clean, thf-number.ng-invalid.ng-dirty .thf-span-clean { color: #c64840 !important; } .thf-field-flex-container { display: flex; } .thf-text-clean { position: relative; width: 0px; font-size: 25px; color: #0c9abe; right: 35px; top: 10px; text-decoration: none; cursor: pointer; } .thf-field-error { display: block; height: 20px; font-family: NunitoSans; font-size: 12px; text-align: left; color: #c64840; padding-left: 2px; margin-top: 2px; } .thf-field-error span { padding-bottom: 2px; vertical-align: middle; font-size: 14px; font-weight: bold; } "]}]}],n.ctorParameters=function(){return[]},n.propDecorators={label:[{type:e.Input,args:["t-label"]}],help:[{type:e.Input,args:["t-help"]}],setMaxlength:[{type:e.Input,args:["t-maxlength"]}]},n}(l.ThfInputBaseComponent),D=function(){function t(){this.optional={pt:"(Opcional)",en:"(Optional)",es:"(Opcional)"}}return t.prototype.getOptional=function(){var t=navigator.language?navigator.language.toLowerCase().slice(0,2):"pt";return this.optional[t]?this.optional[t]:""},t.prototype.ngOnInit=function(){},t.decorators=[{type:e.Component,args:[{selector:"thf-field-container",template:' <div style="display:block"> <span class="thf-label">{{label}}</span> <span *ngIf="opcional" class="thf-opcional">{{getOptional()}}</span> <br> <span *ngIf="help!==\'\'" class="thf-label-help">{{help}}</span> <ng-content></ng-content> </div> ',styles:[".thf-label { font-size: 14px; line-height: 2; text-align: left; color: #4a5c60; font-family: 'NunitoSans-Bold'; } .thf-opcional { font-size: 12px; line-height: 2; color: #4a5c60; font-family: NunitoSans; float: right !important; text-align: bottom; } .thf-label-help { font-size: 12px; line-height: 1.67; text-align: left; color: #4a5c60; font-family: NunitoSans; } "]}]}],t.ctorParameters=function(){return[]},t.propDecorators={label:[{type:e.Input,args:["t-label"]}],help:[{type:e.Input,args:["t-help"]}],opcional:[{type:e.Input,args:["t-opcional"]}]},t}(),M=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){t(e,n);function i(){this.constructor=e}e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),S=function(t){M(n,t);function n(){return null!==t&&t.apply(this,arguments)||this}return n.decorators=[{type:e.Component,args:[{selector:"thf-input",template:' <thf-field-container [t-label]="label" [t-help]="help" [t-opcional]="!required"> <div class="thf-field-flex-container" > <input #inp [type]="type" class="thf-input-elem" (input)="eventOnInput($event)" (focus)="eventOnFocus($event)" (blur)="eventOnBlur($event)" (click)="eventOnClick($event)" [attr.name]="name" [placeholder]="placeholder" [required]="required" [disabled]="disabled" [readonly]="readonly"> <thf-clean #clean (click)="cleanInput()" *ngIf="clean!==\'\' && !disabled"></thf-clean> </div> <div class="thf-field-error"> <div *ngIf="errorPattern!==\'\' && hasInvalidClass()" class="thf-field-error"> <span class="thf-icon thf-icon-close"></span> {{errorPattern}} </div> </div> </thf-field-container> ',styles:[".thf-input-elem { width: 100%; line-height: 24px; font-family: NunitoSans; font-size: 16px; border-radius: 3px; background-color: #ffffff; box-shadow: inset 0px 2px 8px 0 #edefef; border: solid 1px #b7bebf !important; padding: 10px 15px 8px 15px; margin-top: 8px; } .thf-input-elem:disabled { background-color: #edefef; border: solid 1px #b7bebf; } thf-input.ng-valid .thf-input-elem:focus, thf-email.ng-valid .thf-input-elem:focus, thf-url.ng-valid .thf-input-elem:focus, thf-number.ng-valid .thf-input-elem:focus { outline: none; border: solid 1px #0c9abe !important; border: solid 1px var(--water-blue); } thf-input.ng-invalid.ng-dirty input, thf-email.ng-invalid.ng-dirty input, thf-url.ng-invalid.ng-dirty input, thf-number.ng-invalid.ng-dirty input { outline: none; border: solid 1px #c64840 !important; } thf-input.ng-invalid.ng-dirty .thf-span-clean, thf-email.ng-invalid.ng-dirty .thf-span-clean, thf-url.ng-invalid.ng-dirty .thf-span-clean, thf-number.ng-invalid.ng-dirty .thf-span-clean { color: #c64840 !important; } .thf-field-flex-container { display: flex; } .thf-text-clean { position: relative; width: 0px; font-size: 25px; color: #0c9abe; right: 35px; top: 10px; text-decoration: none; cursor: pointer; } .thf-field-error { display: block; height: 20px; font-family: NunitoSans; font-size: 12px; text-align: left; color: #c64840; padding-left: 2px; margin-top: 2px; } .thf-field-error span { padding-bottom: 2px; vertical-align: middle; font-size: 14px; font-weight: bold; } "],encapsulation:e.ViewEncapsulation.None,changeDetection:e.ChangeDetectionStrategy.OnPush}]}],n.ctorParameters=function(){return[]},n.propDecorators={label:[{type:e.Input,args:["t-label"]}],help:[{type:e.Input,args:["t-help"]}]},n}(l.ThfInputBaseComponent),E=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){t(e,n);function i(){this.constructor=e}e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),_=function(t){E(n,t);function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="number",e.step="",e}return Object.defineProperty(n.prototype,"setMin",{set:function(t){isNaN(parseInt(t,10))||(this.min=parseInt(t,10),this.validators.min=this.getValidatorMin(),this.updateValidators())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"setMax",{set:function(t){isNaN(parseInt(t,10))||(this.max=parseInt(t,10),this.validators.max=this.getValidatorMax(),this.updateValidators())},enumerable:!0,configurable:!0}),n.prototype.ngOnInit=function(){this.validators.min=this.getValidatorMin(),this.validators.max=this.getValidatorMax(),this._onInit()},n.prototype.getValidatorMin=function(){return this.min?i.Validators.min(this.min):null},n.prototype.getValidatorMax=function(){return this.max?i.Validators.max(this.max):null},n.decorators=[{type:e.Component,args:[{selector:"thf-number",template:' <thf-field-container [t-label]="label" [t-help]="help" [t-opcional]="!required"> <div class="thf-field-flex-container" > <input #inp [type]="type" class="thf-input-elem" (input)="eventOnInput($event)" (focus)="eventOnFocus($event)" (blur)="eventOnBlur($event)" [attr.name]="name" [attr.min]="min" [attr.max]="max" [attr.step]="step" [placeholder]="placeholder" [required]="required" [disabled]="disabled" [readonly]="readonly"> <thf-clean #clean (click)="cleanInput()" *ngIf="clean!==\'\' && !disabled"></thf-clean> </div> <div class="thf-field-error"> <div *ngIf="errorPattern!==\'\' && hasInvalidClass()" class="thf-field-error"> <span class="thf-icon thf-icon-close"></span> {{errorPattern}} </div> </div> </thf-field-container> ',styles:[".thf-input-elem { width: 100%; line-height: 24px; font-family: NunitoSans; font-size: 16px; border-radius: 3px; background-color: #ffffff; box-shadow: inset 0px 2px 8px 0 #edefef; border: solid 1px #b7bebf !important; padding: 10px 15px 8px 15px; margin-top: 8px; } .thf-input-elem:disabled { background-color: #edefef; border: solid 1px #b7bebf; } thf-input.ng-valid .thf-input-elem:focus, thf-email.ng-valid .thf-input-elem:focus, thf-url.ng-valid .thf-input-elem:focus, thf-number.ng-valid .thf-input-elem:focus { outline: none; border: solid 1px #0c9abe !important; border: solid 1px var(--water-blue); } thf-input.ng-invalid.ng-dirty input, thf-email.ng-invalid.ng-dirty input, thf-url.ng-invalid.ng-dirty input, thf-number.ng-invalid.ng-dirty input { outline: none; border: solid 1px #c64840 !important; } thf-input.ng-invalid.ng-dirty .thf-span-clean, thf-email.ng-invalid.ng-dirty .thf-span-clean, thf-url.ng-invalid.ng-dirty .thf-span-clean, thf-number.ng-invalid.ng-dirty .thf-span-clean { color: #c64840 !important; } .thf-field-flex-container { display: flex; } .thf-text-clean { position: relative; width: 0px; font-size: 25px; color: #0c9abe; right: 35px; top: 10px; text-decoration: none; cursor: pointer; } .thf-field-error { display: block; height: 20px; font-family: NunitoSans; font-size: 12px; text-align: left; color: #c64840; padding-left: 2px; margin-top: 2px; } .thf-field-error span { padding-bottom: 2px; vertical-align: middle; font-size: 14px; font-weight: bold; } "]}]}],n.ctorParameters=function(){return[]},n.propDecorators={label:[{type:e.Input,args:["t-label"]}],help:[{type:e.Input,args:["t-help"]}],setMin:[{type:e.Input,args:["t-min"]}],setMax:[{type:e.Input,args:["t-max"]}],step:[{type:e.Input,args:["t-step"]}]},n}(l.ThfInputBaseComponent),O=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){t(e,n);function i(){this.constructor=e}e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),I=function(t){O(n,t);function n(){return null!==t&&t.apply(this,arguments)||this}return n.decorators=[{type:e.Component,args:[{selector:"thf-radio-group",template:'<thf-field-container [t-label]="label" [t-help]="help" [t-opcional]="!required"> <div class="thf-input-radio-container" #inp> <div *ngFor="let option of options" class="thf-input-radio-outline"> <input class="thf-input-radio" type="radio" (keyup)="keyup()" [attr.name]="name" [required]="required" [disabled]="option.disabled === true || disabled" [readonly]="readonly" [value]="option.value" [checked]="selectCheckedValue === option.value"> <label [for]="name" class="thf-input-radio-label" (click)="eventClick(option.value, option.disabled === true || disabled)">{{option.label}} </label> </div> </div> </thf-field-container> ',styles:[".thf-input-radio { -webkit-appearance: none; -moz-appearance: none; position: absolute; width: 0px; height: 0px; margin: 0; outline: none; border: 1px solid transparent; background-color: transparent; } .thf-input-radio-label { height: 16px; font-family: NunitoSans; font-size: 16px; line-height: 1.5; text-align: left; color: #1e2526; margin: 0 6px 6px 6px; cursor: pointer; } .thf-input-radio + .thf-input-radio-label:before { width: 18px; height: 18px; margin-top: -2px; margin-right: 8px; display: inline-block; vertical-align: middle; background-color: #ffffff; box-shadow: inset 0px 2px 8px 0 #edefef; border: solid 1px #b7bebf; border-radius: 50%; content: ' '; } .thf-input-radio:checked + .thf-input-radio-label:before { background-color: #0c9abe; border: 1px solid #0c9abe; box-shadow: none; color: white; font-family: 'TotvsIcon' !important; line-height: 18px; content: 'e937'; font-weight: bold; padding-left: 1px; width: 17px; } .thf-input-radio:focus + .thf-input-radio-label:before { border: solid 1px #0c9abe !important; } .thf-input-radio:disabled + .thf-input-radio-label:before { background-color: #edefef; border: solid 1px #b7bebf; } .thf-input-radio:checked:disabled + .thf-input-radio-label:before { color: #b7bebf; width: 17px; } .thf-input-radio-container { padding-top: 10px; display: block; } .thf-input-radio-outline { padding-bottom: 20px; } "],encapsulation:e.ViewEncapsulation.None,changeDetection:e.ChangeDetectionStrategy.OnPush}]}],n.ctorParameters=function(){return[]},n.propDecorators={label:[{type:e.Input,args:["t-label"]}],help:[{type:e.Input,args:["t-help"]}]},n}(l.ThfRadioGroupBaseComponent),P=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){t(e,n);function i(){this.constructor=e}e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),F=function(t){P(n,t);function n(e,n,i,o){var a=t.call(this,e,n,o)||this;return a.open=!1,a.selectIcon="thf-icon-arrow-down",a.isNative=!1,i.listenGlobal("document","click",function(t){a.wasClickedOnToggle(t)}),a}return n.prototype.onKeydown=function(t){this.open||40!==t.keyCode&&38!==t.keyCode||(t.preventDefault(),this.toggleButton()),13!==t.keyCode&&32!==t.keyCode||(t.preventDefault(),this.toggleButton()),this.open&&9===t.keyCode&&(t.preventDefault(),this.toggleButton())},n.prototype.ngAfterViewInit=function(){this.isNative=s.checkIsNativeIOS()},n.prototype.toggleButton=function(){this.selectElement.nativeElement.focus(),this.selectIcon=this.open?"thf-icon-arrow-down":"thf-icon-arrow-up",this.options&&this.options.length&&this.selector(".thf-select-container").classList.toggle("thf-select-show"),this.open=!this.open},n.prototype.onSelectChange=function(t){var e=this;if(t&&this.options&&this.options.length){var n=this.options.find(function(n){return e.isEqual(n.value,t)});if(n){var i=this.options.indexOf(n);this.scrollTo(i),this.updateModel(n)}}},n.prototype.onOptionClick=function(t){this.toggleButton(),this.updateModel(t)},n.prototype.writeValue=function(t){var e=this;if(this.options&&this.options.length){var n=this.options.find(function(n){return e.isEqual(n.value,t)});n?(this.selectElement.nativeElement.value=n.value,this.selectedValue=n.value,this.displayValue=n.label):s.validValue(this.selectedValue)&&(this.selectElement.nativeElement.value=void 0,this.callModelChange(void 0),this.selectedValue=void 0,this.displayValue=void 0)}},n.prototype.updateModel=function(t){this.selectedValue=t.value,this.selectElement.nativeElement.value=t.value,this.callModelChange(t.value),this.displayValue=t.label,this.onChange()},n.prototype.callModelChange=function(t){return this.onModelChange?this.onModelChange(t):this.ngModelChange.emit(t)},n.prototype.scrollTo=function(t){var e=this.element.nativeElement.querySelector("ul.thf-select-content"),n=44*t;if(this.oldValue>n)return this.oldValue=n,void(e.scrollTop-=44);this.oldValue=n,e.scrollTop+=44},n.prototype.selector=function(t){return this.element.nativeElement.querySelector(t)},n.prototype.hideDropDown=function(){this.selectIcon="thf-icon-arrow-down",this.selector(".thf-select-container").classList.remove("thf-select-show"),this.open=!1},n.prototype.wasClickedOnToggle=function(t){this.selectButtonElement.nativeElement.contains(t.target)||this.iconElement.nativeElement.contains(t.target)||this.hideDropDown()},n.prototype.isEqual=function(t,e){return(t||0===t)&&e?t.toString()===e.toString():((null===t&&null!==e||void 0===t&&void 0!==e)&&(t=""+t),t===e)},n.decorators=[{type:e.Component,args:[{selector:"thf-select",template:'<thf-field-container [t-label]="label" [t-help]="help" [t-opcional]="!required"> <select #select [attr.name]="name" [required]="required" [disabled]="disabled" class="thf-select" (change)="onSelectChange($event.target.value)"> <option *ngFor="let option of options" [value]="option.value" (click)="onOptionClick(option)"> {{option?.label}} </option> </select> <div class="thf-select-container"> <div #selectButton class="thf-select-button" [ngClass]="{\'thf-select-button-disabled\' : disabled}" (click)="toggleButton()"> <span>{{ displayValue || placeholder }}</span> <span #icon class="thf-select-icon thf-icon {{selectIcon}}"></span> </div> <ul class="thf-select-content" [ngClass]="{\'thf-invisible\': isNative}"> <li *ngFor="let option of options" [value]="option.value" (click)="onOptionClick(option)" [class.thf-select-item-selected]="selectedValue == option.value"> <a class="thf-select-item"> {{option?.label}}</a> </li> </ul> </div> <div class="thf-field-error"> \x3c!-- Adicionado para corrigir o layout, existe outro item para acertar as mensagens de erro --\x3e <div *ngIf="false" class="thf-field-error"> <span class="thf-icon thf-icon-close"></span> {{ errorPattern }} </div> </div> </thf-field-container> ',encapsulation:e.ViewEncapsulation.None,changeDetection:e.ChangeDetectionStrategy.OnPush}]}],n.ctorParameters=function(){return[{type:e.ElementRef},{type:e.ChangeDetectorRef},{type:e.Renderer},{type:i.NgControl,decorators:[{type:e.Optional}]}]},n.propDecorators={selectElement:[{type:e.ViewChild,args:["select",{read:e.ElementRef}]}],iconElement:[{type:e.ViewChild,args:["icon",{read:e.ElementRef}]}],selectButtonElement:[{type:e.ViewChild,args:["selectButton",{read:e.ElementRef}]}],onKeydown:[{type:e.HostListener,args:["keydown",["$event"]]}]},n}(l.ThfSelectBaseComponent),N=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){t(e,n);function i(){this.constructor=e}e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),q=function(t){N(n,t);function n(){return null!==t&&t.apply(this,arguments)||this}return n.prototype.getLabelPosition=function(){switch(this.labelPosition){case l.ThfSwitchLabelPosition.Left:return"left";case l.ThfSwitchLabelPosition.Right:default:return"right"}},n.prototype.getSwitchPosition=function(){switch(this.labelPosition){case l.ThfSwitchLabelPosition.Left:return"right";case l.ThfSwitchLabelPosition.Right:default:return"left"}},n.decorators=[{type:e.Component,args:[{selector:"thf-switch",template:'<thf-field-container [t-label]="label" [t-help]="help" [t-opcional]="!required"> <div [attr.name]="name" class="thf-switch"> <div class="thf-switch-container thf-clickable" [class.thf-switch-container-right]="getSwitchPosition() === \'right\'" [class.thf-switch-container-on]="switchValue === true && !disabled" [class.thf-switch-container-off]="switchValue === false && !disabled" [class.thf-switch-container-disabled]="disabled" (click)="eventClick()"> <div class="thf-switch-button" [class.thf-switch-button-on]="switchValue === true" [class.thf-switch-button-off]="switchValue === false" [class.thf-switch-button-disabled]="disabled"> <span class="thf-icon thf-icon-{{ switchValue === true ? \'ok\' : \'close\' }}"></span> </div> </div> <span class="thf-switch-label thf-clickable thf-switch-label-{{ getLabelPosition() }}" (click)="eventClick()"> {{ switchValue === true ? labelOn : labelOff }} </span> </div> </thf-field-container> '}]}],n.ctorParameters=function(){return[]},n}(l.ThfSwitchBaseComponent),T=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){t(e,n);function i(){this.constructor=e}e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),L=function(t){T(n,t);function n(){return null!==t&&t.apply(this,arguments)||this}return n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[]},n}(l.ThfUploadBaseService),V=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){t(e,n);function i(){this.constructor=e}e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),z=function(t){V(n,t);function n(e,n,i){var o=t.call(this,i)||this;return o.elementRef=e,o.uploadService=n,o}return n.prototype.onClick=function(){this.elementRef.nativeElement.querySelector("input").click()},n.prototype.onFileChange=function(t){var e=t.target.files;this.currentFiles=this.currentFiles||[],this.currentFiles=this.parseFiles(e),this.updateModel(this.currentFiles),this.autoUpload&&this.uploadFiles(this.currentFiles)},n.prototype.updateModel=function(t){if(t&&0===t.length)return this.onModelChange?this.onModelChange(t):this.ngModelChange.emit(t);this.onModelChange?this.onModelChange(t):this.ngModelChange.emit(t)},n.prototype.uploadFiles=function(t){var e=this,n=t.filter(function(t){return t.status!==c.ThfUploadStatus.Uploaded});this.uploadService.upload(this.url,n,this.onUpload,function(t,n){e.uploadingHandler(t,n)},function(t,n){e.successHandler(t),e.onSuccess.emit(n)},function(t,n){e.errorHandler(t),e.onError.emit(n)})},n.prototype.stopUpload=function(t){var e=this;this.uploadService.stopRequestByFile(t,function(){e.autoUpload?e.removeFile(t):e.stopUploadHandler(t)})},n.prototype.stopUploadHandler=function(t){t.status=c.ThfUploadStatus.None,this.removeFileNameClass(t.uid),this.setProgressStatus(t.uid,0,!1),this.setUploadStatus(t,"thf-upload-progress",100)},n.prototype.uploadingHandler=function(t,e){t.status=c.ThfUploadStatus.Uploading,this.setProgressStatus(t.uid,e,!0),this.setUploadStatus(t,"thf-upload-progress",e)},n.prototype.successHandler=function(t){t.status=c.ThfUploadStatus.Uploaded,this.setProgressStatus(t.uid,0,!1),this.setUploadStatus(t,"thf-upload-progress-success",100)},n.prototype.errorHandler=function(t){t.status=c.ThfUploadStatus.Error,this.setProgressStatus(t.uid,0,!1),this.setUploadStatus(t,"thf-upload-progress-error",100)},n.prototype.isStatusFile=function(t,e){return e.status===c.ThfUploadStatus[t]},n.prototype.hasAnyFileUploading=function(t){return!(!t||!t.length)&&t.some(function(t){return t.status===c.ThfUploadStatus.Uploading})},n.prototype.getThfIcon=function(t){switch(t.status){case c.ThfUploadStatus.Uploaded:return"thf-icon-ok";case c.ThfUploadStatus.Error:return"thf-icon-close";case c.ThfUploadStatus.None:return"thf-icon-info";case c.ThfUploadStatus.Uploading:default:return""}},n.prototype.setUploadStatus=function(t,e,n){var i=t.uid,o=this.elementRef.nativeElement.querySelector("div[id='"+i+"'].thf-upload-progress");o.classList.remove("thf-upload-progress-error","thf-upload-progress-success"),o.classList.add(e),n>5&&t.status!==c.ThfUploadStatus.None&&this.addFileNameClass(i)},n.prototype.setProgressStatus=function(t,e,n){var i=this.elementRef.nativeElement.querySelector("div[id='"+t+"'].thf-upload-progress").querySelector(".thf-upload-progress-status"),o=n?"block":"none";i.setAttribute("style","display: "+o+";"),i.setAttribute("style","width: "+e+"%;")},n.prototype.removeFile=function(t){var e=this.currentFiles.indexOf(t);this.currentFiles.splice(e,1)},n.prototype.getFileSize=function(t){var e=0;return t&&(e=Math.ceil(t/1024)),e+" KB"},n.prototype.writeValue=function(t){t&&(this.currentFiles=this.parseFiles(t))},n.prototype.addFileNameClass=function(t){this.elementRef.nativeElement.querySelector("div[id='"+t+"'].thf-upload-progress").querySelector(".thf-upload-filename").classList.add("thf-upload-filename-loading")},n.prototype.removeFileNameClass=function(t){this.elementRef.nativeElement.querySelector("div[id='"+t+"'].thf-upload-progress").querySelector(".thf-upload-filename").classList.remove("thf-upload-filename-loading")},n.prototype.parseFiles=function(t){for(var e=this.currentFiles||[],n=t.length,i=0;i<n;i++){var o=new p.ThfUploadFile(t[i]);this.checkRestrictions(o)&&(this.isMultiple?e.push(o):e.splice(0,1,o))}return e},n.prototype.checkRestrictions=function(t){var e=this.fileRestrictions;if(e){var n=e.allowedExtensions,i=e.minFileSize||0,o=e.maxFileSize||31457280,a=!n||this.isAllowedExtension(t.extension,n),r=t.size>=i&&t.size<=o;return a&&r}return!0},n.prototype.isAllowedExtension=function(t,e){return e.some(function(e){return e.toLowerCase()===t})},n.decorators=[{type:e.Component,args:[{selector:"thf-upload",template:'<thf-field-container [t-label]="label" [t-help]="help" [t-opcional]="!required"> <div class="thf-upload"> <div (click)="onClick()"> <input type="file" [name]="name" [id]="id" (change)="onFileChange($event)" [accept]="fileRestrictions?.allowedExtensions" [multiple]="isMultiple" class="thf-upload-input" [disabled]="hasAnyFileUploading(currentFiles) || !url || disabled"> <div for="file" class="thf-upload-button" [ngClass]="{\'thf-upload-button-disabled\': hasAnyFileUploading(currentFiles) || !url || disabled}"> Selecionar arquivo </div> </div> <div class="thf-upload-progress" *ngFor="let file of currentFiles" [id]="file.uid"> <div class="thf-upload-progress-status"></div> <div class="thf-upload-filename-foreground"> <div class="thf-upload-filename"> <span class="thf-icon {{ getThfIcon(file) }}"></span> {{ file.name }} - {{ getFileSize(file.size) }} </div> <div (click)="removeFile(file)" *ngIf="isStatusFile(\'None\', file)"> <span class="thf-upload-action"> Excluir </span> </div> <div (click)="stopUpload(file)" *ngIf="isStatusFile(\'Uploading\', file)"> <span class="thf-upload-action"> Cancelar </span> </div> <div (click)="uploadFiles([file])" *ngIf="isStatusFile(\'Error\', file)"> <span class="thf-upload-action"> Tentar Novamente </span> </div> </div> </div> <thf-button *ngIf="!autoUpload && currentFiles?.length > 0" [t-disabled]="hasAnyFileUploading(currentFiles)" t-primary="true" t-label="Iniciar envio" (t-click)="uploadFiles(currentFiles)"> </thf-button> </div> </thf-field-container> ',providers:[L]}]}],n.ctorParameters=function(){return[{type:e.ElementRef},{type:L},{type:i.NgControl,decorators:[{type:e.Optional}]}]},n}(l.ThfUploadBaseComponent),Y=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){t(e,n);function i(){this.constructor=e}e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),j=function(t){Y(n,t);function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.maxlength=254,e.type="url",e.pattern="^((https|http):\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$",e.mask="",e}return Object.defineProperty(n.prototype,"setMaxlength",{set:function(t){isNaN(parseInt(t,10))||(this.maxlength=parseInt(t,10))},enumerable:!0,configurable:!0}),n.decorators=[{type:e.Component,args:[{selector:"thf-url",template:' <thf-field-container [t-label]="label" [t-help]="help" [t-opcional]="!required"> <div class="thf-field-flex-container" > <input #inp [type]="type" class="thf-input-elem" (input)="eventOnInput($event)" (focus)="eventOnFocus($event)" (blur)="eventOnBlur($event)" (click)="eventOnClick($event)" [attr.name]="name" [placeholder]="placeholder" [required]="required" [disabled]="disabled" [readonly]="readonly"> <thf-clean #clean (click)="cleanInput()" *ngIf="clean!==\'\' && !disabled"></thf-clean> </div> <div class="thf-field-error"> <div *ngIf="errorPattern!==\'\' && hasInvalidClass()" class="thf-field-error"> <span class="thf-icon thf-icon-close"></span> {{errorPattern}} </div> </div> </thf-field-container> ',styles:[".thf-input-elem { width: 100%; line-height: 24px; font-family: NunitoSans; font-size: 16px; border-radius: 3px; background-color: #ffffff; box-shadow: inset 0px 2px 8px 0 #edefef; border: solid 1px #b7bebf !important; padding: 10px 15px 8px 15px; margin-top: 8px; } .thf-input-elem:disabled { background-color: #edefef; border: solid 1px #b7bebf; } thf-input.ng-valid .thf-input-elem:focus, thf-email.ng-valid .thf-input-elem:focus, thf-url.ng-valid .thf-input-elem:focus, thf-number.ng-valid .thf-input-elem:focus { outline: none; border: solid 1px #0c9abe !important; border: solid 1px var(--water-blue); } thf-input.ng-invalid.ng-dirty input, thf-email.ng-invalid.ng-dirty input, thf-url.ng-invalid.ng-dirty input, thf-number.ng-invalid.ng-dirty input { outline: none; border: solid 1px #c64840 !important; } thf-input.ng-invalid.ng-dirty .thf-span-clean, thf-email.ng-invalid.ng-dirty .thf-span-clean, thf-url.ng-invalid.ng-dirty .thf-span-clean, thf-number.ng-invalid.ng-dirty .thf-span-clean { color: #c64840 !important; } .thf-field-flex-container { display: flex; } .thf-text-clean { position: relative; width: 0px; font-size: 25px; color: #0c9abe; right: 35px; top: 10px; text-decoration: none; cursor: pointer; } .thf-field-error { display: block; height: 20px; font-family: NunitoSans; font-size: 12px; text-align: left; color: #c64840; padding-left: 2px; margin-top: 2px; } .thf-field-error span { padding-bottom: 2px; vertical-align: middle; font-size: 14px; font-weight: bold; } "]}]}],n.ctorParameters=function(){return[]},n.propDecorators={label:[{type:e.Input,args:["t-label"]}],help:[{type:e.Input,args:["t-help"]}],setMaxlength:[{type:e.Input,args:["t-maxlength"]}]},n}(l.ThfInputBaseComponent),A=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule,i.FormsModule,o.HttpClientModule,u],exports:[v,k,C,S,_,I,F,q,z,j],declarations:[y,v,m,k,C,D,S,_,I,F,q,z,j],providers:[g,f],entryComponents:[y]}]}],t.ctorParameters=function(){return[]},t}();t.ThfFieldModule=A,Object.defineProperty(t,"__esModule",{value:!0})});