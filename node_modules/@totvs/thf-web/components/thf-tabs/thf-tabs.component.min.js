var __extends=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){t(e,n);function o(){this.constructor=e}e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();import{Component,ContentChildren,ViewChild,ViewContainerRef,ComponentFactoryResolver}from"@angular/core";import{ThfTabsBaseComponent}from"@totvs/thf-core/components/thf-tabs-base";import{ThfTabButtonComponent}from"./thf-tab-button/thf-tab-button.component";import{ThfTabComponent}from"./thf-tab/thf-tab.component";var ThfTabsComponent=function(t){__extends(e,t);function e(e){var n=t.call(this)||this;return n.resolver=e,n.listButtons=[],n.created=!1,n}return e.prototype.ngAfterContentInit=function(){var t=this,e=this.resolver.resolveComponentFactory(ThfTabButtonComponent),n=this.calculateWidth(this.countVisibledTabs());this.tabsChild.forEach(function(o){var a=t.nav.createComponent(e);a.instance.label=o.label,a.instance.id=o.id,a.instance.active=o.active,a.instance.hide=o.hide,a.instance.disabled=o.disabled,a.instance.width=n,a.instance.small=t.small,a.instance.clickCallback=o.click,a.instance.clickTab.subscribe(function(e){return t.selectedTab(e)}),t.listButtons.push(a.instance)}),this.created=!0},e.prototype.ngAfterViewChecked=function(){var t=this;if(this.created){var e=!1,n=null,o=null,a=this.calculateWidth(this.countVisibledTabs());this.tabsChild.forEach(function(i){t.listButtons.forEach(function(t){t.id===i.id&&(t.width=a,t.active=i.active,i.disabled||i.hide?i.active&&(i.active=!1,t.active=!1,e=!0):e?n||(n=i,o=t):(n=i,o=t),t.disabled=i.disabled,t.hide=i.hide)})}),e&&n&&(n.active=!0,o.active=!0)}},e.prototype.selectedTab=function(t){this.tabsChild.forEach(function(e){e.active=e.id===t}),this.listButtons.forEach(function(e){e.id===t?e.active=!0:e.active=!1})},e.prototype.countVisibledTabs=function(){var t=0;return this.tabsChild.forEach(function(e){t=e.hide?t:t+1}),t},e.prototype.calculateWidth=function(t){var e=parseFloat((100/t).toFixed(2));return e*t>100&&(e=parseFloat(String(e).substring(0,String(e).length-1))),e},e.decorators=[{type:Component,args:[{selector:"thf-tabs",template:'<div class="thf-tabs-parent"> <div #nav></div> </div> <div class="thf-tabs-container"> <ng-content></ng-content> </div> ',styles:[".thf-tabs-parent { width: 100%; display: table; } .thf-tabs-container { padding-top: 5px; } "]}]}],e.ctorParameters=function(){return[{type:ComponentFactoryResolver}]},e.propDecorators={tabsChild:[{type:ContentChildren,args:[ThfTabComponent]}],nav:[{type:ViewChild,args:["nav",{read:ViewContainerRef}]}]},e}(ThfTabsBaseComponent);export{ThfTabsComponent};function ThfTabsComponent_tsickle_Closure_declarations(){ThfTabsComponent.decorators,ThfTabsComponent.ctorParameters,ThfTabsComponent.propDecorators,ThfTabsComponent.prototype.tabsChild,ThfTabsComponent.prototype.nav,ThfTabsComponent.prototype.listButtons,ThfTabsComponent.prototype.created,ThfTabsComponent.prototype.resolver}