!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular/common"),require("@totvs/thf-core/components/thf-tabs-base")):"function"==typeof define&&define.amd?define(["exports","@angular/core","@angular/common","@totvs/thf-core/components/thf-tabs-base"],e):e(t["thf-tabs"]={},t.core,t.common,t.thfTabsBase)}(this,function(t,e,n,i){"use strict";var o=function(){function t(t){this.el=t,this.clickCallback=new e.EventEmitter,this.clickTab=new e.EventEmitter}return t.prototype.onClick=function(t){this.disabled||(this.clickTab.emit(this.id),this.clickCallback.emit(this.id))},t.prototype.controlDisabled=function(){this.disabled?this.el.nativeElement.classList.add("thf-tab-disabled"):this.el.nativeElement.classList.remove("thf-tab-disabled")},t.prototype.controlActive=function(){this.active?this.el.nativeElement.classList.add("thf-tab-active"):this.el.nativeElement.classList.remove("thf-tab-active")},t.prototype.ngAfterViewChecked=function(){this.hide?this.el.nativeElement.style.display="none":(this.el.nativeElement.style.display="",this.el.nativeElement.style.width=this.width+"%"),this.controlDisabled(),this.controlActive()},t.decorators=[{type:e.Component,args:[{selector:"thf-tab-button",template:"<div #tab [ngClass]=\"{'thf-tab-size1': !small, 'thf-tab-size2': small}\"> {{label}} </div> ",styles:[":host(thf-tab-button) { background-color: red; display: table-cell; background-color: transparent; box-shadow: inset 0 -1px 0 0 #edefef; text-align: center; vertical-align: middle; font-family: NunitoSans; font-weight: bold; color: #0c9abe; cursor: pointer; } :host(thf-tab-button) .thf-tab-size1 { display: inline-flex; align-items: center; text-align: center; height: 44px; font-size: 16px; } :host(thf-tab-button) .thf-tab-size2 { display: inline-flex; align-items: center; text-align: center; height: 32px; font-size: 14px; } :host(thf-tab-button) .thf-tab-hidden { display: none; } :host(thf-tab-button).thf-tab-disabled { color: rgba(0, 0, 0, 0.4); cursor: initial; } :host(thf-tab-button).thf-tab-active { box-shadow: inset 0 -3px 0 0 #29b6c5; } "]}]}],t.ctorParameters=function(){return[{type:e.ElementRef}]},t.propDecorators={id:[{type:e.Input}],active:[{type:e.Input}],label:[{type:e.Input}],width:[{type:e.Input}],small:[{type:e.Input}],disabled:[{type:e.Input}],hide:[{type:e.Input}],clickCallback:[{type:e.Output}],clickTab:[{type:e.Output}],tab:[{type:e.ViewChild,args:["tab"]}],onClick:[{type:e.HostListener,args:["click",["$event"]]}]},t}(),a=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){t(e,n);function i(){this.constructor=e}e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),s=function(t){a(n,t);function n(e){var n=t.call(this)||this;return n.el=e,n}return n.prototype.ngAfterViewChecked=function(){this.el.nativeElement.style.display=this.active?"":"none"},n.decorators=[{type:e.Component,args:[{selector:"thf-tab",template:'<div id="content_tab_{{id}}"> <ng-content></ng-content> </div> '}]}],n.ctorParameters=function(){return[{type:e.ElementRef}]},n}(i.ThfTabBaseComponent),r=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){t(e,n);function i(){this.constructor=e}e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),c=function(t){r(n,t);function n(e){var n=t.call(this)||this;return n.resolver=e,n.listButtons=[],n.created=!1,n}return n.prototype.ngAfterContentInit=function(){var t=this,e=this.resolver.resolveComponentFactory(o),n=this.calculateWidth(this.countVisibledTabs());this.tabsChild.forEach(function(i){var o=t.nav.createComponent(e);o.instance.label=i.label,o.instance.id=i.id,o.instance.active=i.active,o.instance.hide=i.hide,o.instance.disabled=i.disabled,o.instance.width=n,o.instance.small=t.small,o.instance.clickCallback=i.click,o.instance.clickTab.subscribe(function(e){return t.selectedTab(e)}),t.listButtons.push(o.instance)}),this.created=!0},n.prototype.ngAfterViewChecked=function(){var t=this;if(this.created){var e=!1,n=null,i=null,o=this.calculateWidth(this.countVisibledTabs());this.tabsChild.forEach(function(a){t.listButtons.forEach(function(t){t.id===a.id&&(t.width=o,t.active=a.active,a.disabled||a.hide?a.active&&(a.active=!1,t.active=!1,e=!0):e?n||(n=a,i=t):(n=a,i=t),t.disabled=a.disabled,t.hide=a.hide)})}),e&&n&&(n.active=!0,i.active=!0)}},n.prototype.selectedTab=function(t){this.tabsChild.forEach(function(e){e.active=e.id===t}),this.listButtons.forEach(function(e){e.id===t?e.active=!0:e.active=!1})},n.prototype.countVisibledTabs=function(){var t=0;return this.tabsChild.forEach(function(e){t=e.hide?t:t+1}),t},n.prototype.calculateWidth=function(t){var e=parseFloat((100/t).toFixed(2));return e*t>100&&(e=parseFloat(String(e).substring(0,String(e).length-1))),e},n.decorators=[{type:e.Component,args:[{selector:"thf-tabs",template:'<div class="thf-tabs-parent"> <div #nav></div> </div> <div class="thf-tabs-container"> <ng-content></ng-content> </div> ',styles:[".thf-tabs-parent { width: 100%; display: table; } .thf-tabs-container { padding-top: 5px; } "]}]}],n.ctorParameters=function(){return[{type:e.ComponentFactoryResolver}]},n.propDecorators={tabsChild:[{type:e.ContentChildren,args:[s]}],nav:[{type:e.ViewChild,args:["nav",{read:e.ViewContainerRef}]}]},n}(i.ThfTabsBaseComponent),l=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule],declarations:[c,s,o],entryComponents:[o],exports:[c,s]}]}],t.ctorParameters=function(){return[]},t}();t.ThfTabsModule=l,Object.defineProperty(t,"__esModule",{value:!0})});