!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular/common"),require("@totvs/thf-core/components/thf-avatar-base"),require("@totvs/thf-core/components/thf-button-base"),require("@progress/kendo-angular-charts"),require("@totvs/thf-core/components/thf-chart-base"),require("@totvs/thf-core/components/thf-chart-base/thf-chart-colors.constant"),require("hammerjs"),require("@angular/router"),require("@angular/forms"),require("@angular/common/http"),require("@totvs/thf-core/utils/util"),require("@totvs/thf-core/components/thf-field-base"),require("@totvs/thf-core/utils"),require("@totvs/thf-core/components/thf-field-base/thf-upload-base/thf-upload-file"),require("@totvs/thf-core/components/thf-field-base/thf-upload-base/thf-upload-status.enum"),require("@progress/kendo-angular-grid"),require("@progress/kendo-data-query"),require("@totvs/thf-core/components/thf-grid-base/thf-grid-base.component"),require("@totvs/thf-core/components/thf-modal-base"),require("@totvs/thf-core/components/thf-menu-base"),require("@totvs/thf-core/components/thf-page-base"),require("@totvs/thf-core/components/thf-page-base/thf-page-base.component"),require("@totvs/thf-core/components/thf-tabs-base"),require("@angular/platform-browser"),require("@totvs/thf-core/components/thf-toolbar-base"),require("@totvs/thf-core/components/thf-widget-base")):"function"==typeof define&&define.amd?define(["exports","@angular/core","@angular/common","@totvs/thf-core/components/thf-avatar-base","@totvs/thf-core/components/thf-button-base","@progress/kendo-angular-charts","@totvs/thf-core/components/thf-chart-base","@totvs/thf-core/components/thf-chart-base/thf-chart-colors.constant","hammerjs","@angular/router","@angular/forms","@angular/common/http","@totvs/thf-core/utils/util","@totvs/thf-core/components/thf-field-base","@totvs/thf-core/utils","@totvs/thf-core/components/thf-field-base/thf-upload-base/thf-upload-file","@totvs/thf-core/components/thf-field-base/thf-upload-base/thf-upload-status.enum","@progress/kendo-angular-grid","@progress/kendo-data-query","@totvs/thf-core/components/thf-grid-base/thf-grid-base.component","@totvs/thf-core/components/thf-modal-base","@totvs/thf-core/components/thf-menu-base","@totvs/thf-core/components/thf-page-base","@totvs/thf-core/components/thf-page-base/thf-page-base.component","@totvs/thf-core/components/thf-tabs-base","@angular/platform-browser","@totvs/thf-core/components/thf-toolbar-base","@totvs/thf-core/components/thf-widget-base"],e):e(t.components={},t.core,t.common,t.thfAvatarBase,t.thfButtonBase,t.kendoAngularCharts,t.thfChartBase,t.thfChartColors_constant,null,t.router,t.forms,t.http,t.util,t.thfFieldBase,t.utils,t.thfUploadFile,t.thfUploadStatus_enum,t.kendoAngularGrid,t.kendoDataQuery,t.thfGridBase_component,t.thfModalBase,t.thfMenuBase,t.thfPageBase,t.thfPageBase_component,t.thfTabsBase,t.platformBrowser,t.thfToolbarBase,t.thfWidgetBase)}(this,function(t,e,n,o,i,a,r,s,l,c,p,d,h,u,f,m,g,b,y,v,x,w,k,C,I,M,_,E){"use strict";var O=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){t(e,n);function o(){this.constructor=e}e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),A=function(t){O(n,t);function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.defaultSrc="./assets/images/totvs-avatar-default.svg",e}return n.prototype.ngOnInit=function(){this.src||(this.src=this.defaultSrc)},n.prototype.onError=function(){this.src=this.defaultSrc},n.decorators=[{type:e.Component,args:[{selector:"thf-avatar",template:'<div class="thf-avatar thf-avatar-{{size}}"> <img [src]="src" alt="" (error)="onError()" class="thf-avatar-image" > </div> '}]}],n.ctorParameters=function(){return[]},n}(o.ThfAvatarBaseComponent),D=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule],declarations:[A],exports:[A],providers:[],schemas:[]}]}],t.ctorParameters=function(){return[]},t}(),P=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){t(e,n);function o(){this.constructor=e}e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),S=function(t){P(n,t);function n(){return null!==t&&t.apply(this,arguments)||this}return n.decorators=[{type:e.Component,args:[{selector:"thf-button",template:'<button class="thf-button" type="button" id="{{ id }}" [disabled]="disabled" [ngClass]="{ \'thf-button--primary\' : primary, \'thf-button--sm\' : small }" (click)="onClick()"> <span *ngIf="icon" class="thf-icon {{ icon }}" aria-hidden="true"></span> {{ label }} </button> ',providers:[]}]}],n.ctorParameters=function(){return[]},n}(i.ThfButtonBaseComponent),R=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule],declarations:[S],exports:[S]}]}],t.ctorParameters=function(){return[]},t}(),F=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){t(e,n);function o(){this.constructor=e}e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),T=function(t){F(n,t);function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.label={color:"#fff",background:"#0c9abe",border:{color:"#0c9abe"}},e}return n.prototype.getSeriesColor=function(){if(this.series){var t=this.typeChart,e=this.series.length-1;if("donut"===t||"funnel"===t||"pie"===t){var n=this.series[e].data.length-1;return s.ThfChartColors[n]}return e=e>=12?11:e,s.ThfChartColors[e]}return s.ThfChartColors[11]},n.decorators=[{type:e.Component,args:[{selector:"thf-chart",encapsulation:e.ViewEncapsulation.None,template:'<kendo-chart [seriesColors]="getSeriesColor()" [style.height]="height" [categoryAxis]="{\'categories\': categories}" (seriesClick)="onSeriesClick($event)" (seriesHover)="onSeriesHover($event)"> <kendo-chart-title [text]="title"> </kendo-chart-title> <kendo-chart-legend position="bottom" orientation="horizontal"> </kendo-chart-legend> <kendo-chart-tooltip> </kendo-chart-tooltip> <kendo-chart-value-axis> <kendo-chart-value-axis-item [max]="maxValue" [min]="minValue"> </kendo-chart-value-axis-item> </kendo-chart-value-axis> <kendo-chart-series> <kendo-chart-series-item *ngFor="let serie of series" [name]="serie.name" [type]="typeChart" [data]="serie.data"> <kendo-chart-series-item-labels [visible]="labelVisible" [color]="label.color" [background]="label.background" [border]="label.border"> </kendo-chart-series-item-labels> </kendo-chart-series-item> </kendo-chart-series> </kendo-chart> '}]}],n.ctorParameters=function(){return[]},n}(r.ThfChartBaseComponent),N=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[a.ChartModule,n.CommonModule],declarations:[T],exports:[T]}]}],t.ctorParameters=function(){return[]},t}(),V=function(){function t(t,e,n){this._element=t,this._view=e,this._router=n,this._open=!1,this.icon="thf-icon-arrow-down",this._parentRef=e._view.component,this._addListenerCloseDropdown()}return t.prototype.toggleButton=function(){this.icon=this._open?"thf-icon-arrow-down":"thf-icon-arrow-up",this.actions&&this.actions.length&&this._selector(".dropdown").classList.toggle("t-show"),this._open=!this._open},t.prototype.onClick=function(t){if(t.url){var e=t.url;/(http(s?))\:\/\//gi.test(e)?window.open(e,"_blank"):this._router.navigate([e])}else t.action&&this._callAction(t.action)},t.prototype._addListenerCloseDropdown=function(){var t=this;window.onclick=function(e){"button-dropdown"!==(e.target&&e.target.getAttribute("class"))&&t._open&&t.toggleButton()}},t.prototype._callAction=function(t){this._callActionOfContext(t,this._parentRef)},t.prototype._callActionOfContext=function(t,e){this._isTypeof(t,"function")?t.call(e):e[t]()},t.prototype._selector=function(t){return this._element.nativeElement.querySelector(t)},t.prototype._isTypeof=function(t,e){return typeof t===e},t.decorators=[{type:e.Component,args:[{selector:"thf-dropdown",template:'<div class="dropdown"> <div class="button-dropdown" [ngClass]="{\'disabled\' : disabled}" (click)="toggleButton()"> {{label}} <div class="hidden-xs icon-dropdown thf-icon {{icon}}" (click)="toggleButton()"></div> </div> <ul class="dropdown-content"> <li *ngFor="let action of actions"> <a (click)="onClick(action)" [ngClass]="{\'disabled\' : action.disabled}"> {{action?.label}} </a> </li> </ul> </div> ',styles:[".dropdown { position: relative; display: inline-block; width: inherit; } .dropdown.t-show > .button-dropdown { border-bottom-left-radius: 0; border-bottom-right-radius: 0; border-bottom: none; } .dropdown.t-show > .dropdown-content { display: block !important; } div.button-dropdown { cursor: pointer; line-height: 24px; font-size: 16px; height: 44px; border-radius: 3px; padding: 9px 38px 9px 16px; background-color: #ffffff; border: solid 1px #0c9abe; color: #0c9abe; } div.button-dropdown > span { padding-top: 3px; } div.button-dropdown.disabled { background-color: #ffffff; border: solid 1px #4a5c60; opacity: 0.4; } div.button-dropdown:hover { color: #0a7b98; border: solid 1px #0a7b98; } ul.dropdown-content { display: none; position: absolute; background-color: #ffffff; border: solid 1px #0c9abe; border-top: none; z-index: 1; width: 100%; max-height: 175px; overflow-y: auto; list-style-type: none; padding: 0; border-bottom-left-radius: 3px; border-bottom-right-radius: 3px; } ul.dropdown-content > li > a { color: #0c9abe; padding: 10px 16px; text-decoration: none; display: block; cursor: pointer; word-wrap: break-word; line-height: 1.5; } ul.dropdown-content > li > a:hover { color: #0a7b98; } ul.dropdown-content > li > a:active { color: #075c72; } .disabled { pointer-events: none; color: #b7bebf !important; } .icon-dropdown { font-size: 24px; right: 10px; top: 10px; position: absolute; } ::-webkit-scrollbar { width: 7px; } ::-webkit-scrollbar-track { display: none; } ::-webkit-scrollbar-thumb { border-radius: 10px; background-color: #0c9abe; } "]}]}],t.ctorParameters=function(){return[{type:e.ElementRef},{type:e.ViewContainerRef},{type:c.Router}]},t.propDecorators={disabled:[{type:e.Input,args:["t-disabled"]}],label:[{type:e.Input,args:["t-label"]}],actions:[{type:e.Input,args:["t-actions"]}]},t}(),B=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule],declarations:[V],exports:[V]}]}],t.ctorParameters=function(){return[]},t}(),L=function(){function t(){this.months=[{pt:"Janeiro",en:"January",es:"Enero"},{pt:"Fevereiro",en:"February",es:"Febrero"},{pt:"Março",en:"March",es:"Marzo"},{pt:"Abril",en:"April",es:"Abril"},{pt:"Maio",en:"May",es:"Mayo"},{pt:"Junho",en:"June",es:"Junio"},{pt:"Julho",en:"July",es:"Julio"},{pt:"Agosto",en:"August",es:"Agosto"},{pt:"Setembro",en:"September",es:"Setiembre"},{pt:"Outubro",en:"October",es:"Octubre"},{pt:"Novembro",en:"November",es:"Noviembre"},{pt:"Dezembro",en:"December",es:"Diciembre"}],this.shortWeekDays=[{pt:"Dom",en:"Sun",es:"Dom"},{pt:"Seg",en:"Mon",es:"Lun"},{pt:"Ter",en:"Tue",es:"Mar"},{pt:"Qua",en:"Wed",es:"Mié"},{pt:"Qui",en:"Thu",es:"Jue"},{pt:"Sex",en:"Fri",es:"Vie"},{pt:"Sáb",en:"Sat",es:"Sáb"}],this.wordMonth={pt:"Mês",en:"Month",es:"Mes"},this.wordYear={pt:"Ano",en:"Year",es:"Año"},this.lang="en"}return t.prototype.setLanguage=function(t){t&&t.length>=2&&(t=t.toLowerCase().slice(0,2),this.lang="pt"===t||"en"===t||"es"===t?t:"pt")},t.prototype.getWordMonth=function(){return this.wordMonth[this.lang]},t.prototype.getWordYear=function(){return this.wordYear[this.lang]},t.prototype.getMonth=function(t){return this.months[t][this.lang]},t.prototype.getArrayMonths=function(){for(var t=Array(),e=0;e<this.months.length;e++)t.push(this.months[e][this.lang]);return t},t.prototype.getWeedDays=function(t){return this.shortWeekDays[t][this.lang]},t.prototype.getArrayWeekDays=function(){for(var t=Array(),e=0;e<this.shortWeekDays.length;e++)t.push(this.shortWeekDays[e][this.lang]);return t},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[]},t}(),j=function(){function t(){this.firstWeekDay=0}return t.prototype.weekStartDate=function(t){for(var e=new Date(t.getTime());e.getDay()!==this.firstWeekDay;)e.setDate(e.getDate()-1);return e},t.prototype.monthDates=function(t,e,n,o){if(void 0===n&&(n=null),void 0===o&&(o=null),"number"!=typeof e||e<0||e>11)throw Error("month must be a number (Jan is 0)");var i=[],a=[],r=0,s=this.weekStartDate(new Date(t,e,1));do{for(r=0;r<7;r++)a.push(n?n(s):s),(s=new Date(s.getTime())).setDate(s.getDate()+1);i.push(o?o(a):a),a=[]}while(s.getMonth()<=e&&s.getFullYear()===t);return i},t.prototype.monthDays=function(t,e){return this.monthDates(t,e,function(t){return t.getMonth()===e?t:0})},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[]},t}(),q=function(){function t(t,n,o){this.elementRef=t,this.dateChange=new e.EventEmitter,this.submit=new e.EventEmitter,this.today=new Date,this.isMobile=h.isMobile,this.displayMonths=Array(),this.displayWeedDays=Array(),this.thfCalendarService=n,this.thfCalendarLangService=o}return Object.defineProperty(t.prototype,"date",{get:function(){return this._date},set:function(t){t&&(this._date=t,this.updateDate(t))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dateStart",{get:function(){return this._dateStart},set:function(t){if(t){var e=t.getFullYear(),n=t.getMonth(),o=t.getDate();this._dateStart=new Date(e,n,o,0,0,0)}else this._dateStart=void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dateEnd",{get:function(){return this._dateEnd},set:function(t){if(t){var e=t.getFullYear(),n=t.getMonth(),o=t.getDate();this._dateEnd=new Date(e,n,o,23,59,59)}else this._dateEnd=void 0},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){this.thfCalendarLangService.setLanguage(this.locale),this.displayWeedDays=this.thfCalendarLangService.getArrayWeekDays(),this.displayMonths=this.thfCalendarLangService.getArrayMonths(),this.init()},t.prototype.init=function(){this.date||(this.date=new Date),this.selectDay(),this.updateDate(this.date),this.isMobile()&&this.setMobileVisualization()},t.prototype.setMobileVisualization=function(){var t=this.elementRef.nativeElement.querySelector(".thf-calendar-overlay");this.elementRef.nativeElement.querySelector(".thf-calendar").classList.add("thf-calendar-mobile"),t.classList.remove("thf-invisible")},t.prototype.updateDate=function(t){this.currentMonthNumber=t.getMonth(),this.currentMonth=this.displayMonths[this.currentMonthNumber],this.currentYear=t.getFullYear(),this.currentDay=t.getDate(),this.currentDayOfWeek=this.displayWeedDays[t.getDay()],this.updateDisplay(this.currentYear,this.currentMonthNumber)},t.prototype.updateDisplay=function(t,e){var n=this.thfCalendarService.monthDays(t,e);this.displayDays=[].concat.apply([],n),this.displayMonthNumber=e,this.displayMonth=this.displayMonths[e],this.displayYear=t,this.getArrayDecade(t)},t.prototype.equalsDate=function(t,e){try{return t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth()&&t.getDate()===e.getDate()}catch(t){return!1}},t.prototype.selectDay=function(){this.elDays.nativeElement.classList.remove("thf-invisible"),this.elMonths.nativeElement.classList.add("thf-invisible"),this.elYears.nativeElement.classList.add("thf-invisible"),this.lastDisplay="day"},t.prototype.selectMonth=function(){this.elDays.nativeElement.classList.add("thf-invisible"),this.elMonths.nativeElement.classList.remove("thf-invisible"),this.elYears.nativeElement.classList.add("thf-invisible"),this.lastDisplay="month"},t.prototype.selectYear=function(){this.elDays.nativeElement.classList.add("thf-invisible"),this.elMonths.nativeElement.classList.add("thf-invisible"),this.elYears.nativeElement.classList.remove("thf-invisible")},t.prototype.getDayBackgroundColor=function(t){return this.equalsDate(t,this.date)?"thf-calendar-box-background-selected":this.equalsDate(t,this.today)?"thf-calendar-box-background-today":t?this.dateInRange(t)?"thf-calendar-box-background":"thf-calendar-box-background-disabled":""},t.prototype.getDayForegroundColor=function(t){return this.equalsDate(t,this.date)?"thf-calendar-box-foreground-selected":this.equalsDate(t,this.today)?"thf-calendar-box-foreground-today":this.dateInRange(t)?"thf-calendar-box-foreground":"thf-calendar-box-foreground-disabled"},t.prototype.dateInRange=function(t){return this._dateStart&&!this._dateEnd?t>=this._dateStart:this._dateEnd&&!this._dateStart?t<=this._dateEnd:!this._dateStart||!this._dateEnd||t>=this._dateStart&&t<=this._dateEnd},t.prototype.getMonthBackgroundColor=function(t){return t===this.displayMonthNumber?"thf-calendar-box-background-selected":"thf-calendar-box-background"},t.prototype.getMonthForegroundColor=function(t){return t===this.displayMonthNumber?"thf-calendar-box-foreground-selected":"thf-calendar-box-foreground"},t.prototype.getYearBackgroundColor=function(t){return t===this.currentYear?"thf-calendar-box-background-selected":"thf-calendar-box-background"},t.prototype.getYearForegroundColor=function(t){return t===this.currentYear?"thf-calendar-box-foreground-selected":"thf-calendar-box-foreground"},t.prototype.onPrevMonth=function(){this.displayMonthNumber>0?this.updateDisplay(this.displayYear,this.displayMonthNumber-1):this.updateDisplay(this.displayYear-1,11)},t.prototype.onNextMonth=function(){this.displayMonthNumber<11?this.updateDisplay(this.displayYear,this.displayMonthNumber+1):this.updateDisplay(this.displayYear+1,0)},t.prototype.onPrevYear=function(){this.updateDisplay(this.displayYear-1,this.displayMonthNumber)},t.prototype.onNextYear=function(){this.updateDisplay(this.displayYear+1,this.displayMonthNumber)},t.prototype.onPrevDecade=function(){this.updateDisplay(this.displayYear-10,this.displayMonthNumber)},t.prototype.onNextDecade=function(){this.updateDisplay(this.displayYear+10,this.displayMonthNumber)},t.prototype.onSelectYear=function(t,e){"month"===this.lastDisplay?this.selectMonth():this.selectDay(),this.currentYear=t,this.updateDisplay(t,e)},t.prototype.onSelectMonth=function(t,e){this.selectDay(),this.updateDisplay(t,e)},t.prototype.onSelectDate=function(t){this.dateInRange(t)&&(this.date=t,this.dateChange.emit(t),this.submit.emit(this.date))},t.prototype.getArrayDecade=function(t){this.displayDecade=Array();var e;if(t%10==0){for(e=t;e<t+10;e++)this.displayDecade.push(e);this.displayStartDecade=t,this.displayFinalDecade=t+9}else{for(;t%10!=0;)t--;for(this.displayStartDecade=t,this.displayFinalDecade=t+9,e=t;e<t+10;e++)this.displayDecade.push(e)}},t.prototype.getWordMonth=function(){return this.thfCalendarLangService.getWordMonth()},t.prototype.getWordYear=function(){return this.thfCalendarLangService.getWordYear()},t.decorators=[{type:e.Component,args:[{selector:"thf-calendar",template:'<div class="thf-calendar-overlay thf-invisible"></div> <div class="thf-calendar"> <div #days> <div class="thf-calendar-nav"> <span (click)="onPrevMonth()" class="thf-calendar-nav-left thf-icon thf-icon-arrow-left"></span> <div class="thf-calendar-nav-title"> <span class="thf-clickable" (click)="selectMonth()">{{ displayMonth }}</span> <span class="thf-clickable" (click)="selectYear()">{{ displayYear }}</span> </div> <span (click)="onNextMonth()" class="thf-calendar-nav-right thf-icon thf-icon-arrow-right"></span> </div> <div class="thf-calendar-content"> <div class="thf-calendar-labels"> <div class="thf-calendar-label" *ngFor="let day of displayWeedDays"> {{ day.toLowerCase() }} </div> </div> <div class="thf-calendar-content-list-day"> <div *ngFor="let day of displayDays" class="thf-calendar-day thf-calendar-box-background" (click)="onSelectDate(day)" [ngClass]="getDayBackgroundColor(day)"> <span *ngIf="day != 0" [ngClass]="getDayForegroundColor(day)"> {{ day.getDate() }} </span> </div> </div> </div> </div> <div #months> <div class="thf-calendar-nav"> <span (click)="onPrevYear()" class="thf-calendar-nav-left thf-icon thf-icon-arrow-left"></span> <div class="thf-calendar-nav-title"> <span class="thf-clickable" (click)="selectYear()">{{ displayYear }}</span> </div> <span (click)="onNextYear()" class="thf-calendar-nav-right thf-icon thf-icon-arrow-right"></span> </div> <div class="thf-calendar-content"> <div class="thf-calendar-labels"> <div class="thf-calendar-label"> {{ getWordMonth() }} </div> </div> <div class="thf-calendar-content-list-month"> <div *ngFor="let month of displayMonths; let i = index;" class="thf-calendar-month" (click)="onSelectMonth(displayYear, i)" [ngClass]="getMonthBackgroundColor(i)"> <span [ngClass]="getMonthForegroundColor(i)"> {{ month }} </span> </div> </div> </div> </div> <div #years> <div class="thf-calendar-nav"> <span (click)="onPrevDecade()" class="thf-calendar-nav-left thf-icon thf-icon-arrow-left"></span> <div class="thf-calendar-nav-title"> {{ displayStartDecade }} - {{ displayFinalDecade }} </div> <span (click)="onNextDecade()" class="thf-calendar-nav-right thf-icon thf-icon-arrow-right"></span> </div> <div class="thf-calendar-content"> <div class="thf-calendar-labels"> <div class="thf-calendar-label"> {{ getWordYear() }} </div> </div> <div class="thf-calendar-content-list-year"> <div *ngFor="let year of displayDecade; let i = index;" class="thf-calendar-year" (click)="onSelectYear(year, displayMonthNumber)" [ngClass]="getYearBackgroundColor(year)"> <span [ngClass]="getYearForegroundColor(year)"> {{ year }} </span> </div> </div> </div> </div> </div> '}]}],t.ctorParameters=function(){return[{type:e.ElementRef},{type:j},{type:L}]},t.propDecorators={date:[{type:e.Input,args:["t-date"]}],dateChange:[{type:e.Output,args:["t-dateChange"]}],dateStart:[{type:e.Input,args:["t-start"]}],dateEnd:[{type:e.Input,args:["t-end"]}],locale:[{type:e.Input,args:["t-locale"]}],submit:[{type:e.Output,args:["t-submit"]}],elDays:[{type:e.ViewChild,args:["days",{read:e.ElementRef}]}],elMonths:[{type:e.ViewChild,args:["months",{read:e.ElementRef}]}],elYears:[{type:e.ViewChild,args:["years",{read:e.ElementRef}]}]},t}(),z=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){t(e,n);function o(){this.constructor=e}e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),G=function(t){z(n,t);function n(){return null!==t&&t.apply(this,arguments)||this}return n.decorators=[{type:e.Component,args:[{selector:"thf-checkbox-group",template:'<thf-field-container [t-label]="label" [t-help]="help" [t-opcional]="!required"> <div class="thf-checkbox-container" #inp> <div class="thf-input-checkbox-inline" *ngFor="let option of options"> <input class="thf-input-checkbox" type="checkbox" [attr.name]="name + option.value" [attr.id]="name + option.value" [required]="required" [disabled]="option.disabled === true" [value]="option.value" (click)="eventClick(name, option.value)"> <label for="{{name + option.value}}">{{option.label}}</label> </div> </div> </thf-field-container> ',styles:[".thf-input-checkbox-inline { display: inline-block; } .thf-input-checkbox { width: 20px; height: 20px; border-radius: 2px; box-shadow: inset 0 1px 8px 0 rgba(0, 0, 0, 0.1); border: solid 1px rgba(255, 255, 255, 0.6); } .thf-input-checkbox:checked { width: 20px; height: 20px; border-radius: 2px; } input[type=checkbox] { visibility: hidden; position: absolute; } input[type=checkbox] + label:before { width: 20px; height: 20px; margin-top: -2px; margin-right: 8px; display: inline-block; vertical-align: middle; background-color: #ffffff; box-shadow: inset 0px 2px 8px 0 #edefef; border: solid 1px #b7bebf; content: ' '; } input[type=checkbox]:checked + label:before { background-color: #0c9abe; box-shadow: none; color: white; font-family: 'TotvsIcon' !important; line-height: 18px; content: ' '; padding-left: 1px; } input[type=checkbox]:disabled + label:before { background-color: #edefef; border: solid 1px #b7bebf; } input[type=checkbox]:checked:disabled + label:before { color: #b7bebf; } input[type=checkbox] + label:before { border-radius: 2px; } label { height: 16px; font-family: NunitoSans; font-size: 16px; line-height: 1.5; text-align: left; color: #1e2526; margin: 0 6px 6px 6px; cursor: pointer; } "],encapsulation:e.ViewEncapsulation.None,changeDetection:e.ChangeDetectionStrategy.OnPush}]}],n.ctorParameters=function(){return[]},n.propDecorators={label:[{type:e.Input,args:["t-label"]}],help:[{type:e.Input,args:["t-help"]}]},n}(u.ThfCheckboxGroupBaseComponent),$=function(){function t(){this.position=1}return t.decorators=[{type:e.Component,args:[{selector:"thf-clean",template:"<span class=\"thf-icon thf-icon-close thf-span-clean\" [ngClass]=\"{'thf-icon': true, 'thf-icon-close': true, 'thf-span-clean': true, 'thf-span-clean-pos1': position==1, 'thf-span-clean-pos2': position!=1}\"> </span> ",styles:[".thf-span-clean { position: relative; width: 0px; font-size: 25px; color: #0c9abe; top: 19px; text-decoration: none; cursor: pointer; } .thf-span-clean-pos1 { right: 35px; } .thf-span-clean-pos2 { right: 70px; } .ng-invalid.ng-dirty .thf-span-clean { color: #c64840 !important; } "]}]}],t.ctorParameters=function(){return[]},t.propDecorators={position:[{type:e.Input}]},t}(),U=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){t(e,n);function o(){this.constructor=e}e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),H=function(t){U(n,t);function n(e,n,o){var i=t.call(this,o)||this;return i.validators=[],i.date=new Date,i.hour="T00:00:00+00:00",i.el=n,i.clickListener=e.listenGlobal("document","click",function(t){return i.wasClickedOnPicker(t)}),i}return n.prototype.ngAfterViewInit=function(){this.focus&&this.inputEl.nativeElement.focus(),this.clean&&(this.inputEl.nativeElement.style.paddingRight="30px")},n.prototype.ngOnDestroy=function(){this.clickListener()},n.prototype.togglePicker=function(){var t=this.dialogPicker.nativeElement;if(!this.disabled)if(t.classList.contains("thf-datepicker-invisible")){var e=document.body.scrollWidth;t.style.marginLeft="0px",t.classList.remove("thf-datepicker-invisible"),this.picker.init(),document.body.scrollWidth!==e&&(t.style.marginLeft=this.inputEl.nativeElement.offsetWidth-288+"px")}else t.classList.add("thf-datepicker-invisible"),this.inputEl.nativeElement.disabled=!1},n.prototype.dateSelected=function(){this.inputEl.nativeElement.value=this.formatToDate(this.date),this.callOnChange(f.convertDateToISOExtended(this.date,this.hour)),this.dialogPicker.nativeElement.classList.add("thf-datepicker-invisible")},n.prototype.wasClickedOnPicker=function(t){this.dialogPicker.nativeElement.contains(t.target)&&!this.hasOverlayClass(t.target)||this.iconDatepicker.nativeElement.contains(t.target)||this.dialogPicker.nativeElement.classList.add("thf-datepicker-invisible")},n.prototype.onKeyup=function(t){this.objMask.keyup(t),this.objMask.valueToModel||""===this.objMask.valueToModel?this.objMask.valueToModel.length>=10?(this.controlModel(this.getDateFromString(this.inputEl.nativeElement.value)),this.date=this.getDateFromString(this.inputEl.nativeElement.value)):(this.date=void 0,this.controlModel(this.date)):this.date=void 0},n.prototype.onKeypress=function(t){this.objMask.keypress(t)},n.prototype.onKeydown=function(t){this.objMask.keydown(t)},n.prototype.hasInvalidClass=function(){return this.el.nativeElement.classList.contains("ng-invalid")&&this.el.nativeElement.classList.contains("ng-dirty")&&""!==this.inputEl.nativeElement.value},n.prototype.cleanInput=function(){this.inputEl.nativeElement.value="",this.callOnChange(""),this.date=void 0,this.required&&this.controlModel(this.date)},n.prototype.eventOnBlur=function(t){f.isMobile()||(this.objMask.blur(t),this.onblur.emit(),this.objMask.valueToModel?this.objMask.valueToModel.length>=10?(this.controlModel(this.getDateFromString(this.inputEl.nativeElement.value)),this.date=this.getDateFromString(this.inputEl.nativeElement.value)):(this.date=void 0,this.controlModel(this.date)):this.date=void 0)},n.prototype.eventOnChange=function(t){f.isMobile()&&(this.controlModel(this.inputEl.nativeElement.value),this.callOnChange(this.inputEl.nativeElement.value)),this.onchange.emit()},n.prototype.eventOnClick=function(t){var e=this;f.isMobile()?(t.target.blur(),setTimeout(function(){return e.togglePicker()},0)):this.objMask.click(t)},n.prototype.formatToDate=function(t){var e=this.format;return e=(e=(e=e.replace("dd",("0"+t.getDate()).slice(-2))).replace("mm",("0"+(t.getMonth()+1)).slice(-2))).replace("yyyy",String(t.getFullYear()))},n.prototype.writeValue=function(t){if(this.inputEl&&t){if(t instanceof Date){var e=t.toString();this.hour="T"+e.substring(16,24)+e.substring(28,31)+":"+e.substring(31,33),this.date=t,this.inputEl.nativeElement.value=this.formatToDate(t)}else{this.hour=t.substring(10,25);var n=parseInt(t.substring(8,10),10),o=parseInt(t.substring(5,7),10)-1,i=parseInt(t.substring(0,4),10),a=new Date(i,o,n);this.date=a,this.inputEl.nativeElement.value=this.formatToDate(a)}this.controlModel(this.date)}},n.prototype.hasOverlayClass=function(t){return t.classList.contains("thf-calendar-overlay")},n.decorators=[{type:e.Component,args:[{selector:"thf-datepicker",template:'<div class="thf-input-datepicker"> <thf-field-container [t-label]="label" [t-help]="help" [t-opcional]="!required"> <div class="thf-field-flex-container" > <input #inp type="text" class="thf-input-elem" (blur)="eventOnBlur($event)" (change)="eventOnChange($event)" (click)="eventOnClick($event)" [attr.name]="name" [placeholder]="placeholder" [required]="required" [disabled]="disabled" [readonly]="readonly"> <thf-clean #clean (click)="cleanInput()" position="2" *ngIf="clean && !disabled"></thf-clean> <span #iconDatepicker (click)="togglePicker()" class="thf-icon thf-icon-calendar thf-span-datepicker"></span> </div> <div class="thf-datepicker thf-datepicker-invisible" #dialogPicker> <thf-calendar #picker [t-locale]="locale" [t-end]="end" [t-start]="start" [(t-date)]="date" (t-submit)="dateSelected()"> </thf-calendar> </div> <div class="thf-field-error"> <div *ngIf="errorPattern!==\'\' && hasInvalidClass()" class="thf-field-error"> <span class="thf-icon thf-icon-close"></span> {{ errorPattern }} </div> </div> </thf-field-container> </div> ',styles:[".thf-input-datepicker { max-width: 100%; } .thf-clean-arrow-mobile { z-index: 4; position: relative; width: 20px; float: right; height: 20px; background-color: white; bottom: 33px; right: 2px; } .thf-input-elem { width: 100%; line-height: 24px; font-family: NunitoSans; font-size: 16px; border-radius: 3px; background-color: #ffffff; box-shadow: inset 0px 2px 8px 0 #edefef; border: solid 1px #b7bebf !important; padding: 10px 15px 8px 15px; margin-top: 8px; } .thf-input-elem:disabled { background-color: #edefef; border: solid 1px #b7bebf; } thf-datepicker.ng-valid .thf-input-elem:focus { outline: none; border: solid 1px #0c9abe !important; border: solid 1px var(--water-blue); } thf-datepicker.ng-invalid.ng-dirty .thf-input-elem { outline: none; border: solid 1px #c64840 !important; } thf-datepicker.ng-invalid.ng-dirty .thf-span-clean { color: #c64840 !important; } .thf-field-flex-container { display: flex; } .thf-text-clean { position: absolute; width: 0px; font-size: 25px; color: #0c9abe; right: 35px; top: 10px; text-decoration: none; cursor: pointer; } .thf-field-error { display: block; height: 20px; font-family: NunitoSans; font-size: 12px; text-align: left; color: #c64840; padding-left: 2px; margin-top: 2px; } .thf-field-error span { padding-bottom: 2px; vertical-align: middle; font-size: 14px; font-weight: bold; } .thf-datepicker { position: absolute; padding-top: 8px; z-index: 1000; } .thf-datepicker-invisible { display: none; } .thf-span-datepicker { position: relative; width: 0px; font-size: 25px; color: #0c9abe; right: 35px; top: 18px; text-decoration: none; z-index: 100; cursor: pointer; } thf-datepicker.ng-invalid.ng-dirty .thf-span-datepicker { color: #c64840 !important; } "],encapsulation:e.ViewEncapsulation.None}]}],n.ctorParameters=function(){return[{type:e.Renderer},{type:e.ElementRef},{type:p.NgControl,decorators:[{type:e.Optional}]}]},n.propDecorators={picker:[{type:e.ViewChild,args:["picker"]}],dialogPicker:[{type:e.ViewChild,args:["dialogPicker",{read:e.ElementRef}]}],iconDatepicker:[{type:e.ViewChild,args:["iconDatepicker",{read:e.ElementRef}]}],inputEl:[{type:e.ViewChild,args:["inp",{read:e.ElementRef}]}],cleanEl:[{type:e.ViewChild,args:["clean",{read:e.ElementRef}]}],label:[{type:e.Input,args:["t-label"]}],help:[{type:e.Input,args:["t-help"]}],onKeyup:[{type:e.HostListener,args:["keyup",["$event"]]}],onKeypress:[{type:e.HostListener,args:["keypress",["$event"]]}],onKeydown:[{type:e.HostListener,args:["keydown",["$event"]]}]},n}(u.ThfDatepickerBaseComponent),Y=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){t(e,n);function o(){this.constructor=e}e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),W=function(t){Y(n,t);function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.maxlength=254,e.type="email",e.pattern="^([\\w-]+(?:\\.[\\w-]+)*)@((?:[\\w-]+\\.)*\\w[\\w-]{0,66})\\.([a-z]{2,6}(?:\\.[a-z]{2})?)$",e.mask="",e}return Object.defineProperty(n.prototype,"setMaxlength",{set:function(t){isNaN(parseInt(t,10))||(this.maxlength=parseInt(t,10))},enumerable:!0,configurable:!0}),n.decorators=[{type:e.Component,args:[{selector:"thf-email",template:' <thf-field-container [t-label]="label" [t-help]="help" [t-opcional]="!required"> <div class="thf-field-flex-container" > <input #inp [type]="type" class="thf-input-elem" (input)="eventOnInput($event)" (focus)="eventOnFocus($event)" (blur)="eventOnBlur($event)" (click)="eventOnClick($event)" [attr.name]="name" [placeholder]="placeholder" [required]="required" [disabled]="disabled" [readonly]="readonly"> <thf-clean #clean (click)="cleanInput()" *ngIf="clean!==\'\' && !disabled"></thf-clean> </div> <div class="thf-field-error"> <div *ngIf="errorPattern!==\'\' && hasInvalidClass()" class="thf-field-error"> <span class="thf-icon thf-icon-close"></span> {{errorPattern}} </div> </div> </thf-field-container> ',styles:[".thf-input-elem { width: 100%; line-height: 24px; font-family: NunitoSans; font-size: 16px; border-radius: 3px; background-color: #ffffff; box-shadow: inset 0px 2px 8px 0 #edefef; border: solid 1px #b7bebf !important; padding: 10px 15px 8px 15px; margin-top: 8px; } .thf-input-elem:disabled { background-color: #edefef; border: solid 1px #b7bebf; } thf-input.ng-valid .thf-input-elem:focus, thf-email.ng-valid .thf-input-elem:focus, thf-url.ng-valid .thf-input-elem:focus, thf-number.ng-valid .thf-input-elem:focus { outline: none; border: solid 1px #0c9abe !important; border: solid 1px var(--water-blue); } thf-input.ng-invalid.ng-dirty input, thf-email.ng-invalid.ng-dirty input, thf-url.ng-invalid.ng-dirty input, thf-number.ng-invalid.ng-dirty input { outline: none; border: solid 1px #c64840 !important; } thf-input.ng-invalid.ng-dirty .thf-span-clean, thf-email.ng-invalid.ng-dirty .thf-span-clean, thf-url.ng-invalid.ng-dirty .thf-span-clean, thf-number.ng-invalid.ng-dirty .thf-span-clean { color: #c64840 !important; } .thf-field-flex-container { display: flex; } .thf-text-clean { position: relative; width: 0px; font-size: 25px; color: #0c9abe; right: 35px; top: 10px; text-decoration: none; cursor: pointer; } .thf-field-error { display: block; height: 20px; font-family: NunitoSans; font-size: 12px; text-align: left; color: #c64840; padding-left: 2px; margin-top: 2px; } .thf-field-error span { padding-bottom: 2px; vertical-align: middle; font-size: 14px; font-weight: bold; } "]}]}],n.ctorParameters=function(){return[]},n.propDecorators={label:[{type:e.Input,args:["t-label"]}],help:[{type:e.Input,args:["t-help"]}],setMaxlength:[{type:e.Input,args:["t-maxlength"]}]},n}(u.ThfInputBaseComponent),J=function(){function t(){this.optional={pt:"(Opcional)",en:"(Optional)",es:"(Opcional)"}}return t.prototype.getOptional=function(){var t=navigator.language?navigator.language.toLowerCase().slice(0,2):"pt";return this.optional[t]?this.optional[t]:""},t.prototype.ngOnInit=function(){},t.decorators=[{type:e.Component,args:[{selector:"thf-field-container",template:' <div style="display:block"> <span class="thf-label">{{label}}</span> <span *ngIf="opcional" class="thf-opcional">{{getOptional()}}</span> <br> <span *ngIf="help!==\'\'" class="thf-label-help">{{help}}</span> <ng-content></ng-content> </div> ',styles:[".thf-label { font-size: 14px; line-height: 2; text-align: left; color: #4a5c60; font-family: 'NunitoSans-Bold'; } .thf-opcional { font-size: 12px; line-height: 2; color: #4a5c60; font-family: NunitoSans; float: right !important; text-align: bottom; } .thf-label-help { font-size: 12px; line-height: 1.67; text-align: left; color: #4a5c60; font-family: NunitoSans; } "]}]}],t.ctorParameters=function(){return[]},t.propDecorators={label:[{type:e.Input,args:["t-label"]}],help:[{type:e.Input,args:["t-help"]}],opcional:[{type:e.Input,args:["t-opcional"]}]},t}(),K=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){t(e,n);function o(){this.constructor=e}e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Q=function(t){K(n,t);function n(){return null!==t&&t.apply(this,arguments)||this}return n.decorators=[{type:e.Component,args:[{selector:"thf-input",template:' <thf-field-container [t-label]="label" [t-help]="help" [t-opcional]="!required"> <div class="thf-field-flex-container" > <input #inp [type]="type" class="thf-input-elem" (input)="eventOnInput($event)" (focus)="eventOnFocus($event)" (blur)="eventOnBlur($event)" (click)="eventOnClick($event)" [attr.name]="name" [placeholder]="placeholder" [required]="required" [disabled]="disabled" [readonly]="readonly"> <thf-clean #clean (click)="cleanInput()" *ngIf="clean!==\'\' && !disabled"></thf-clean> </div> <div class="thf-field-error"> <div *ngIf="errorPattern!==\'\' && hasInvalidClass()" class="thf-field-error"> <span class="thf-icon thf-icon-close"></span> {{errorPattern}} </div> </div> </thf-field-container> ',styles:[".thf-input-elem { width: 100%; line-height: 24px; font-family: NunitoSans; font-size: 16px; border-radius: 3px; background-color: #ffffff; box-shadow: inset 0px 2px 8px 0 #edefef; border: solid 1px #b7bebf !important; padding: 10px 15px 8px 15px; margin-top: 8px; } .thf-input-elem:disabled { background-color: #edefef; border: solid 1px #b7bebf; } thf-input.ng-valid .thf-input-elem:focus, thf-email.ng-valid .thf-input-elem:focus, thf-url.ng-valid .thf-input-elem:focus, thf-number.ng-valid .thf-input-elem:focus { outline: none; border: solid 1px #0c9abe !important; border: solid 1px var(--water-blue); } thf-input.ng-invalid.ng-dirty input, thf-email.ng-invalid.ng-dirty input, thf-url.ng-invalid.ng-dirty input, thf-number.ng-invalid.ng-dirty input { outline: none; border: solid 1px #c64840 !important; } thf-input.ng-invalid.ng-dirty .thf-span-clean, thf-email.ng-invalid.ng-dirty .thf-span-clean, thf-url.ng-invalid.ng-dirty .thf-span-clean, thf-number.ng-invalid.ng-dirty .thf-span-clean { color: #c64840 !important; } .thf-field-flex-container { display: flex; } .thf-text-clean { position: relative; width: 0px; font-size: 25px; color: #0c9abe; right: 35px; top: 10px; text-decoration: none; cursor: pointer; } .thf-field-error { display: block; height: 20px; font-family: NunitoSans; font-size: 12px; text-align: left; color: #c64840; padding-left: 2px; margin-top: 2px; } .thf-field-error span { padding-bottom: 2px; vertical-align: middle; font-size: 14px; font-weight: bold; } "],encapsulation:e.ViewEncapsulation.None,changeDetection:e.ChangeDetectionStrategy.OnPush}]}],n.ctorParameters=function(){return[]},n.propDecorators={label:[{type:e.Input,args:["t-label"]}],help:[{type:e.Input,args:["t-help"]}]},n}(u.ThfInputBaseComponent),X=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){t(e,n);function o(){this.constructor=e}e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Z=function(t){X(n,t);function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="number",e.step="",e}return Object.defineProperty(n.prototype,"setMin",{set:function(t){isNaN(parseInt(t,10))||(this.min=parseInt(t,10),this.validators.min=this.getValidatorMin(),this.updateValidators())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"setMax",{set:function(t){isNaN(parseInt(t,10))||(this.max=parseInt(t,10),this.validators.max=this.getValidatorMax(),this.updateValidators())},enumerable:!0,configurable:!0}),n.prototype.ngOnInit=function(){this.validators.min=this.getValidatorMin(),this.validators.max=this.getValidatorMax(),this._onInit()},n.prototype.getValidatorMin=function(){return this.min?p.Validators.min(this.min):null},n.prototype.getValidatorMax=function(){return this.max?p.Validators.max(this.max):null},n.decorators=[{type:e.Component,args:[{selector:"thf-number",template:' <thf-field-container [t-label]="label" [t-help]="help" [t-opcional]="!required"> <div class="thf-field-flex-container" > <input #inp [type]="type" class="thf-input-elem" (input)="eventOnInput($event)" (focus)="eventOnFocus($event)" (blur)="eventOnBlur($event)" [attr.name]="name" [attr.min]="min" [attr.max]="max" [attr.step]="step" [placeholder]="placeholder" [required]="required" [disabled]="disabled" [readonly]="readonly"> <thf-clean #clean (click)="cleanInput()" *ngIf="clean!==\'\' && !disabled"></thf-clean> </div> <div class="thf-field-error"> <div *ngIf="errorPattern!==\'\' && hasInvalidClass()" class="thf-field-error"> <span class="thf-icon thf-icon-close"></span> {{errorPattern}} </div> </div> </thf-field-container> ',styles:[".thf-input-elem { width: 100%; line-height: 24px; font-family: NunitoSans; font-size: 16px; border-radius: 3px; background-color: #ffffff; box-shadow: inset 0px 2px 8px 0 #edefef; border: solid 1px #b7bebf !important; padding: 10px 15px 8px 15px; margin-top: 8px; } .thf-input-elem:disabled { background-color: #edefef; border: solid 1px #b7bebf; } thf-input.ng-valid .thf-input-elem:focus, thf-email.ng-valid .thf-input-elem:focus, thf-url.ng-valid .thf-input-elem:focus, thf-number.ng-valid .thf-input-elem:focus { outline: none; border: solid 1px #0c9abe !important; border: solid 1px var(--water-blue); } thf-input.ng-invalid.ng-dirty input, thf-email.ng-invalid.ng-dirty input, thf-url.ng-invalid.ng-dirty input, thf-number.ng-invalid.ng-dirty input { outline: none; border: solid 1px #c64840 !important; } thf-input.ng-invalid.ng-dirty .thf-span-clean, thf-email.ng-invalid.ng-dirty .thf-span-clean, thf-url.ng-invalid.ng-dirty .thf-span-clean, thf-number.ng-invalid.ng-dirty .thf-span-clean { color: #c64840 !important; } .thf-field-flex-container { display: flex; } .thf-text-clean { position: relative; width: 0px; font-size: 25px; color: #0c9abe; right: 35px; top: 10px; text-decoration: none; cursor: pointer; } .thf-field-error { display: block; height: 20px; font-family: NunitoSans; font-size: 12px; text-align: left; color: #c64840; padding-left: 2px; margin-top: 2px; } .thf-field-error span { padding-bottom: 2px; vertical-align: middle; font-size: 14px; font-weight: bold; } "]}]}],n.ctorParameters=function(){return[]},n.propDecorators={label:[{type:e.Input,args:["t-label"]}],help:[{type:e.Input,args:["t-help"]}],setMin:[{type:e.Input,args:["t-min"]}],setMax:[{type:e.Input,args:["t-max"]}],step:[{type:e.Input,args:["t-step"]}]},n}(u.ThfInputBaseComponent),tt=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){t(e,n);function o(){this.constructor=e}e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),et=function(t){tt(n,t);function n(){return null!==t&&t.apply(this,arguments)||this}return n.decorators=[{type:e.Component,args:[{selector:"thf-radio-group",template:'<thf-field-container [t-label]="label" [t-help]="help" [t-opcional]="!required"> <div class="thf-input-radio-container" #inp> <div *ngFor="let option of options" class="thf-input-radio-outline"> <input class="thf-input-radio" type="radio" (keyup)="keyup()" [attr.name]="name" [required]="required" [disabled]="option.disabled === true || disabled" [readonly]="readonly" [value]="option.value" [checked]="selectCheckedValue === option.value"> <label [for]="name" class="thf-input-radio-label" (click)="eventClick(option.value, option.disabled === true || disabled)">{{option.label}} </label> </div> </div> </thf-field-container> ',styles:[".thf-input-radio { -webkit-appearance: none; -moz-appearance: none; position: absolute; width: 0px; height: 0px; margin: 0; outline: none; border: 1px solid transparent; background-color: transparent; } .thf-input-radio-label { height: 16px; font-family: NunitoSans; font-size: 16px; line-height: 1.5; text-align: left; color: #1e2526; margin: 0 6px 6px 6px; cursor: pointer; } .thf-input-radio + .thf-input-radio-label:before { width: 18px; height: 18px; margin-top: -2px; margin-right: 8px; display: inline-block; vertical-align: middle; background-color: #ffffff; box-shadow: inset 0px 2px 8px 0 #edefef; border: solid 1px #b7bebf; border-radius: 50%; content: ' '; } .thf-input-radio:checked + .thf-input-radio-label:before { background-color: #0c9abe; border: 1px solid #0c9abe; box-shadow: none; color: white; font-family: 'TotvsIcon' !important; line-height: 18px; content: 'e937'; font-weight: bold; padding-left: 1px; width: 17px; } .thf-input-radio:focus + .thf-input-radio-label:before { border: solid 1px #0c9abe !important; } .thf-input-radio:disabled + .thf-input-radio-label:before { background-color: #edefef; border: solid 1px #b7bebf; } .thf-input-radio:checked:disabled + .thf-input-radio-label:before { color: #b7bebf; width: 17px; } .thf-input-radio-container { padding-top: 10px; display: block; } .thf-input-radio-outline { padding-bottom: 20px; } "],encapsulation:e.ViewEncapsulation.None,changeDetection:e.ChangeDetectionStrategy.OnPush}]}],n.ctorParameters=function(){return[]},n.propDecorators={label:[{type:e.Input,args:["t-label"]}],help:[{type:e.Input,args:["t-help"]}]},n}(u.ThfRadioGroupBaseComponent),nt=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){t(e,n);function o(){this.constructor=e}e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),ot=function(t){nt(n,t);function n(e,n,o,i){var a=t.call(this,e,n,i)||this;return a.open=!1,a.selectIcon="thf-icon-arrow-down",a.isNative=!1,o.listenGlobal("document","click",function(t){a.wasClickedOnToggle(t)}),a}return n.prototype.onKeydown=function(t){this.open||40!==t.keyCode&&38!==t.keyCode||(t.preventDefault(),this.toggleButton()),13!==t.keyCode&&32!==t.keyCode||(t.preventDefault(),this.toggleButton()),this.open&&9===t.keyCode&&(t.preventDefault(),this.toggleButton())},n.prototype.ngAfterViewInit=function(){this.isNative=f.checkIsNativeIOS()},n.prototype.toggleButton=function(){this.selectElement.nativeElement.focus(),this.selectIcon=this.open?"thf-icon-arrow-down":"thf-icon-arrow-up",this.options&&this.options.length&&this.selector(".thf-select-container").classList.toggle("thf-select-show"),this.open=!this.open},n.prototype.onSelectChange=function(t){var e=this;if(t&&this.options&&this.options.length){var n=this.options.find(function(n){return e.isEqual(n.value,t)});if(n){var o=this.options.indexOf(n);this.scrollTo(o),this.updateModel(n)}}},n.prototype.onOptionClick=function(t){this.toggleButton(),this.updateModel(t)},n.prototype.writeValue=function(t){var e=this;if(this.options&&this.options.length){var n=this.options.find(function(n){return e.isEqual(n.value,t)});n?(this.selectElement.nativeElement.value=n.value,this.selectedValue=n.value,this.displayValue=n.label):f.validValue(this.selectedValue)&&(this.selectElement.nativeElement.value=void 0,this.callModelChange(void 0),this.selectedValue=void 0,this.displayValue=void 0)}},n.prototype.updateModel=function(t){this.selectedValue=t.value,this.selectElement.nativeElement.value=t.value,this.callModelChange(t.value),this.displayValue=t.label,this.onChange()},n.prototype.callModelChange=function(t){return this.onModelChange?this.onModelChange(t):this.ngModelChange.emit(t)},n.prototype.scrollTo=function(t){var e=this.element.nativeElement.querySelector("ul.thf-select-content"),n=44*t;if(this.oldValue>n)return this.oldValue=n,void(e.scrollTop-=44);this.oldValue=n,e.scrollTop+=44},n.prototype.selector=function(t){return this.element.nativeElement.querySelector(t)},n.prototype.hideDropDown=function(){this.selectIcon="thf-icon-arrow-down",this.selector(".thf-select-container").classList.remove("thf-select-show"),this.open=!1},n.prototype.wasClickedOnToggle=function(t){this.selectButtonElement.nativeElement.contains(t.target)||this.iconElement.nativeElement.contains(t.target)||this.hideDropDown()},n.prototype.isEqual=function(t,e){return(t||0===t)&&e?t.toString()===e.toString():((null===t&&null!==e||void 0===t&&void 0!==e)&&(t=""+t),t===e)},n.decorators=[{type:e.Component,args:[{selector:"thf-select",template:'<thf-field-container [t-label]="label" [t-help]="help" [t-opcional]="!required"> <select #select [attr.name]="name" [required]="required" [disabled]="disabled" class="thf-select" (change)="onSelectChange($event.target.value)"> <option *ngFor="let option of options" [value]="option.value" (click)="onOptionClick(option)"> {{option?.label}} </option> </select> <div class="thf-select-container"> <div #selectButton class="thf-select-button" [ngClass]="{\'thf-select-button-disabled\' : disabled}" (click)="toggleButton()"> <span>{{ displayValue || placeholder }}</span> <span #icon class="thf-select-icon thf-icon {{selectIcon}}"></span> </div> <ul class="thf-select-content" [ngClass]="{\'thf-invisible\': isNative}"> <li *ngFor="let option of options" [value]="option.value" (click)="onOptionClick(option)" [class.thf-select-item-selected]="selectedValue == option.value"> <a class="thf-select-item"> {{option?.label}}</a> </li> </ul> </div> <div class="thf-field-error"> \x3c!-- Adicionado para corrigir o layout, existe outro item para acertar as mensagens de erro --\x3e <div *ngIf="false" class="thf-field-error"> <span class="thf-icon thf-icon-close"></span> {{ errorPattern }} </div> </div> </thf-field-container> ',encapsulation:e.ViewEncapsulation.None,changeDetection:e.ChangeDetectionStrategy.OnPush}]}],n.ctorParameters=function(){return[{type:e.ElementRef},{type:e.ChangeDetectorRef},{type:e.Renderer},{type:p.NgControl,decorators:[{type:e.Optional}]}]},n.propDecorators={selectElement:[{type:e.ViewChild,args:["select",{read:e.ElementRef}]}],iconElement:[{type:e.ViewChild,args:["icon",{read:e.ElementRef}]}],selectButtonElement:[{type:e.ViewChild,args:["selectButton",{read:e.ElementRef}]}],onKeydown:[{type:e.HostListener,args:["keydown",["$event"]]}]},n}(u.ThfSelectBaseComponent),it=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){t(e,n);function o(){this.constructor=e}e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),at=function(t){it(n,t);function n(){return null!==t&&t.apply(this,arguments)||this}return n.prototype.getLabelPosition=function(){switch(this.labelPosition){case u.ThfSwitchLabelPosition.Left:return"left";case u.ThfSwitchLabelPosition.Right:default:return"right"}},n.prototype.getSwitchPosition=function(){switch(this.labelPosition){case u.ThfSwitchLabelPosition.Left:return"right";case u.ThfSwitchLabelPosition.Right:default:return"left"}},n.decorators=[{type:e.Component,args:[{selector:"thf-switch",template:'<thf-field-container [t-label]="label" [t-help]="help" [t-opcional]="!required"> <div [attr.name]="name" class="thf-switch"> <div class="thf-switch-container thf-clickable" [class.thf-switch-container-right]="getSwitchPosition() === \'right\'" [class.thf-switch-container-on]="switchValue === true && !disabled" [class.thf-switch-container-off]="switchValue === false && !disabled" [class.thf-switch-container-disabled]="disabled" (click)="eventClick()"> <div class="thf-switch-button" [class.thf-switch-button-on]="switchValue === true" [class.thf-switch-button-off]="switchValue === false" [class.thf-switch-button-disabled]="disabled"> <span class="thf-icon thf-icon-{{ switchValue === true ? \'ok\' : \'close\' }}"></span> </div> </div> <span class="thf-switch-label thf-clickable thf-switch-label-{{ getLabelPosition() }}" (click)="eventClick()"> {{ switchValue === true ? labelOn : labelOff }} </span> </div> </thf-field-container> '}]}],n.ctorParameters=function(){return[]},n}(u.ThfSwitchBaseComponent),rt=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){t(e,n);function o(){this.constructor=e}e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),st=function(t){rt(n,t);function n(){return null!==t&&t.apply(this,arguments)||this}return n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[]},n}(u.ThfUploadBaseService),lt=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){t(e,n);function o(){this.constructor=e}e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),ct=function(t){lt(n,t);function n(e,n,o){var i=t.call(this,o)||this;return i.elementRef=e,i.uploadService=n,i}return n.prototype.onClick=function(){this.elementRef.nativeElement.querySelector("input").click()},n.prototype.onFileChange=function(t){var e=t.target.files;this.currentFiles=this.currentFiles||[],this.currentFiles=this.parseFiles(e),this.updateModel(this.currentFiles),this.autoUpload&&this.uploadFiles(this.currentFiles)},n.prototype.updateModel=function(t){if(t&&0===t.length)return this.onModelChange?this.onModelChange(t):this.ngModelChange.emit(t);this.onModelChange?this.onModelChange(t):this.ngModelChange.emit(t)},n.prototype.uploadFiles=function(t){var e=this,n=t.filter(function(t){return t.status!==g.ThfUploadStatus.Uploaded});this.uploadService.upload(this.url,n,this.onUpload,function(t,n){e.uploadingHandler(t,n)},function(t,n){e.successHandler(t),e.onSuccess.emit(n)},function(t,n){e.errorHandler(t),e.onError.emit(n)})},n.prototype.stopUpload=function(t){var e=this;this.uploadService.stopRequestByFile(t,function(){e.autoUpload?e.removeFile(t):e.stopUploadHandler(t)})},n.prototype.stopUploadHandler=function(t){t.status=g.ThfUploadStatus.None,this.removeFileNameClass(t.uid),this.setProgressStatus(t.uid,0,!1),this.setUploadStatus(t,"thf-upload-progress",100)},n.prototype.uploadingHandler=function(t,e){t.status=g.ThfUploadStatus.Uploading,this.setProgressStatus(t.uid,e,!0),this.setUploadStatus(t,"thf-upload-progress",e)},n.prototype.successHandler=function(t){t.status=g.ThfUploadStatus.Uploaded,this.setProgressStatus(t.uid,0,!1),this.setUploadStatus(t,"thf-upload-progress-success",100)},n.prototype.errorHandler=function(t){t.status=g.ThfUploadStatus.Error,this.setProgressStatus(t.uid,0,!1),this.setUploadStatus(t,"thf-upload-progress-error",100)},n.prototype.isStatusFile=function(t,e){return e.status===g.ThfUploadStatus[t]},n.prototype.hasAnyFileUploading=function(t){return!(!t||!t.length)&&t.some(function(t){return t.status===g.ThfUploadStatus.Uploading})},n.prototype.getThfIcon=function(t){switch(t.status){case g.ThfUploadStatus.Uploaded:return"thf-icon-ok";case g.ThfUploadStatus.Error:return"thf-icon-close";case g.ThfUploadStatus.None:return"thf-icon-info";case g.ThfUploadStatus.Uploading:default:return""}},n.prototype.setUploadStatus=function(t,e,n){var o=t.uid,i=this.elementRef.nativeElement.querySelector("div[id='"+o+"'].thf-upload-progress");i.classList.remove("thf-upload-progress-error","thf-upload-progress-success"),i.classList.add(e),n>5&&t.status!==g.ThfUploadStatus.None&&this.addFileNameClass(o)},n.prototype.setProgressStatus=function(t,e,n){var o=this.elementRef.nativeElement.querySelector("div[id='"+t+"'].thf-upload-progress").querySelector(".thf-upload-progress-status"),i=n?"block":"none";o.setAttribute("style","display: "+i+";"),o.setAttribute("style","width: "+e+"%;")},n.prototype.removeFile=function(t){var e=this.currentFiles.indexOf(t);this.currentFiles.splice(e,1)},n.prototype.getFileSize=function(t){var e=0;return t&&(e=Math.ceil(t/1024)),e+" KB"},n.prototype.writeValue=function(t){t&&(this.currentFiles=this.parseFiles(t))},n.prototype.addFileNameClass=function(t){this.elementRef.nativeElement.querySelector("div[id='"+t+"'].thf-upload-progress").querySelector(".thf-upload-filename").classList.add("thf-upload-filename-loading")},n.prototype.removeFileNameClass=function(t){this.elementRef.nativeElement.querySelector("div[id='"+t+"'].thf-upload-progress").querySelector(".thf-upload-filename").classList.remove("thf-upload-filename-loading")},n.prototype.parseFiles=function(t){for(var e=this.currentFiles||[],n=t.length,o=0;o<n;o++){var i=new m.ThfUploadFile(t[o]);this.checkRestrictions(i)&&(this.isMultiple?e.push(i):e.splice(0,1,i))}return e},n.prototype.checkRestrictions=function(t){var e=this.fileRestrictions;if(e){var n=e.allowedExtensions,o=e.minFileSize||0,i=e.maxFileSize||31457280,a=!n||this.isAllowedExtension(t.extension,n),r=t.size>=o&&t.size<=i;return a&&r}return!0},n.prototype.isAllowedExtension=function(t,e){return e.some(function(e){return e.toLowerCase()===t})},n.decorators=[{type:e.Component,args:[{selector:"thf-upload",template:'<thf-field-container [t-label]="label" [t-help]="help" [t-opcional]="!required"> <div class="thf-upload"> <div (click)="onClick()"> <input type="file" [name]="name" [id]="id" (change)="onFileChange($event)" [accept]="fileRestrictions?.allowedExtensions" [multiple]="isMultiple" class="thf-upload-input" [disabled]="hasAnyFileUploading(currentFiles) || !url || disabled"> <div for="file" class="thf-upload-button" [ngClass]="{\'thf-upload-button-disabled\': hasAnyFileUploading(currentFiles) || !url || disabled}"> Selecionar arquivo </div> </div> <div class="thf-upload-progress" *ngFor="let file of currentFiles" [id]="file.uid"> <div class="thf-upload-progress-status"></div> <div class="thf-upload-filename-foreground"> <div class="thf-upload-filename"> <span class="thf-icon {{ getThfIcon(file) }}"></span> {{ file.name }} - {{ getFileSize(file.size) }} </div> <div (click)="removeFile(file)" *ngIf="isStatusFile(\'None\', file)"> <span class="thf-upload-action"> Excluir </span> </div> <div (click)="stopUpload(file)" *ngIf="isStatusFile(\'Uploading\', file)"> <span class="thf-upload-action"> Cancelar </span> </div> <div (click)="uploadFiles([file])" *ngIf="isStatusFile(\'Error\', file)"> <span class="thf-upload-action"> Tentar Novamente </span> </div> </div> </div> <thf-button *ngIf="!autoUpload && currentFiles?.length > 0" [t-disabled]="hasAnyFileUploading(currentFiles)" t-primary="true" t-label="Iniciar envio" (t-click)="uploadFiles(currentFiles)"> </thf-button> </div> </thf-field-container> ',providers:[st]}]}],n.ctorParameters=function(){return[{type:e.ElementRef},{type:st},{type:p.NgControl,decorators:[{type:e.Optional}]}]},n}(u.ThfUploadBaseComponent),pt=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){t(e,n);function o(){this.constructor=e}e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),dt=function(t){pt(n,t);function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.maxlength=254,e.type="url",e.pattern="^((https|http):\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$",e.mask="",e}return Object.defineProperty(n.prototype,"setMaxlength",{set:function(t){isNaN(parseInt(t,10))||(this.maxlength=parseInt(t,10))},enumerable:!0,configurable:!0}),n.decorators=[{type:e.Component,args:[{selector:"thf-url",template:' <thf-field-container [t-label]="label" [t-help]="help" [t-opcional]="!required"> <div class="thf-field-flex-container" > <input #inp [type]="type" class="thf-input-elem" (input)="eventOnInput($event)" (focus)="eventOnFocus($event)" (blur)="eventOnBlur($event)" (click)="eventOnClick($event)" [attr.name]="name" [placeholder]="placeholder" [required]="required" [disabled]="disabled" [readonly]="readonly"> <thf-clean #clean (click)="cleanInput()" *ngIf="clean!==\'\' && !disabled"></thf-clean> </div> <div class="thf-field-error"> <div *ngIf="errorPattern!==\'\' && hasInvalidClass()" class="thf-field-error"> <span class="thf-icon thf-icon-close"></span> {{errorPattern}} </div> </div> </thf-field-container> ',styles:[".thf-input-elem { width: 100%; line-height: 24px; font-family: NunitoSans; font-size: 16px; border-radius: 3px; background-color: #ffffff; box-shadow: inset 0px 2px 8px 0 #edefef; border: solid 1px #b7bebf !important; padding: 10px 15px 8px 15px; margin-top: 8px; } .thf-input-elem:disabled { background-color: #edefef; border: solid 1px #b7bebf; } thf-input.ng-valid .thf-input-elem:focus, thf-email.ng-valid .thf-input-elem:focus, thf-url.ng-valid .thf-input-elem:focus, thf-number.ng-valid .thf-input-elem:focus { outline: none; border: solid 1px #0c9abe !important; border: solid 1px var(--water-blue); } thf-input.ng-invalid.ng-dirty input, thf-email.ng-invalid.ng-dirty input, thf-url.ng-invalid.ng-dirty input, thf-number.ng-invalid.ng-dirty input { outline: none; border: solid 1px #c64840 !important; } thf-input.ng-invalid.ng-dirty .thf-span-clean, thf-email.ng-invalid.ng-dirty .thf-span-clean, thf-url.ng-invalid.ng-dirty .thf-span-clean, thf-number.ng-invalid.ng-dirty .thf-span-clean { color: #c64840 !important; } .thf-field-flex-container { display: flex; } .thf-text-clean { position: relative; width: 0px; font-size: 25px; color: #0c9abe; right: 35px; top: 10px; text-decoration: none; cursor: pointer; } .thf-field-error { display: block; height: 20px; font-family: NunitoSans; font-size: 12px; text-align: left; color: #c64840; padding-left: 2px; margin-top: 2px; } .thf-field-error span { padding-bottom: 2px; vertical-align: middle; font-size: 14px; font-weight: bold; } "]}]}],n.ctorParameters=function(){return[]},n.propDecorators={label:[{type:e.Input,args:["t-label"]}],help:[{type:e.Input,args:["t-help"]}],setMaxlength:[{type:e.Input,args:["t-maxlength"]}]},n}(u.ThfInputBaseComponent),ht=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule,p.FormsModule,d.HttpClientModule,R],exports:[G,H,W,Q,Z,et,ot,at,ct,dt],declarations:[q,G,$,H,W,J,Q,Z,et,ot,at,ct,dt],providers:[j,L],entryComponents:[q]}]}],t.ctorParameters=function(){return[]},t}(),ut=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){t(e,n);function o(){this.constructor=e}e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),ft=function(t){ut(n,t);function n(n,o){var i=t.call(this)||this;return i.viewRef=n,i.renderer=o,i.sortable=!1,i.selectable=!1,i.editable=!1,i.groupable=!1,i.exportButtons=!1,i.showMoreDisabled="false",i.showRemoveButton=!1,i.addButton=!1,i.showMore=new e.EventEmitter,i.selectionChange=new e.EventEmitter,i.saveValue=new e.EventEmitter,i.editedRowIndex=-1,i.groups=[],i.state={skip:0},i.sort=[],i.addButtonCalled=!1,i.isCancelling=!1,i._parentRef=n._view.component,i.allData=i.allData.bind(i),i}return n.prototype.ngOnInit=function(){var t=this;if(this.renderer.listen("document","click",function(e){var n=e.target;t.validateSaveEventInDocument(n)}),this.data||(this.data=[]),this.columns?this.defineColumnType():this.columns=[],this.sortable&&(this.sortableObject={allowUnsort:this.sortable,mode:"single"}),this.groupable){for(var e=this.columns.length,n=0;n<e;n++){var o=this.columns[n];this.groups.length<2&&o.groupHeader&&this.groups.push({field:o.column})}this.sortableObject=null,this.loadDataGroupable()}else this.loadData();this.editable||(this.grid=null)},n.prototype.defineColumnType=function(){var t={number:function(t){t.type="numeric",t.format=void 0},currency:function(t){t.type="numeric",t.format="{0:c}"},date:function(t){t.type="date",t.format&&t.format.trim().length>0?t.format="{0:"+t.format+"}":t.format="{0:dd/MM/yyyy}"},string:function(t){t.type="text",t.format=void 0}};this.columns.forEach(function(e){e.type&&t.hasOwnProperty(e.type.trim().toLowerCase())?t[e.type.trim().toLowerCase()](e):e.type="text"})},n.prototype.isChildOf=function(t,e){for(;t&&t.parentElement;){if(this.hasClass(t.parentElement,e))return!0;t=t.parentElement}return!1},n.prototype.hasClass=function(t,e){return new RegExp(e).test(t.className)},n.prototype.validateSaveEventInDocument=function(t){this.isChildOf(t,"k-grid-content")||this.isChildOf(t,"k-grid-toolbar")||this.saveClick()},n.prototype.sortChange=function(t){this.sort=t,this.loadData()},n.prototype.dataStateChange=function(t){t.group.length>2&&t.group.splice(0,1),this.state=t,this.gridView=y.process(this.data,this.state)},n.prototype.updateIndex=function(t){for(var e=0,n=t.length;e<n;e++)this.data[e]=t[e]},n.prototype.loadData=function(){this.updateIndex(y.orderBy(this.data,this.sort)),this.gridView={data:this.data,total:this.data.length}},n.prototype.createFormGroup=function(){for(var t={},e=0;e<this.columns.length;e++){var n=this.columns[e];n.checkbox||(n.required?t[n.column]=new p.FormControl("",p.Validators.required):t[n.column]=new p.FormControl(""))}this.formGroup=new p.FormGroup(t)},n.prototype.addHandler=function(t){var e=t.sender;if(this.editedRowIndex>=0&&this.closeEditor(e,this.editedRowIndex),this.addButtonCalled=!0,this.createFormGroup(),this.addAction){if(!this.executeFunctionValidation(this.addAction,this.formGroup.value))return;this.formGroup.setValue(this.formGroup.value)}e.addRow(this.formGroup)},n.prototype.executeFunctionValidation=function(t,e){return t&&this._parentRef[t](e)},n.prototype.saveLine=function(){if(this.editable){var t=void 0;this.editedRowIndex>=0?(t=Object.assign(this.data[this.editedRowIndex],this.formGroup.value),this.data[this.editedRowIndex]=t):this.addButtonCalled&&this.formGroup&&(t=this.formGroup.value,this.data.push(t),this.addButtonCalled=!1),this.isGroup()&&this.loadDataGroupable(),this.saveValue.emit({data:t})}},n.prototype.editClickHandler=function(t){var e=t.rowIndex,n=t.dataItem;this.isValidForm()||(this.executeFunctionValidation(this.saveAction,{data:this.data[this.editedRowIndex]})&&this.saveLine(),this.isGroup()&&(e=this.getRowIndex(this.data,n)),this.editHandler({sender:this.grid,rowIndex:e,dataItem:n}))},n.prototype.getRowIndex=function(t,e){for(var n=Object.keys(e),o=0;o<t.length;o++){for(var i=!0,a=0,r=n;a<r.length;a++){var s=r[a];if(t[o][s]!==e[s]){i=!1;break}}if(i)return o}return-1},n.prototype.editHandler=function(t){var e=t.sender,n=t.rowIndex,o=t.dataItem;if(this.editable){this.closeEditor(e),this.editedProducted=Object.assign({},o),this.formGroup=new p.FormGroup({});for(var i=0,a=Object.keys(o);i<a.length;i++){var r=a[i],s=void 0,l=this.getColumn(r);l&&l.editable&&(s=l.required?new p.FormControl(o[r],p.Validators.required):new p.FormControl(o[r]),this.formGroup.addControl(r,s))}this.editedRowIndex=n,e.editRow(n,this.formGroup)}},n.prototype.saveClick=function(){if(this.addButtonCalled&&this.saveAction&&this.formGroup){if(!this.executeFunctionValidation(this.saveAction,{data:this.formGroup.value}))return}else if(this.editedRowIndex>=0&&this.saveAction&&!this.executeFunctionValidation(this.saveAction,{data:this.data[this.editedRowIndex]}))return void this.closeEditor(this.grid,this.editedRowIndex);this.isValidForm()||(this.saveLine(),this.closeEditor(this.grid),this.isGroup()?this.loadDataGroupable():this.loadData())},n.prototype.isGroup=function(){return this.groups&&this.groups.length>0},n.prototype.getColumn=function(t){for(var e=0;e<this.columns.length;e++){var n=this.columns[e];if(n.column===t)return n}},n.prototype.closeEditor=function(t,e){e=this.editedRowIndex,t&&t.closeRow(e),this.editedRowIndex=void 0,this.formGroup=void 0},n.prototype.saveHandler=function(t){var e=t.sender,n=t.rowIndex,o=t.formGroup,i=t.isNew,a=o.value;i&&!this.editable?this.data.push(a):this.data[n]=Object.assign(this.data[n],a),this.isGroup()?this.loadDataGroupable():this.loadData(),e.closeRow(n)},n.prototype.cancelPropagation=function(t){t.stopPropagation()},n.prototype.cancelHandler=function(t){var e=t.sender,n=t.rowIndex;null!=this.editedProducted&&(this.data[n]=this.editedProducted,this.editedProducted=null),this.isGroup()?this.loadDataGroupable():this.loadData(),this.closeEditor(e)},n.prototype.removeHandler=function(t){var e=t.rowIndex;this.removeAction&&!this.executeFunctionValidation(this.removeAction,{data:this.data[e]})||(this.data.splice(e,1),this.groupable?this.loadDataGroupable():this.loadData())},n.prototype.isValidForm=function(){return this.formGroup&&!this.formGroup.valid},n.prototype.allData=function(){return{data:y.process(this.data,{}).data}},n.prototype.changeValueCheckbox=function(t,e,n,o){this.editable?(n[o]=t.target.checked,this.data[e]=Object.assign(n),this.saveValue.emit({data:this.data[e]})):t.target.checked=!t.target.checked},n.prototype.onSelectionChange=function(t){this.selectionChange.emit({data:this.gridView.data[t.index]})},n.prototype.onShowMore=function(){this.showMore.emit(null),this.groupable?this.loadDataGroupable():this.loadData()},n.prototype.groupChange=function(t){this.groups=t,this.loadDataGroupable()},n.prototype.loadDataGroupable=function(){this.gridView=y.process(this.data,{group:this.groups}),this.dataArrayOrdered=[],this.getObjects(this.gridView.data),this.updateIndex(this.dataArrayOrdered)},n.prototype.getObjects=function(t){var e=this;t.forEach(function(t){t.items instanceof Array?e.getObjects(t.items):e.dataArrayOrdered.push(t)})},n.decorators=[{type:e.Component,args:[{selector:"thf-grid",encapsulation:e.ViewEncapsulation.None,template:'<kendo-grid  [data]="gridView"  [sortable]="sortableObject" [sort]="sort" [groupable]="groupable" [group]="groups" [selectable]="selectable" (dataStateChange)="dataStateChange($event)" (groupChange)="groupChange($event)" (selectionChange)="onSelectionChange($event)" (sortChange)="sortChange($event)" (add)="addHandler($event)" (cancel)="cancelHandler($event)" (cellClick)="editClickHandler($event)" (edit)="editHandler($event)" (remove)="removeHandler($event)" (save)="saveHandler($event)" style="height: 70%"> <kendo-grid-messages  i18n-noRecords="" noRecords="Não há registros" i18n-groupPanelEmpty="" groupPanelEmpty="Arraste a coluna até o cabeçalho e solte para agrupar por esta coluna"> </kendo-grid-messages> <ng-template kendoGridToolbarTemplate *ngIf="addButton || exportButtons" > <button kendoGridAddCommand *ngIf="addButton" class="k-primary">Adicionar</button> <button type="button" kendoGridExcelCommand *ngIf="exportButtons" ><span class="k-icon k-i-file-excel"></span></button> <button kendoGridPDFCommand *ngIf="exportButtons"><span class=\'k-icon k-i-file-pdf\'></span></button> </ng-template> <kendo-grid-column *ngFor="let col of columns; let i = index" [field]="col.column" [title]="col.label" [width]="col.width" [filter]="col.filter" [format]="col.format" [editor]="col.type"> <ng-template kendoGridCellTemplate let-data *ngIf="col.checkbox" let-rowIndex="rowIndex"> <input type="checkbox" id="chkbox_{{rowIndex}}" name="chkbox_{{col.column}}_{{rowIndex}}" [checked]="data[col.column]" (change)="changeValueCheckbox($event, rowIndex, data, col.column)" class="thf-grid thf-grid-checkbox" /> <label for="chkbox_{{rowIndex}}"></label> </ng-template> <ng-template kendoGridGroupHeaderTemplate let-value="value" *ngIf="col.groupHeader"> {{value}} </ng-template> </kendo-grid-column> <kendo-grid-command-column title="" width="80"> <ng-template kendoGridCellTemplate let-isNew="isNew"> <button kendoGridRemoveCommand class="k-primary" *ngIf="showRemoveButton" >Remover</button> <button kendoGridCancelCommand class="k-primary" (click)="cancelPropagation($event)">{{ isNew ? \'Descartar\' : \'Cancelar\' }} </button> </ng-template> </kendo-grid-command-column> <kendo-grid-excel fileName="spreadsheet.xlsx" [fetchData]="allData"></kendo-grid-excel> <kendo-grid-pdf fileName="grid.pdf" [allPages]="true"> <kendo-grid-pdf-margin top="1cm" left="1cm" right="1cm" bottom="1cm"></kendo-grid-pdf-margin> </kendo-grid-pdf> </kendo-grid> <div class="thf-grid-show-more" *ngIf="showMore.observers.length > 0"> <div style="text-align: center;"> <thf-button t-label="Carregar mais resultados" (t-click)="onShowMore()" t-id="btnShowMoreId" [t-disabled]="showMoreDisabled"></thf-button> </div> </div> ',styles:[".k-grid .k-state-selected { background-color: skyblue !important; color: #000000; } .k-grid .k-alt.k-state-selected { background-color: skyblue !important; color: #000000; } .thf-grid.thf-grid-checkbox { width: 20px; height: 20px; border-radius: 2px; box-shadow: inset 0 1px 8px 0 rgba(0, 0, 0, 0.1); border: solid 1px rgba(255, 255, 255, 0.6); } .thf-grid.thf-grid-checkbox:checked { width: 20px; height: 20px; border-radius: 2px; } input[type=checkbox] { visibility: hidden; position: absolute; } input[type=checkbox] + label:before { width: 20px; height: 20px; margin-top: -2px; margin-right: 8px; display: inline-block; vertical-align: middle; background-color: #ffffff; box-shadow: inset 0px 2px 8px 0 #edefef; border: solid 1px #b7bebf; content: ' '; } input[type=checkbox]:checked + label:before { background-color: #0c9abe; box-shadow: none; color: white; font-family: 'TotvsIcon' !important; line-height: 18px; content: '\\e937'; padding-left: 1px; } input[type=checkbox]:disabled + label:before { background-color: #edefef; border: solid 1px #b7bebf; } input[type=checkbox]:checked:disabled + label:before { color: #b7bebf; border: solid 1px #b6bdbf; } input[type=checkbox] + label:before { border-radius: 2px; } .thf-grid-show-more { width: 100%; margin-top: 10px; margin-bottom: 10px; } "]}]}],n.ctorParameters=function(){return[{type:e.ViewContainerRef},{type:e.Renderer2}]},n.propDecorators={columns:[{type:e.Input,args:["t-columns"]}],sortable:[{type:e.Input,args:["t-sortable"]}],selectable:[{type:e.Input,args:["t-selectable"]}],editable:[{type:e.Input,args:["t-editable"]}],groupable:[{type:e.Input,args:["t-groupable"]}],exportButtons:[{type:e.Input,args:["t-show-export-buttons"]}],showMoreDisabled:[{type:e.Input,args:["t-show-more-disabled"]}],showRemoveButton:[{type:e.Input,args:["t-show-remove-button"]}],addButton:[{type:e.Input,args:["t-show-add-button"]}],saveAction:[{type:e.Input,args:["t-save-action"]}],removeAction:[{type:e.Input,args:["t-remove-action"]}],addAction:[{type:e.Input,args:["t-add-action"]}],showMore:[{type:e.Output,args:["t-show-more"]}],selectionChange:[{type:e.Output,args:["t-selection-change"]}],saveValue:[{type:e.Output,args:["t-save-value"]}],grid:[{type:e.ViewChild,args:[b.GridComponent]}]},n}(v.ThfGridBaseComponent),mt=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){t(e,n);function o(){this.constructor=e}e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),gt=function(t){mt(n,t);function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.focusableElements="input, select, textarea, button, a",e}return n.prototype.open=function(){t.prototype.open.call(this),this.handleFocus()},n.prototype.close=function(){t.prototype.close.call(this),document.removeEventListener("focus",this.focusFunction,!0)},n.prototype.handleFocus=function(){var t=this;setTimeout(function(){t.modalContent&&(t.initFocus(),document.addEventListener("focus",t.focusFunction,!0))})},n.prototype.initFocus=function(){var t=this;if(this.focusFunction=function(e){t.modalContent.nativeElement.contains(e.target)||(e.stopPropagation(),t.firstElement.focus())},this.setFirstElement(),this.hideClose)this.firstElement.focus();else{this.modalContent.nativeElement.querySelectorAll(this.focusableElements)[1].focus()}},n.prototype.setFirstElement=function(){this.firstElement=this.modalContent.nativeElement.querySelector(this.focusableElements)},n.decorators=[{type:e.Component,args:[{selector:"thf-modal",template:'<div class="thf-modal" *ngIf="!isHidden"> <div class="thf-modal-overlay" (click)="onClickOut()"></div> <div #modalContent class="thf-modal-content thf-modal-{{ modalSize }}" tabindex="-1"> <div class="thf-modal-header"> <div class="thf-modal-title"> <a class="thf-modal-header-close-button" *ngIf="!hideClose" (click)="close()" tabindex="0" > <span class="thf-icon thf-icon-close"></span> </a> {{ title }} </div> </div> <div class="thf-modal-body"> <ng-content></ng-content> </div> <div class="thf-modal-footer"> <thf-button *ngIf="secondaryAction" class="thf-modal-footer-button" [t-label]="secondaryAction.label" (t-click)="secondaryAction.action()" t-primary="false"> </thf-button> <thf-button *ngIf="primaryAction" class="thf-modal-footer-button" [t-label]="primaryAction.label" (t-click)="primaryAction.action()" t-primary="true"> </thf-button> </div> </div> </div> ',styles:[".thf-modal { font-family: NunitoSans; position: relative; z-index: 50; } .thf-modal-overlay:before { content: ''; position: fixed; background-color: #052e3e; top: 0; bottom: 0; right: 0; left: 0; opacity: 0.7; } .thf-modal-sm { width: 50% !important; } .thf-modal-md { width: 70% !important; } .thf-modal-lg { width: 80% !important; } .thf-modal-xl { width: 90% !important; } .thf-modal-auto { width: auto !important; } @media screen and (max-width: 480px) { .thf-modal-content { position: fixed; left: 50%; top: 50%; transform: translate(-50%, -50%); background-color: #ffffff; box-shadow: 0px 4px 16px 0 rgba(7, 9, 9, 0.24); max-height: 90%; width: 90%; } } @media screen and (min-width: 481px) and (max-width: 960px) { .thf-modal-content { position: fixed; left: 50%; top: 50%; transform: translate(-50%, -50%); background-color: #ffffff; box-shadow: 0px 4px 16px 0 rgba(7, 9, 9, 0.24); max-height: 90%; width: 80%; } } @media screen and (min-width: 961px) { .thf-modal-content { position: fixed; left: 50%; top: 50%; transform: translate(-50%, -50%); background-color: #ffffff; box-shadow: 0px 4px 16px 0 rgba(7, 9, 9, 0.24); max-height: 90%; width: 70%; } } .thf-modal-header { border-radius: 3px; padding-top: 18px; padding-left: 24px; padding-right: 24px; padding-bottom: 12px; border: 0px; } .thf-modal-title { font-size: 34px; font-weight: 200; line-height: 27px; text-align: left; color: #4a5c60; } .thf-modal-header-close-button { float: right; border-radius: 1px; text-align: right; color: #0c9abe; cursor: pointer; text-decoration: none; } .thf-modal-body { margin: 12px 24px 12px 24px; font-size: 14px; line-height: 1.71; text-align: left; color: #425357; max-height: calc(100vh - 210px); overflow-y: auto; } .thf-modal-footer { font-family: NunitoSans; background-color: #ffffff; border-radius: 3px; border: 0px; text-align: right; padding-top: 12px; padding-left: 0px; padding-bottom: 24px; padding-right: 24px; } .thf-modal-footer-button { margin-left: 16px; margin-top: 5px; } ::-webkit-scrollbar { width: 4px; height: 50px; opacity: 0.5; border-radius: 2px; } ::-webkit-scrollbar-thumb { background-color: #0c9abe; } "]}]}],n.ctorParameters=function(){return[]},n.propDecorators={modalContent:[{type:e.ViewChild,args:["modalContent",{read:e.ElementRef}]}]},n}(x.ThfModalBaseComponent),bt=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule,R],declarations:[gt],exports:[gt],providers:[]}]}],t.ctorParameters=function(){return[]},t}(),yt=function(t,e){return new RegExp(e).test(t.className)},vt=function(t,e){for(;t&&t.parentElement;){if(yt(t.parentElement,e))return!0;t=t.parentElement}return!1},xt=function(t,e){return t.toLowerCase()===e.toLowerCase()},wt=function(){function t(t,n){this.el=t,this.renderer=n,this.editRow=new e.EventEmitter,this.saveRow=new e.EventEmitter}return t.prototype.ngOnInit=function(){var t=this;this.renderer.listen(this.el.nativeElement,"click",function(e){var n=e.target,o=function(t,e){for(;t&&t.parentElement;){if(xt(t.nodeName,e)||xt(t.parentElement.nodeName,e))return t.parentElement;t=t.parentElement}return null}(n,"tr");o&&!yt(o,"k-grid-edit-row")&&vt(n,"k-grid-content")&&t.editRow.emit(o.rowIndex)}),this.renderer.listen("document","click",function(e){var n=e.target;vt(n,"k-grid-content")||vt(n,"k-grid-toolbar")||t.saveRow.emit()})},t.decorators=[{type:e.Directive,args:[{selector:"[row-click]"}]}],t.ctorParameters=function(){return[{type:e.ElementRef},{type:e.Renderer2}]},t.propDecorators={editRow:[{type:e.Output}],saveRow:[{type:e.Output}]},t}(),kt=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule,b.GridModule,b.ExcelModule,b.PDFModule,R,bt],declarations:[ft,wt],exports:[ft],providers:[],schemas:[]}]}],t.ctorParameters=function(){return[]},t}(),Ct=function(){function t(){}return t.decorators=[{type:e.Component,args:[{selector:"thf-info",template:'<div><span class="thf-info label">{{label}}</span></div> <div><span class="thf-info value">{{value}}</span></div> ',styles:[".thf-info.label { font-family: 'NunitoSans-Bold'; font-size: 14px; text-align: left; color: #4a5c60; height: 12px; padding: 0px; } .thf-info.value { font-family: 'NunitoSans'; font-size: 16px; text-align: left; color: #1e2526; height: 13px; padding: 0px; margin-top: 11px; display: block; } "]}]}],t.ctorParameters=function(){return[]},t.propDecorators={label:[{type:e.Input,args:["t-label"]}],value:[{type:e.Input,args:["t-value"]}]},t}(),It=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule],declarations:[Ct],exports:[Ct],providers:[],schemas:[]}]}],t.ctorParameters=function(){return[]},t}(),Mt=function(){function t(){this.showMore=new e.EventEmitter,this.showMoreDisabled="false"}return t.prototype.onShowMore=function(){this.showMore.emit(null)},t.decorators=[{type:e.Component,args:[{selector:"thf-list",template:'<ng-content></ng-content> <div style="width: 100%" *ngIf="showMore.observers.length > 0"> <div style="text-align: center;"> <thf-button t-label="Carregar mais resultados" (t-click)="onShowMore()" t-id="btnShowMoreId" [t-disabled]="showMoreDisabled"></thf-button> </div> </div>'}]}],t.ctorParameters=function(){return[]},t.propDecorators={showMore:[{type:e.Output,args:["t-show-more"]}],showMoreDisabled:[{type:e.Input,args:["t-show-more-disabled"]}]},t}(),_t=function(){function t(t,e){this.myElement=t,this.viewRef=e,this.actions=[],this.showLink=!0,this.showContent=!0,this._parentRef=e._view.component,this.collapsed=!0}return t.prototype.ngAfterContentInit=function(){this.content&&0===this.content.nativeElement.children.length&&(this.showContent=!1),this.detailsContent&&0===this.detailsContent.nativeElement.children.length&&(this.showLink=!1)},t.prototype.showDetails=function(t){var e=this.myElement.nativeElement,n=e.querySelector("#spanIcon"+t+"Id"),o=e.querySelector("#col"+t+"Id");if(n){var i=n.className.includes("thf-icon-arrow-up")?"thf-icon-arrow-down":"thf-icon-arrow-up",a="thf-icon-arrow-up"===i?"Ocultar detalhes":"Exibir detalhes";e.querySelector(".thf-list-details").innerHTML='<span id="spanIcon'+t+'Id" class="'+i+'"></span> '+a}o&&(o.className="collapse"===o.className?"not-collapse":"collapse")},Object.defineProperty(t.prototype,"parentRef",{get:function(){return this._parentRef},enumerable:!0,configurable:!0}),t.decorators=[{type:e.Component,args:[{selector:"thf-list-item",template:'<div class="thf-list-border"> <div class="thf-list-header-container"> <div *ngIf="title" class="thf-list-title-container"> <span class="thf-list-title">{{title}}</span> </div> <div id="divActionButtonsId" class="thf-list-actions-button" *ngIf="actions.length > 0 && actions.length <= 2"> <thf-button *ngFor="let action of actions" [t-label]="action.label" (t-click)="parentRef[action.function](index)" t-small="true"></thf-button> </div> <div id="divActionDropdownId" class="thf-list-more-button" *ngIf="actions.length > 0 && actions.length > 2"> <a href="javascript:void(0);" id="dropdownMenu{{index}}" data-toggle="dropdown"><span class="thf-icon thf-icon-more"></span></a> <ul class="dropdown-menu thf-list-more-base" aria-labelledby="dropdownMenu"> <li class="thf-list-li-margin" *ngFor="let action of actions"> <a href="javascript:void(0);" class="thf-list-more-text" (click)="parentRef[action.function](index)">{{action.label}}</a> </li> </ul> </div>  </div> <div class="thf-list-item-container" #content [hidden]="!showContent"> <ng-content select="thf-list-item-content"></ng-content> </div> <div select="details" class="thf-list-details-link text-center" [hidden]="!showLink"> <a href="javascript:void(0);" class="thf-list-details" (click)="showDetails(index)"><span id="spanIcon{{index}}Id" class="thf-icon thf-icon-arrow-down"></span> Exibir detalhes</a> <div id="col{{index}}Id" class="collapse" #detailsContent> <ng-content select="thf-list-item-detail"></ng-content> </div> </div> </div>',styles:[".thf-list-title { display: block; height: 22px; font-family: NunitoSans; font-size: 24px; line-height: 1.25; text-align: left; color: #0c9abe; margin: 19px 0 27px 27px; } .thf-list-title-container { width: 60%; } .thf-list-border { border-radius: 3px; background-color: #ffffff; border: solid 1px #dbdedf; margin-bottom: 16px; } .thf-list-actions-button, .thf-list-more-button { padding-right: 38px; margin-top: 18px; width: 40%; text-align: end; } .thf-list-header-container { width: 100%; display: flex; } .thf-list-item-container { padding-left: 27px; margin-bottom: 20px; } thf-button { padding-left: 10px; } .thf-list-li-margin { padding-top: 8px; padding-bottom: 8px; } .thf-list-more-text { font-family: NunitoSans; font-size: 14px !important; line-height: 1.71; text-align: left; color: #1d9abc; padding-left: 16px; } .thf-list-more-text:hover { color: #c44944; } .dropdown-menu { left: 82% !important; top: initial !important; } .thf-list-more-base { border-radius: 3px; background-color: #ffffff; border: none; left: auto; box-shadow: 0px 1px 4px 0 rgba(0, 0, 0, 0.3) !important; } .thf-list-details { height: 12px; font-family: 'NunitoSans-Bold'; font-size: 14px !important; line-height: 1.71; text-align: left; color: #1d9abc; padding-top: 13px; padding-bottom: 15px; } .thf-list-details-link { border-top: solid 1px #dbdedf; margin-top: 49px; } "]}]}],t.ctorParameters=function(){return[{type:e.ElementRef},{type:e.ViewContainerRef}]},t.propDecorators={title:[{type:e.Input,args:["t-title"]}],index:[{type:e.Input,args:["t-index"]}],actions:[{type:e.Input,args:["t-actions"]}],detailsContent:[{type:e.ViewChild,args:["detailsContent"]}],content:[{type:e.ViewChild,args:["content"]}]},t}(),Et=function(){function t(){}return t.decorators=[{type:e.Component,args:[{selector:"thf-list-item-detail",template:"<ng-content></ng-content>"}]}],t.ctorParameters=function(){return[]},t}(),Ot=function(){function t(){}return t.decorators=[{type:e.Component,args:[{selector:"thf-list-item-content",template:"<ng-content></ng-content>"}]}],t.ctorParameters=function(){return[]},t}(),At=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule,R],declarations:[Mt,_t,Et,Ot],exports:[Mt,_t,Et,Ot],providers:[],schemas:[]}]}],t.ctorParameters=function(){return[]},t}(),Dt=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){t(e,n);function o(){this.constructor=e}e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Pt=function(t){Dt(o,t);function o(e,n,o,i){var a=t.call(this)||this;return a.elementRef=e,a.viewRef=n,a.location=o,a.router=i,a.parentRef=n._view.component,a.router.events.subscribe(function(t){t instanceof c.NavigationEnd&&a.checkActiveMenuByUrl(a.location.path())}),a}return o.prototype.ngOnInit=function(){var t=this;this.validateMenus(),setTimeout(function(){t.checkActiveMenuByUrl(t.location.path())})},o.prototype.validateMenus=function(){this.menus.forEach(function(t){if(""===t.label.trim())throw new Error("O atributo ThfMenuItem.label não pode ser vazio.");t.subItems&&t.subItems.forEach(function(t){if(""===t.label.trim())throw new Error("O atributo ThfMenuItem.label não pode ser vazio.")})})},o.prototype.clickMenuItem=function(t){this.menuMobileOpened=!1,this.isExternalLink(t.link)&&this.openExternalLink(t.link),t.action&&this.executeMenuAction(t),t.link&&!this.isExternalLink(t.link)&&(this.menuItemActive=t,this.menuItemOpened=void 0)},o.prototype.clickMenuItemGrouped=function(t){this.menuItemOpened=this.menuItemOpened===t?void 0:t},o.prototype.clickSubMenuItem=function(t){this.menuMobileOpened=!1,this.isExternalLink(t.link)&&this.openExternalLink(t.link),t.action&&this.executeMenuAction(t),t.link&&!this.isExternalLink(t.link)&&(this.menuItemActive=t)},o.prototype.toggleMenuMobile=function(){this.menuMobileOpened=!this.menuMobileOpened},o.prototype.isMenuItemSelected=function(t){return this.menuItemActive===t&&this.menuItemActive!==this.menuItemOpened||t!==this.menuItemOpened&&t.subItems&&t.subItems.includes(this.menuItemActive)},o.prototype.checkActiveMenuByUrl=function(t){this.linkActive&&this.linkActive===t||this.setActiveMenuByUrl(t)},o.prototype.checkUrl=function(t){var e="";return t.link&&(e=t.link.replace(/^(\.)+/g,"")),e.startsWith("/")||(e="/".concat(e)),e},o.prototype.setActiveMenuByUrl=function(t){var e=this;this.menus.some(function(n){if(e.checkUrl(n)===t)return setTimeout(function(){e.menuItemActive=n,e.linkActive=e.menuItemActive.link,e.menuItemOpened=void 0}),!0;if(n.subItems){var o=n.subItems.find(function(n){return e.checkUrl(n)===t});o&&setTimeout(function(){return e.menuItemActive=o,e.menuItemOpened=n,e.linkActive=e.menuItemActive.link,!0})}})},o.prototype.executeMenuAction=function(t){"string"==typeof t.action?this.parentRef[t.action](t):t.action.call(this.parentRef,t)},o.prototype.openExternalLink=function(t){window.open(t,"_blank")},o.prototype.isExternalLink=function(t){if(t)return t.startsWith("http")},o.decorators=[{type:e.Component,args:[{selector:"thf-menu",template:'<div *ngIf="menuMobileOpened" class="thf-menu-overlay" (click)="toggleMenuMobile()"></div> <div class="thf-menu-mobile thf-clickable" (click)="toggleMenuMobile()"> <span class="thf-icon thf-icon-menu"></span> </div> <div class="thf-menu" [ngClass]="{ \'thf-menu-animation\' : menuMobileOpened }"> <a href="/" class="thf-menu-logo-container"> <div class="thf-menu-logo"></div> </a> <nav class="thf-menu-container"> \x3c!-- Inner e outer para esconder scroll --\x3e <div class="thf-menu-outer"> <div class="thf-menu-inner"> <div *ngFor="let menu of menus" class="thf-menu-item-wrapper"> \x3c!-- item de menu não selecionado sem agrupamento --\x3e <a *ngIf="!menu.subItems && !this.isExternalLink(menu.link) && menu.link" class="thf-menu-item-link" (click)="clickMenuItem(menu)" [routerLink]="menu.link"> <div [ngClass]="{\'thf-menu-item\': true, \'thf-menu-item-selected\': menuItemActive === menu}"> {{ menu.label }} </div> </a> <a *ngIf="!menu.subItems && (this.isExternalLink(menu.link) || !menu.link)" class="thf-menu-item-link" (click)="$event.preventDefault();clickMenuItem(menu);" [href]="menu.link ? menu.link : \'javascript:;\'"> <div [ngClass]="{\'thf-menu-item\': true, \'thf-menu-item-selected\': menuItemActive === menu}"> {{ menu.label }} </div> </a> \x3c!-- item de menu com sub itens --\x3e <div *ngIf="menu.subItems"> <div (click)="clickMenuItemGrouped(menu)" class="thf-menu-item thf-clickable" [ngClass]="{ \'thf-menu-item-selected\': isMenuItemSelected(menu), \'thf-menu-item-grouper-up\': menu === menuItemOpened }"> \x3c!-- menu agrupado fechado --\x3e <div *ngIf="menu !== menuItemOpened" class="thf-menu-grouper-icon-down"> <span class="thf-icon thf-icon-arrow-down"></span> </div> \x3c!-- menu agrupado aberto --\x3e <div *ngIf="menu === menuItemOpened" class="thf-menu-grouper-icon-up"> <span class="thf-icon thf-icon-arrow-up"></span> </div> {{ menu.label }} </div> \x3c!-- sub itens menu agrupado --\x3e <div [ngClass]="{ \'thf-menu-sub-items-visible\': menu === menuItemOpened }" class="thf-menu-sub-items"> <div *ngFor="let subMenu of menu.subItems"> <a *ngIf="!this.isExternalLink(subMenu.link) && subMenu.link" class="thf-menu-item-link" [routerLink]="subMenu.link" (click)="clickSubMenuItem(subMenu)"> <div [ngClass]="{\'thf-menu-item\': true, \'thf-menu-item-selected\': menuItemActive === subMenu}"> {{ subMenu.label }} </div> </a> <a *ngIf="(this.isExternalLink(subMenu.link) || !subMenu.link)" class="thf-menu-item-link" [href]="subMenu.link ? subMenu.link : \'javascript:;\'" (click)="$event.preventDefault(); clickSubMenuItem(subMenu);"> <div [ngClass]="{\'thf-menu-item\': true, \'thf-menu-item-selected\': menuItemActive === subMenu}"> {{ subMenu.label }} </div> </a> </div> </div> </div> </div> </div> </div> </nav> </div> '}]}],o.ctorParameters=function(){return[{type:e.ElementRef},{type:e.ViewContainerRef},{type:n.Location},{type:c.Router}]},o}(w.ThfMenuBaseComponent),St=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule,c.RouterModule],declarations:[Pt],exports:[Pt]}]}],t.ctorParameters=function(){return[]},t}(),Rt=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){t(e,n);function o(){this.constructor=e}e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ft=function(t){Rt(n,t);function n(e,n,o){var i=t.call(this)||this;return i.viewRef=e,i.renderer=n,i.router=o,i.limitPrimaryActions=3,i.maxWidthMobile=480,i.parentRef=e._view.component,i}return n.prototype.ngAfterContentInit=function(){var t=this;this.setIsMobile(),this.setDropdownActions(),this.renderer.listenGlobal("window","resize",function(e){t.onResize(e)})},n.prototype.ngOnChanges=function(t){this.setDropdownActions()},n.prototype.callAction=function(t){t.url?this.router.navigate([t.url]):t.action&&f.callFunction(t.action,this.parentRef)},n.prototype.onResize=function(t){t.target.innerWidth<this.maxWidthMobile?(this.isMobile=!0,this.limitPrimaryActions=2,this.setDropdownActions()):(this.isMobile=!1,this.limitPrimaryActions=3,this.setDropdownActions())},n.prototype.setIsMobile=function(){window.innerWidth<this.maxWidthMobile&&(this.isMobile=!0,this.limitPrimaryActions=2)},n.prototype.setDropdownActions=function(){this.actions.length>this.limitPrimaryActions&&(this.dropdownActions=this.actions.slice(this.limitPrimaryActions-1))},n.decorators=[{type:e.Component,args:[{selector:"thf-page-default",template:'<thf-page> \x3c!-- HEADER --\x3e <thf-page-header [t-title]="title"> \x3c!-- OPERATIONS --\x3e <div class="thf-page-default-actions"> <thf-button *ngIf="actions[0]" t-primary="true" [t-label]="actions[0].label" (t-click)="callAction(actions[0])" [t-disabled]="actions[0].disabled" [t-icon]="actions[0].icon"> </thf-button> <thf-button *ngIf="actions[1] && (actions.length === 2 || !isMobile)" [t-label]="actions[1].label" [t-disabled]="actions[1].disabled" (t-click)="callAction(actions[1])" [t-icon]="actions[1].icon"> </thf-button> <thf-button *ngIf="actions.length === 3 && actions[2] && !isMobile" [t-label]="actions[2].label" (t-click)="callAction(actions[2])" [t-disabled]="actions[2].disabled" [t-icon]="actions[2].icon"> </thf-button> <thf-dropdown *ngIf="actions.length > limitPrimaryActions" t-label="Outras ações" [t-actions]="dropdownActions"> </thf-dropdown> </div> </thf-page-header> \x3c!-- CONTENT --\x3e <thf-page-content> <ng-content> </ng-content> </thf-page-content> </thf-page> '}]}],n.ctorParameters=function(){return[{type:e.ViewContainerRef},{type:e.Renderer},{type:c.Router}]},n}(k.ThfPageDefaultBaseComponent),Tt=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){t(e,n);function o(){this.constructor=e}e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Nt=function(t){Tt(n,t);function n(e){var n=t.call(this)||this;return n.renderer=e,n.height="90%",n.marginTop="",n.overflowY="none",e.listenGlobal("window","resize",function(t){n.setHeightContent(n.pageHeaderElement,n.bottomActions,n.toolbarElement)}),n}return n.prototype.ngAfterViewInit=function(){var t=this;setTimeout(function(){t.pageHeaderElement=document.querySelector("div.thf-page-header"),t.bottomActions=document.querySelector("div.thf-page-bottom-container"),t.toolbarElement=document.querySelector("div.thf-toolbar"),t.setHeightContent(t.pageHeaderElement,t.bottomActions,t.toolbarElement)})},n.prototype.setHeightContent=function(t,e,n){var o=n?33:0,i=t?t.offsetHeight:0,a=e?e.offsetHeight:0,r=document.body.clientHeight-(i+a+o);this.overflowY=e?"auto":"none",this.height=r+"px",this.marginTop=i+o+"px"},n.decorators=[{type:e.Component,args:[{selector:"thf-page-content",template:'<div class="thf-page-content" [style.height]="height" [style.margin-top]="marginTop" [style.overflow-y]="overflowY"> <ng-content></ng-content> </div> '}]}],n.ctorParameters=function(){return[{type:e.Renderer}]},n}(k.ThfPageContentBaseComponent),Vt=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){t(e,n);function o(){this.constructor=e}e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Bt=function(t){Vt(n,t);function n(){return null!==t&&t.apply(this,arguments)||this}return n.decorators=[{type:e.Component,args:[{selector:"thf-page",template:'<div class="thf-page"> <ng-content> </ng-content> </div> '}]}],n.ctorParameters=function(){return[]},n}(C.ThfPageBaseComponent),Lt=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){t(e,n);function o(){this.constructor=e}e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),jt=function(t){Lt(n,t);function n(e){var n=t.call(this)||this;return n.viewRef=e,n.hasAction=k.hasAction,n.callAction=k.callAction,n.parentContext=e._view.component,n}return n.prototype.hasAnyAction=function(){return k.hasAction("cancel",this.parentContext)||k.hasAction("saveNew",this.parentContext)||k.hasAction("save",this.parentContext)},n.decorators=[{type:e.Component,args:[{selector:"thf-page-edit",template:'<thf-page> \x3c!-- HEADER --\x3e <thf-page-header [t-title]="title"> </thf-page-header> \x3c!-- CONTENT --\x3e <thf-page-content> <ng-content> </ng-content> </thf-page-content> \x3c!-- OPERATIONS --\x3e <div *ngIf="hasAnyAction()" class="thf-page-bottom-container"> <div class="thf-page-bottom-actions"> <thf-button t-label="Cancelar" *ngIf="hasAction(\'cancel\', parentContext)" (t-click)="callAction(\'cancel\', parentContext)"> </thf-button> <thf-button t-label="Salvar e Novo" *ngIf="hasAction(\'saveNew\', parentContext)" [t-disabled]="disableSubmit" (t-click)="callAction(\'saveNew\', parentContext)"> </thf-button> <thf-button t-label="Salvar" t-primary="true" *ngIf="hasAction(\'save\', parentContext)" [t-disabled]="disableSubmit" (t-click)="callAction(\'save\', parentContext)"> </thf-button> </div> </div> </thf-page> '}]}],n.ctorParameters=function(){return[{type:e.ViewContainerRef}]},n}(k.ThfPageEditBaseComponent),qt=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){t(e,n);function o(){this.constructor=e}e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),zt=function(t){qt(n,t);function n(e){var n=t.call(this)||this;return n.viewRef=e,n.callActionFn=k.callAction,n.hasActionFn=k.hasAction,n.parentContext=e._view.component,n}return n.prototype.hasAnyAction=function(){return this.hasActionFn("back",this.parentContext)||this.hasActionFn("edit",this.parentContext)||this.hasActionFn("remove",this.parentContext)},n.decorators=[{type:e.Component,args:[{selector:"thf-page-detail",template:'<thf-page> \x3c!-- HEADER --\x3e <thf-page-header [t-title]="title"> </thf-page-header> \x3c!-- CONTENT --\x3e <thf-page-content> <ng-content> </ng-content> </thf-page-content> \x3c!-- OPERATIONS --\x3e <div *ngIf="hasAnyAction()" class="thf-page-bottom-container"> <div class="thf-page-bottom-actions"> <thf-button *ngIf="hasActionFn(\'back\', parentContext)" t-label="Voltar" t-primary="true" t-icon="thf-icon-arrow-left" (t-click)="callActionFn(\'back\', parentContext)"> </thf-button> <thf-button *ngIf="hasActionFn(\'edit\', parentContext)" t-label="Editar" t-icon="thf-icon-edit" (t-click)="callActionFn(\'edit\', parentContext)"> </thf-button> <thf-button *ngIf="hasActionFn(\'remove\', parentContext)" t-label="Remover" t-icon="thf-icon-delete" (t-click)="callActionFn(\'remove\', parentContext)"> </thf-button> </div> </div> </thf-page> '}]}],n.ctorParameters=function(){return[{type:e.ViewContainerRef}]},n}(k.ThfPageDetailBaseComponent),Gt=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){t(e,n);function o(){this.constructor=e}e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),$t=function(t){Gt(n,t);function n(){return null!==t&&t.apply(this,arguments)||this}return n.decorators=[{type:e.Component,args:[{selector:"thf-page-header",template:'<div class="thf-page-header"> \x3c!-- Título --\x3e <div class="thf-page-header-title" *ngIf="title"> {{title}} </div> \x3c!-- Operações --\x3e <div class="thf-page-header-row"> <ng-content></ng-content> </div> </div> '}]}],n.ctorParameters=function(){return[]},n}(k.ThfPageHeaderBaseComponent),Ut=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){t(e,n);function o(){this.constructor=e}e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ht=function(t){Ut(n,t);function n(e,n,o){var i=t.call(this)||this;return i.viewRef=e,i.renderer=n,i.router=o,i.limitPrimaryActions=3,i.maxWidthMobile=480,i.callFunction=f.callFunction,i.parentRef=e._view.component,i}return n.prototype.ngAfterContentInit=function(){var t=this;this.setIsMobile(),this.setDropdownActions(),this.renderer.listenGlobal("window","resize",function(e){t.onResize(e)})},n.prototype.ngOnChanges=function(t){this.setDropdownActions()},n.prototype.callAction=function(t){t.url?this.router.navigate([t.url]):t.action&&f.callFunction(t.action,this.parentRef)},n.prototype.onResize=function(t){t.target.innerWidth<this.maxWidthMobile?(this.isMobile=!0,this.limitPrimaryActions=2,this.setDropdownActions()):(this.isMobile=!1,this.limitPrimaryActions=3,this.setDropdownActions())},n.prototype.setIsMobile=function(){window.innerWidth<this.maxWidthMobile&&(this.isMobile=!0,this.limitPrimaryActions=2)},n.prototype.setDropdownActions=function(){this.actions.length>this.limitPrimaryActions&&(this.dropdownActions=this.actions.slice(this.limitPrimaryActions-1))},n.prototype.callActionFilter=function(t){this.callFunction(this.filter[t],this.parentRef)},n.prototype.onkeypress=function(t){13===t&&this.callActionFilter("action")},n.prototype.changeModel=function(t){this.parentRef[this.filter.ngModel]=t},n.decorators=[{type:e.Component,args:[{selector:"thf-page-list",template:'<thf-page> \x3c!-- HEADER --\x3e <thf-page-header [t-title]="title"> \x3c!-- OPERATIONS --\x3e <div class="thf-page-header-row"> <div class="thf-page-list-actions"> <thf-button *ngIf="actions[0]" t-primary="true" [t-label]="actions[0].label" (t-click)="callAction(actions[0])" [t-disabled]="actions[0].disabled" [t-icon]="actions[0].icon"> </thf-button> <thf-button *ngIf="actions[1] && (actions.length === 2 || !isMobile)" [t-label]="actions[1].label" [t-disabled]="actions[1].disabled" (t-click)="callAction(actions[1])" [t-icon]="actions[1].icon"> </thf-button> <thf-button *ngIf="actions.length == 3 && actions[2] && !isMobile" [t-label]="actions[2].label" (t-click)="callAction(actions[2])" [t-disabled]="actions[2].disabled" [t-icon]="actions[2].icon"> </thf-button> <thf-dropdown *ngIf="actions.length > limitPrimaryActions" t-label="Outras ações" [t-actions]="dropdownActions"> </thf-dropdown> </div> \x3c!-- FILTER --\x3e <div class="thf-page-list-filter-content" *ngIf="filter"> <div class="thf-page-list-filter-wrapper"> <div class="thf-page-list-filter"> <span class="thf-icon thf-icon-search thf-page-list-icon-search" (click)="callActionFilter(\'action\')"> </span> <input type="text" class="thf-input" [ngModel]="parentRef[filter.ngModel]" (ngModelChange)="changeModel($event)" name="model" [placeholder]="filter.placeholder" (keypress)="onkeypress($event.keyCode)"> </div> <div class="thf-page-list-filter-search" *ngIf="filter.advancedAction"> <a class="thf-page-list-filter-search-link" (click)="callActionFilter(\'advancedAction\')"> Busca avançada </a> </div> </div> </div> </div> </thf-page-header> \x3c!-- CONTENT --\x3e <thf-page-content> <ng-content> </ng-content> </thf-page-content> </thf-page> '}]}],n.ctorParameters=function(){return[{type:e.ViewContainerRef},{type:e.Renderer},{type:c.Router}]},n}(k.ThfPageListBaseComponent),Yt=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule,p.FormsModule,c.RouterModule,R,ht,B],declarations:[Nt,Bt,Ft,zt,jt,$t,Ht],exports:[zt,Ft,jt,Ht]}]}],t.ctorParameters=function(){return[]},t}(),Wt=function(){function t(t,n,o){this.viewRef=o,this.actions=[],this.showMoreDisabled=!1,this.showMore=new e.EventEmitter,this.selectAll=!1,this.parentRef=o._view.component,this.myElement=t}return t.prototype.selectAllRows=function(){var t=this;this.selectAll=!this.selectAll,this.items.forEach(function(e){e.$selected=t.selectAll})},t.prototype.selectRow=function(t){t.$selected=!t.$selected,this.selectAll=this.items.filter(function(t){return t.$selected}).length===this.items.length},t.prototype.toggleRowAction=function(t){var e=t.$showAction;this.items.forEach(function(t){t.$showAction&&(t.$showAction=!1)}),t.$showAction=!e},t.prototype.sortColumn=function(t){if(this.sort){var e=this.myElement.nativeElement.querySelector("#sort-"+t.column);e.classList.contains("thf-table-header-icon-unselected")||e.classList.contains("thf-table-header-icon-ascending")?(e.className="thf-table-header-icon-descending",this.sortArray(t,!0)):(e.className="thf-table-header-icon-ascending",this.sortArray(t,!1)),this.clearSortingElement(t)}},t.prototype.clearSortingElement=function(t){for(var e=0;e<this.columns.length;e++){var n=this.columns[e];n.column!==t.column&&(this.myElement.nativeElement.querySelector("#sort-"+n.column).className="thf-table-header-icon-unselected")}},t.prototype.parseDate=function(t){var e;return t.indexOf("-")>=0?(e=t.split("-"),new Date(e[0],e[1]-1,e[2])):t.indexOf("/")>=0?(e=t.split("/"),new Date(e[2],e[1]-1,e[0])):null},t.prototype.sortValidate=function(t,e,n){if(n){if(t<e)return-1;if(t>e)return 1}else{if(t<e)return 1;if(t>e)return-1}return 0},t.prototype.sortArray=function(t,e){var n=this;this.items.sort(function(o,i){if("date"===t.type){var a=n.parseDate(o[t.column]).getTime(),r=n.parseDate(i[t.column]).getTime();return n.sortValidate(a,r,e)}if(e){if(o[t.column]<i[t.column])return-1;if(o[t.column]>i[t.column])return 1}else{if(o[t.column]<i[t.column])return 1;if(o[t.column]>i[t.column])return-1}return 0})},t.prototype.onShowMore=function(){this.showMore.emit(null)},t.decorators=[{type:e.Component,args:[{selector:"thf-table",template:'<table class="thf-table"> <thead> <tr class="thf-table-header"> <th *ngIf="checkbox" class="thf-table-header-ellipsis thf-table-column-checkbox"> <input type="checkbox" class="thf-table-checkbox" [ngClass]="{ \'thf-table-checkbox-checked\': selectAll }"> <label class="thf-table-checkbox-label" (click)="selectAllRows()"></label> </th> <th *ngFor="let column of columns" class="thf-table-header-ellipsis" [style.width]="column.width" [ngClass]="{ \'thf-clickable\': sort, \'thf-table-column-right\': column.type == \'currency\' || column.type == \'number\' }" (click)="sortColumn(column)"> <span id="sort-{{column.column}}" *ngIf="sort"  class=\'thf-table-header-icon-unselected\'></span> <span class="thf-table-header-ellipsis thf-table-header-block">{{ column.label }}</span> </th> <th *ngIf="actions.length > 0" class="thf-table-header-action"></th> </tr> </thead> <tbody> <tr *ngFor="let row of items, let rowIndex = index;" class="thf-table-row"> <td *ngIf="checkbox" class="thf-table-column thf-table-column-checkbox" [ngClass]="{ \'thf-table-row-active\': row.$selected && checkbox }"> <input type="checkbox" class="thf-table-checkbox" [ngClass]="{ \'thf-table-checkbox-checked\': row.$selected }"> <label class="thf-table-checkbox-label" (click)="selectRow(row)"></label> </td> <td *ngFor="let column of columns, let columnIndex = index;" [ngClass]="{ \'thf-table-row-active\': row.$selected && checkbox , \'thf-table-column-right\': column.type == \'currency\' || column.type == \'number\', \'thf-table-main-column\': columnIndex == 0 , \'thf-table-column\': columnIndex > 0 }"> <div [ngSwitch]="column.type"> <span *ngSwitchCase="\'currency\'">{{ row[column.column] | currency:column.format:true:\'1.2-2\' }}</span> <span *ngSwitchCase="\'date\'">{{ row[column.column] | date: (column.format ? column.format : \'dd/MM/yyyy\') }}</span> <span *ngSwitchDefault>{{ row[column.column] }}</span> </div> </td> <td *ngIf="actions.length > 0" class="thf-table-column-actions" [ngClass]="{\'thf-table-row-active\': row.$selected && checkbox }"> <span class="thf-icon thf-icon-more thf-clickable " (click)="toggleRowAction(row)"></span> <div [style.display]="row.$showAction ? \'block\': \'none\'" class="thf-table-actions"> <div *ngFor="let action of actions" class="thf-table-action" (click)="parentRef[action.function](row); toggleRowAction(row)"> {{ action.label }} </div> </div> </td> </tr> </tbody> <tfoot *ngIf="showMore.observers.length > 0"> <tr> <td class="thf-table-footer" [colSpan]="(columns.length) + (actions.length > 0 ? 1 : 0) + ( checkbox ? 1 : 0)"> <thf-button t-label="Carregar mais resultados" t-id="btnShowMoreId" (t-click)="onShowMore()" [t-disabled]="showMoreDisabled"> </thf-button> </td> </tr> </tfoot> </table> '}]}],t.ctorParameters=function(){return[{type:e.ElementRef},{type:e.Renderer},{type:e.ViewContainerRef}]},t.propDecorators={items:[{type:e.Input,args:["t-items"]}],columns:[{type:e.Input,args:["t-columns"]}],checkbox:[{type:e.Input,args:["t-checkbox"]}],actions:[{type:e.Input,args:["t-actions"]}],sort:[{type:e.Input,args:["t-sort"]}],showMoreDisabled:[{type:e.Input,args:["t-show-more-disabled"]}],showMore:[{type:e.Output,args:["t-show-more"]}]},t}(),Jt=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule,c.RouterModule,R],declarations:[Wt],exports:[Wt]}]}],t.ctorParameters=function(){return[]},t}(),Kt=function(){function t(t){this.el=t,this.clickCallback=new e.EventEmitter,this.clickTab=new e.EventEmitter}return t.prototype.onClick=function(t){this.disabled||(this.clickTab.emit(this.id),this.clickCallback.emit(this.id))},t.prototype.controlDisabled=function(){this.disabled?this.el.nativeElement.classList.add("thf-tab-disabled"):this.el.nativeElement.classList.remove("thf-tab-disabled")},t.prototype.controlActive=function(){this.active?this.el.nativeElement.classList.add("thf-tab-active"):this.el.nativeElement.classList.remove("thf-tab-active")},t.prototype.ngAfterViewChecked=function(){this.hide?this.el.nativeElement.style.display="none":(this.el.nativeElement.style.display="",this.el.nativeElement.style.width=this.width+"%"),this.controlDisabled(),this.controlActive()},t.decorators=[{type:e.Component,args:[{selector:"thf-tab-button",template:"<div #tab [ngClass]=\"{'thf-tab-size1': !small, 'thf-tab-size2': small}\"> {{label}} </div> ",styles:[":host(thf-tab-button) { background-color: red; display: table-cell; background-color: transparent; box-shadow: inset 0 -1px 0 0 #edefef; text-align: center; vertical-align: middle; font-family: NunitoSans; font-weight: bold; color: #0c9abe; cursor: pointer; } :host(thf-tab-button) .thf-tab-size1 { display: inline-flex; align-items: center; text-align: center; height: 44px; font-size: 16px; } :host(thf-tab-button) .thf-tab-size2 { display: inline-flex; align-items: center; text-align: center; height: 32px; font-size: 14px; } :host(thf-tab-button) .thf-tab-hidden { display: none; } :host(thf-tab-button).thf-tab-disabled { color: rgba(0, 0, 0, 0.4); cursor: initial; } :host(thf-tab-button).thf-tab-active { box-shadow: inset 0 -3px 0 0 #29b6c5; } "]}]}],t.ctorParameters=function(){return[{type:e.ElementRef}]},t.propDecorators={id:[{type:e.Input}],active:[{type:e.Input}],label:[{type:e.Input}],width:[{type:e.Input}],small:[{type:e.Input}],disabled:[{type:e.Input}],hide:[{type:e.Input}],clickCallback:[{type:e.Output}],clickTab:[{type:e.Output}],tab:[{type:e.ViewChild,args:["tab"]}],onClick:[{type:e.HostListener,args:["click",["$event"]]}]},t}(),Qt=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){t(e,n);function o(){this.constructor=e}e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Xt=function(t){Qt(n,t);function n(e){var n=t.call(this)||this;return n.el=e,n}return n.prototype.ngAfterViewChecked=function(){this.el.nativeElement.style.display=this.active?"":"none"},n.decorators=[{type:e.Component,args:[{selector:"thf-tab",template:'<div id="content_tab_{{id}}"> <ng-content></ng-content> </div> '}]}],n.ctorParameters=function(){return[{type:e.ElementRef}]},n}(I.ThfTabBaseComponent),Zt=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){t(e,n);function o(){this.constructor=e}e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),te=function(t){Zt(n,t);function n(e){var n=t.call(this)||this;return n.resolver=e,n.listButtons=[],n.created=!1,n}return n.prototype.ngAfterContentInit=function(){var t=this,e=this.resolver.resolveComponentFactory(Kt),n=this.calculateWidth(this.countVisibledTabs());this.tabsChild.forEach(function(o){var i=t.nav.createComponent(e);i.instance.label=o.label,i.instance.id=o.id,i.instance.active=o.active,i.instance.hide=o.hide,i.instance.disabled=o.disabled,i.instance.width=n,i.instance.small=t.small,i.instance.clickCallback=o.click,i.instance.clickTab.subscribe(function(e){return t.selectedTab(e)}),t.listButtons.push(i.instance)}),this.created=!0},n.prototype.ngAfterViewChecked=function(){var t=this;if(this.created){var e=!1,n=null,o=null,i=this.calculateWidth(this.countVisibledTabs());this.tabsChild.forEach(function(a){t.listButtons.forEach(function(t){t.id===a.id&&(t.width=i,t.active=a.active,a.disabled||a.hide?a.active&&(a.active=!1,t.active=!1,e=!0):e?n||(n=a,o=t):(n=a,o=t),t.disabled=a.disabled,t.hide=a.hide)})}),e&&n&&(n.active=!0,o.active=!0)}},n.prototype.selectedTab=function(t){this.tabsChild.forEach(function(e){e.active=e.id===t}),this.listButtons.forEach(function(e){e.id===t?e.active=!0:e.active=!1})},n.prototype.countVisibledTabs=function(){var t=0;return this.tabsChild.forEach(function(e){t=e.hide?t:t+1}),t},n.prototype.calculateWidth=function(t){var e=parseFloat((100/t).toFixed(2));return e*t>100&&(e=parseFloat(String(e).substring(0,String(e).length-1))),e},n.decorators=[{type:e.Component,args:[{selector:"thf-tabs",template:'<div class="thf-tabs-parent"> <div #nav></div> </div> <div class="thf-tabs-container"> <ng-content></ng-content> </div> ',styles:[".thf-tabs-parent { width: 100%; display: table; } .thf-tabs-container { padding-top: 5px; } "]}]}],n.ctorParameters=function(){return[{type:e.ComponentFactoryResolver}]},n.propDecorators={tabsChild:[{type:e.ContentChildren,args:[Xt]}],nav:[{type:e.ViewChild,args:["nav",{read:e.ViewContainerRef}]}]},n}(I.ThfTabsBaseComponent),ee=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule],declarations:[te,Xt,Kt],entryComponents:[Kt],exports:[te,Xt]}]}],t.ctorParameters=function(){return[]},t}(),ne=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){t(e,n);function o(){this.constructor=e}e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),oe=function(t){ne(n,t);function n(e,n){var o=t.call(this)||this;return o.titleService=e,o.viewRef=n,o.notificationMenu=!1,o.userMenu=!1,o.parentRef=n._view.component,o}return n.prototype.ngOnInit=function(){this.setTitle(this.title)},n.prototype.setTitle=function(t){this.titleService.setTitle(t)},n.prototype.showNotificationMenu=function(){this.notificationMenu=!this.notificationMenu,this.userMenu=!1},n.prototype.showUserMenu=function(){this.userMenu=!this.userMenu,this.notificationMenu=!1},n.decorators=[{type:e.Component,args:[{selector:"thf-toolbar",template:'<div class="thf-toolbar"> <div class="thf-toolbar-title" (click)="userMenu = notificationMenu = false;"> {{title}} </div> <div *ngIf="showNotification" class="thf-toolbar-notification" (click)="showNotificationMenu()"> <span class="thf-icon thf-icon-notification"></span> <div *ngIf="notificationNumber > 0" class="thf-toolbar-notification-badge">{{ notificationNumber }}</div> <div class="thf-toolbar-notification-content" [style.display]="notificationMenu ? \'block\' : \'none\'"> <div *ngFor="let notificationAction of notificationActions" class="thf-notification-item" (click)="parentRef[notificationAction.action](notificationAction)"> {{ notificationAction.label }} </div> </div> </div> <div *ngIf="userSrc" class="thf-toolbar-avatar thf-clickable" (click)="showUserMenu()"> <thf-avatar t-size="xs" [t-src]="userSrc"></thf-avatar> <div class="thf-toolbar-user-menu-content" [style.display]="userMenu ? \'block\' : \'none\'"> <thf-avatar t-size="md" [t-src]="userSrc"></thf-avatar> <div class="thf-notification-item"><span class="thf-icon thf-icon-user"></span>{{ userName }}</div> <hr> <div *ngFor="let userAction of userActions" class="thf-notification-item" (click)="parentRef[userAction.action](userAction)"> {{ userAction.label }} </div> </div> </div> </div> '}]}],n.ctorParameters=function(){return[{type:M.Title},{type:e.ViewContainerRef}]},n}(_.ThfToolbarBaseComponent),ie=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule,D],declarations:[oe],exports:[oe],providers:[],schemas:[]}]}],t.ctorParameters=function(){return[]},t}(),ae=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){t(e,n);function o(){this.constructor=e}e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),re=function(t){ae(n,t);function n(n){var o=t.call(this)||this;return o.setting=new e.EventEmitter,o.parentRef=n._view.component,o}return n.prototype.ngOnInit=function(){if(this.background&&(this.elBackground.nativeElement.style.backgroundImage="url('"+this.background+"')",this.elBackground.nativeElement.style.minHeight="20px"),this.height){var t=this.height-32;this.title&&(t-=40),this.primaryLabel&&(t-=40),this.elBody.nativeElement.style.height=t+"px"}},n.prototype.runPrimaryAction=function(){this.primaryAction.emit()},n.prototype.runSecundaryAction=function(){this.secundaryAction.emit()},n.prototype.settingOutput=function(){this.setting.emit()},n.prototype.openHelp=function(){window.open(this.help,"_blank")},n.prototype.isTypeof=function(t,e){return typeof t===e},n.decorators=[{type:e.Component,args:[{selector:"thf-widget",template:'<div class="thf-widget thf-widget-{{ size }}" #elemBackground> <div *ngIf="!isTypeof(title, \'undefined\')" class="thf-widget-header-title"> {{title}} <div *ngIf="setting.observers[0] || help" class="thf-pull-right"> <span id="settingAction" *ngIf="setting.observers[0]" class="thf-clickable thf-icon thf-icon-settings" (click)="settingOutput()"></span> <span id="helpLink" *ngIf="help" class="thf-clickable glyphicon glyphicon-question-sign" (click)="openHelp()"></span> </div> </div> <div class="thf-widget-body" #elemBody> <ng-content></ng-content> </div> <div *ngIf="!isTypeof(primaryLabel, \'undefined\')" class="thf-widget-footer"> <div class="thf-widget-xl" *ngIf="isTypeof(secundaryLabel, \'undefined\')"> <a class="thf-widget-action" id=\'primaryAct\' (click)="runPrimaryAction()">{{ primaryLabel }}</a> </div> <div class="thf-widget-md" *ngIf="!isTypeof(secundaryLabel, \'undefined\')"> <a class="thf-widget-action" id=\'primaryAct\' (click)="runPrimaryAction()">{{ primaryLabel }}</a> </div> <div class="thf-widget-md" *ngIf="!isTypeof(secundaryLabel, \'undefined\')"> <a class="thf-widget-action" id=\'secundaryAct\' (click)="runSecundaryAction()">{{ secundaryLabel }}</a> </div> </div> </div>'}]}],n.ctorParameters=function(){return[{type:e.ViewContainerRef}]},n.propDecorators={setting:[{type:e.Output,args:["t-setting"]}],elBackground:[{type:e.ViewChild,args:["elemBackground",{read:e.ElementRef}]}],elBody:[{type:e.ViewChild,args:["elemBody",{read:e.ElementRef}]}]},n}(E.ThfWidgetBaseComponent),se=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule],exports:[re],declarations:[re]}]}],t.ctorParameters=function(){return[]},t}(),le=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{declarations:[],imports:[D,R,N,B,ht,kt,It,At,St,bt,Yt,Jt,ee,ie,se],exports:[D,R,N,B,ht,kt,It,At,St,bt,Yt,ee,Jt,ie,se],providers:[],bootstrap:[]}]}],t.ctorParameters=function(){return[]},t}();t.ThfComponentsModule=le,Object.defineProperty(t,"__esModule",{value:!0})});