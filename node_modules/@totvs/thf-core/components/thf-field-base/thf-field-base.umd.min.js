!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular/forms"),require("@angular/common/http")):"function"==typeof define&&define.amd?define(["exports","@angular/core","@angular/forms","@angular/common/http"],e):e(t["thf-field-base"]={},t.core,t.forms,t.http)}(this,function(t,e,i,n){"use strict";function o(t){return"string"==typeof t?"true"===(t=t.toLowerCase().trim())||"on"===t||""===t:!!t}function s(t,e,i){if(t){var n=parseInt(t.substring(8,10),10),o=parseInt(t.substring(5,7),10),s=parseInt(t.substring(0,4),10);if(e)return new Date(s,o-1,n,0,0,0);if(i)return new Date(s,o-1,n,23,59,59);var r=Date.parse(t),a=6e4*(new Date).getTimezoneOffset();return new Date(r+a)}}function r(t,e){if(t){var i=t.getDate()<10?"0"+t.getDate():t.getDate(),n=t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1,o=t.getFullYear(),s=t.toString();return null!==e?o+"-"+n+"-"+i+e:o+"-"+n+"-"+i+"T"+s.substring(16,24)+s.substring(28,31)+":"+s.substring(31,33)}return null}var a=function(){function t(t,i){this.required=!1,this.options=[],this.change=new e.EventEmitter,this.el=t,this.ngControl=i}return Object.defineProperty(t.prototype,"setRequired",{set:function(t){this.required=""===t||o(t)},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){this.ngControl&&(this.ngControl.valueAccessor=this,this.required&&this.ngControl.control.setValidators([i.Validators.required]))},t.prototype.eventClick=function(t,e){var i,n=this.inputEl.nativeElement.querySelector('.thf-input-checkbox[id="'+(t+e)+'"]');n&&(n.checked&&!this.selectCheckedValue.includes(e)?this.selectCheckedValue.push(e):!n.checked&&this.selectCheckedValue.includes(e)&&(i=this.selectCheckedValue.indexOf(e),this.selectCheckedValue.splice(i,1)),this.changeValue(this.selectCheckedValue))},t.prototype.changeValue=function(t){this.propagateChange(t),this.change.emit(t)},t.prototype.writeValue=function(t){t&&(this.changeValue(t),this.selectCheckedValue=[].concat(t));var e=this.inputEl.nativeElement.querySelectorAll(".thf-input-checkbox");if(e&&t)for(var i=0;i<e.length;i++)t.includes(e[i].value)?e[i].checked=!0:e[i].checked=!1},t.prototype.registerOnChange=function(t){this.propagateChange=t},t.prototype.registerOnTouched=function(){},t.ctorParameters=function(){return[{type:e.ElementRef},{type:i.NgControl,decorators:[{type:e.Optional}]}]},t.propDecorators={name:[{type:e.Input,args:["name"]}],setRequired:[{type:e.Input,args:["t-required"]}],options:[{type:e.Input,args:["t-options"]}],change:[{type:e.Output,args:["t-change"]}],inputEl:[{type:e.ViewChild,args:["inp",{read:e.ElementRef}]}]},t}(),l=function(){function t(t){this.placeholder="",this.disabled=!1,this.readonly=!1,this.required=!1,this.focus=!1,this.clean=!1,this.errorPattern="",this.locale=navigator.language,this.onblur=new e.EventEmitter,this.onchange=new e.EventEmitter,this.onChangeModel=null,this.onTouchedModel=null,this.validators=[],this.firstStart=!0,this.ngControl=t}return Object.defineProperty(t.prototype,"setDisabled",{set:function(t){this.disabled=""===t||o(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"setReadonly",{set:function(t){this.readonly=""===t||o(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"setRequired",{set:function(t){var e=this;this.required=""===t||o(t),setTimeout(function(){e.required?e.controlModel(e.date):e.date?e.controlModel(e.date):e.onChangeModel("")})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"setFocus",{set:function(t){this.focus=""===t||o(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"setClean",{set:function(t){this.clean=""===t||o(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"setDateStart",{set:function(t){var e=this;t instanceof Date?this.start=new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,0,0):this.start=s(t,!0,!1),setTimeout(function(){e.date&&e.controlModel(e.date)})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"setDateEnd",{set:function(t){var e=this;t instanceof Date?this.end=new Date(t.getFullYear(),t.getMonth(),t.getDate(),23,59,59):this.end=s(t,!1,!0),setTimeout(function(){e.date&&e.controlModel(e.date)})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"setFormat",{set:function(t){(t=t.toLowerCase()).match(/dd/)&&t.match(/mm/)&&t.match(/yyyy/)?this.format=t:this.format=this.locale.indexOf("en")>-1?"mm/dd/yyyy":"dd/mm/yyyy"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"setLocale",{set:function(t){this.locale=t.length<2?"en":t},enumerable:!0,configurable:!0}),t.prototype.cleanInput=function(){},t.prototype.writeValue=function(t){},t.prototype.ngOnInit=function(){this.format||(this.format=this.locale.indexOf("en")>-1?"mm/dd/yyyy":"dd/mm/yyyy"),this.objMask=this.buildMask(),this.ngControl&&(this.ngControl.valueAccessor=this,this.required&&this.validators.push(i.Validators.required),this.validators.push(this.validate),this.ngControl.control.setValidators(this.validators))},t.prototype.getDateFromString=function(t){var e=parseInt(t.substring(this.format.indexOf("d"),this.format.indexOf("d")+2),10),i=parseInt(t.substring(this.format.indexOf("m"),this.format.indexOf("m")+2),10)-1,n=parseInt(t.substring(this.format.indexOf("y"),this.format.indexOf("y")+4),10),o=new Date(n,i,e);return o.getFullYear()===n&&o.getMonth()===i&&o.getDate()===e?o:null},t.prototype.formatToDate=function(t){var e=this.format;return e=(e=(e=e.replace("dd",("0"+t.getDate()).slice(-2))).replace("mm",("0"+(t.getMonth()+1)).slice(-2))).replace("yyyy",String(t.getFullYear()))},t.prototype.controlModel=function(t){t?(this.start&&this.end&&this.validateModel(t>=this.start&&t<=this.end,t),this.start&&!this.end&&this.validateModel(t>=this.start,t),this.end&&!this.start&&this.validateModel(t<=this.end,t),this.start||this.end||(this.date=t,this.callOnChange(r(this.date,this.hour)))):(this.date=t,this.required?this.callOnChange("Data Inválida"):this.callOnChange(""))},t.prototype.validateModel=function(t,e){t?(this.date=e,this.callOnChange(r(this.date,this.hour))):(this.date=e,this.callOnChange("Data fora do período"))},t.prototype.callOnChange=function(t){this.onChangeModel&&this.onChangeModel(t)},t.prototype.registerOnChange=function(t){this.onChangeModel=t},t.prototype.registerOnTouched=function(t){this.onTouchedModel=t},t.prototype.buildMask=function(){var t=this.format.toUpperCase();return t=(t=(t=t.replace(/DD/g,"99")).replace(/MM/g,"99")).replace(/YYYY/g,"9999"),new h(t,!0)},t.prototype.cleanModel=function(){this.callOnChange(""),this.cleanInput()},t.prototype.validate=function(t){return t.value&&isNaN(Date.parse(t.value))?{invalidDate:!0}:null},t.ctorParameters=function(){return[{type:i.NgControl,decorators:[{type:e.Optional}]}]},t.propDecorators={name:[{type:e.Input,args:["name"]}],placeholder:[{type:e.Input,args:["t-placeholder"]}],setDisabled:[{type:e.Input,args:["t-disabled"]}],setReadonly:[{type:e.Input,args:["t-readonly"]}],setRequired:[{type:e.Input,args:["t-required"]}],setFocus:[{type:e.Input,args:["t-focus"]}],setClean:[{type:e.Input,args:["t-clean"]}],errorPattern:[{type:e.Input,args:["t-error-pattern"]}],setDateStart:[{type:e.Input,args:["t-start"]}],setDateEnd:[{type:e.Input,args:["t-end"]}],setFormat:[{type:e.Input,args:["t-format"]}],setLocale:[{type:e.Input,args:["t-locale"]}],onblur:[{type:e.Output,args:["t-blur"]}],onchange:[{type:e.Output,args:["t-change"]}]},t}(),h=function(){function t(t,e){this.mask="",this.formatModel=!1,this.initialPosition=0,this.finalPosition=0,this.pattern="",this.keypress=function(t){},this.mask=t,this.formatModel=e,this.pattern=this.getRegexFromMask(t)}return Object.defineProperty(t.prototype,"getPattern",{get:function(){return this.pattern},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"getValueToInput",{get:function(){return this.valueToInput},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"setValueToInput",{set:function(t){this.valueToInput=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"getValueToModel",{get:function(){return this.valueToModel},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"setValueToModel",{set:function(t){this.valueToModel=t},enumerable:!0,configurable:!0}),t.prototype.keyup=function(t){if(this.mask){var e=t.target.value;switch(17!==t.keyCode&&91!==t.keyCode||(t.target.value=this.controlFormatting(e),this.resetPositions(t)),t.preventDefault(),t.keyCode){case 37:this.initialPosition>0&&this.initialPosition--,this.setPositionNotShiftKey(t),this.setSelectionRange(t);break;case 39:this.initialPosition<e.toString().length&&this.initialPosition++,this.setPositionNotShiftKey(t),this.setSelectionRange(t);break;case 35:this.finalPosition=e.toString().length,t.shiftKey?this.setPositions(t):(this.initialPosition=this.finalPosition,this.setPositions(t));break;case 36:t.shiftKey?(this.finalPosition=this.initialPosition,this.initialPosition=0,this.setPositions(t)):(this.initialPosition=0,this.finalPosition=0,this.setPositions(t))}}},t.prototype.setPositionNotShiftKey=function(t){t.shiftKey||(this.finalPosition=this.initialPosition)},t.prototype.setSelectionRange=function(t){this.initialPosition>this.finalPosition?t.target.setSelectionRange(this.finalPosition,this.initialPosition):t.target.setSelectionRange(this.initialPosition,this.finalPosition)},t.prototype.keydown=function(t){if(this.mask){var e=t.target.value;if(9===t.keyCode)return;if(t.ctrlKey||t.metaKey||t.preventDefault(),t.ctrlKey||t.metaKey&&86!==t.keyCode||t.keyCode>=37&&t.keyCode<=40||16===t.keyCode||9===t.keyCode)return;if(this.isKeyValid(t.keyCode))switch(null===this.finalPosition&&(this.finalPosition=this.initialPosition),this.revertPositions(this.initialPosition,this.finalPosition),t.keyCode){case 8:this.getPosition(t),this.initialPosition<0&&(this.initialPosition=0,this.setPositions(t)),this.initialPosition===this.finalPosition?(this.checkMaskBefore(t,-1),0!==this.initialPosition&&(e=e.slice(0,this.initialPosition-1)+e.slice(this.finalPosition),e=this.controlFormatting(e),t.target.value=e,this.changePosition(t,-1),this.checkMaskBefore(t,-1),this.setPositions(t),this.resetPositions(t))):this.clearRangeSelection(e,t,!0),this.setPositions(t);break;case 46:this.getPosition(t),this.initialPosition===this.finalPosition?(this.checkMaskAfter(t,1),e=e.slice(0,this.initialPosition)+e.slice(this.finalPosition+1),e=this.controlFormatting(e),t.target.value=e,this.setPositions(t),this.resetPositions(t)):this.clearRangeSelection(e,t,!1),this.setPositions(t);break;default:e=e.slice(0,this.initialPosition)+t.key+e.slice(this.finalPosition),e=this.controlFormatting(e),t.target.value=e,this.changePosition(t,1),this.checkMaskBefore(t,1),this.setPositions(t),this.resetPositions(t),this.setPositions(t)}}},t.prototype.clearRangeSelection=function(t,e,i){t=t.slice(0,this.initialPosition)+t.slice(this.finalPosition),t=this.controlFormatting(t),e.target.value=t,i&&this.checkMaskBefore(e,-1),this.setPositions(e),this.resetPositions(e)},t.prototype.click=function(t){this.initialPosition=t.target.selectionStart,this.finalPosition=t.target.selectionEnd},t.prototype.blur=function(t){if(this.mask){var e=t.target.value;e=this.controlFormatting(e),t.target.value=e}},t.prototype.revertPositions=function(t,e){if(t>e){var i=void 0;i=t,this.initialPosition=e,this.finalPosition=i}},t.prototype.resetPositions=function(t){this.initialPosition=t.target.selectionStart,this.finalPosition=this.initialPosition},t.prototype.setPositions=function(t){t.target.setSelectionRange(this.initialPosition,this.finalPosition)},t.prototype.changePosition=function(t,e){this.initialPosition=this.initialPosition+e,this.finalPosition=this.finalPosition+e,this.setPositions(t)},t.prototype.getPosition=function(t){this.initialPosition=t.target.selectionStart,this.finalPosition=t.target.selectionEnd,this.setPositions(t)},t.prototype.controlFormatting=function(t){if(!t)return this.valueToInput="",this.valueToModel="","";for(var e,i=this.mask,n=[],o=0;this.hasOptionalNumber(i);)n.push(i),i=this.replaceOptionalNumber(i);for(n.push(i),n.reverse(),this.formattingEnds=!1;!this.formattingEnds&&(this.formattingEnds=!0,n[o]);)e=this.formatValue(t,n[o]),o++;return e},t.prototype.formatValue=function(t,e){var i=(e=e.replace(/\?/g,"")).replace(this.listValidKeys(),"_"),n=0,o="";t=this.removeFormattingValue(t);for(var s=0;s<t.length;s++){var r=t[s];if(!i[n]){this.formattingEnds=!1;break}for(;this.isFixedCharacterGuide(i[n])&&i[n];)o+=i[n],n++;if(!this.isKeyValidMask(r,e[n]))break;o+=r,n++}return this.formatModel?(this.valueToInput=o,this.valueToModel=o):(this.valueToInput=o,this.valueToModel=this.removeFormattingValue(o)),o},t.prototype.checkMaskBefore=function(t,e){this.isFixedCharacterGuide(t.target.value.toString().charAt(this.initialPosition-1))&&(this.changePosition(t,e),this.checkMaskBefore(t,e))},t.prototype.checkMaskAfter=function(t,e){this.isFixedCharacterGuide(t.target.value.toString().charAt(this.initialPosition))&&(this.changePosition(t,e),this.checkMaskAfter(t,e))},t.prototype.replaceOptionalNumber=function(t){for(var e=9;e>=0;){if(t.indexOf(e+"?")>-1)return t.replace(e+"?","");e--}return t},t.prototype.isFixedCharacterGuide=function(t){return this.testRegex(t,this.getFixedCharacterGuide())},t.prototype.getFixedCharacterGuide=function(){return/[\\\/() +-.\:]/g},t.prototype.listValidKeys=function(){return/[a-zA-Z0-9]/g},t.prototype.isKeyValid=function(t){return this.isKeyCodeValid(t)},t.prototype.isKeyCodeValid=function(t){return t>=48&&t<=57||t>=65&&t<=90||t>=96&&t<=105||8===t||9===t||46===t},t.prototype.isKeyValidMask=function(t,e){return this.testRegex(t,this.replaceMask(e))},t.prototype.testRegex=function(t,e){return e.test(t)},t.prototype.removeFormattingValue=function(t){return t.replace(this.getFixedCharacterGuide(),"")},t.prototype.hasOptionalNumber=function(t){return t.match(/\d\?/g)},t.prototype.replaceMask=function(t){var e=/./;switch(t){case"0":e=/[0]/;break;case"1":e=/[0-1]/;break;case"2":e=/[0-2]/;break;case"3":e=/[0-3]/;break;case"4":e=/[0-4]/;break;case"5":e=/[0-5]/;break;case"6":e=/[0-6]/;break;case"7":e=/[0-7]/;break;case"8":e=/[0-8]/;break;case"9":e=/[0-9]/;break;case" ":e=/\s/;break;case"@":e=/[a-zA-Z]/;break;case"w":e=/[a-zA-Z0-9]/}return e},t.prototype.getRegexFromMask=function(t){return this.formatModel?t.replace(/\\/g,"\\\\").replace(/\+/g,"\\+").replace(/\./g,"\\.").replace(/-/g,"-").replace(/\(/g,"\\(").replace(/\)/g,"\\)").replace(/\//g,"\\/").replace(/\s/g,"\\s").replace(/:/g,"\\:").replace(/\@(?!\s)/g,"\\w").replace(/\d/g,"\\w"):t.replace(/\\/g,"").replace(/\+/g,"").replace(/\./g,"").replace(/-/g,"").replace(/\(/g,"").replace(/\)/g,"").replace(/\//g,"").replace(/\s/g,"").replace(/:/g,"").replace(/\@/g,"\\w").replace(/\d/g,"\\w")},t}(),u=function(){function t(t,i){this.placeholder="",this.disabled=!1,this.readonly=!1,this.required=!1,this.focus=!1,this.clean="",this.errorPattern="",this.mask="",this.maskFormatModel=!1,this.blur=new e.EventEmitter,this.enter=new e.EventEmitter,this.change=new e.EventEmitter,this.changeModel=new e.EventEmitter,this.type="text",this.validators={},this.onChangePropagate=null,this.onTouched=null,this.fireChange=!1,this.el=t,this.ngControl=i}return Object.defineProperty(t.prototype,"setName",{set:function(t){this.name=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"setDisabled",{set:function(t){this.disabled=""===t||o(t),this.validators.required=this.getValidatorRequired(),this.updateValidators()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"setReadonly",{set:function(t){this.readonly=""===t||o(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"setRequired",{set:function(t){this.required=""===t||o(t),this.validators.required=this.getValidatorRequired(),this.updateValidators()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"setFocus",{set:function(t){this.focus=""===t||o(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"setClean",{set:function(t){this.clean="null"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"setPattern",{set:function(t){this.pattern=t,this.validators.pattern=this.getValidatorPattern(),this.updateValidators()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"setMaxlength",{set:function(t){isNaN(parseInt(t,10))?void 0===t&&(this.maxlength=void 0,this.validators.maxlength=this.getValidatorMaxlength(),this.updateValidators()):(this.maxlength=parseInt(t,10),this.validators.maxlength=this.getValidatorMaxlength(),this.updateValidators())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"setMinlength",{set:function(t){isNaN(parseInt(t,10))?void 0===t&&(this.minlength=void 0,this.validators.minlength=this.getValidatorMinlength(),this.updateValidators()):(this.minlength=parseInt(t,10),this.validators.minlength=this.getValidatorMinlength(),this.updateValidators())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"setMask",{set:function(t){this.mask=t,this.objMask instanceof h&&(this.objMask=new h(this.mask,this.maskFormatModel),this.validators.pattern=this.getValidatorPattern(),this.updateValidators())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"setMaskFormatModel",{set:function(t){this.maskFormatModel=""===t||o(t)},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){this._onInit()},t.prototype.ngAfterViewInit=function(){this._afterViewInit()},t.prototype._onInit=function(){this.objMask=new h(this.mask,this.maskFormatModel),this.setValidators()},t.prototype._afterViewInit=function(){this.focus&&this.inputEl.nativeElement.focus(),this.clean&&(this.inputEl.nativeElement.style.paddingRight="30px")},t.prototype.setValidators=function(){this.ngControl&&(this.ngControl.valueAccessor=this,this.validators={},this.validators.required=this.getValidatorRequired(),this.validators.pattern=this.getValidatorPattern(),this.validators.minlength=this.getValidatorMinlength(),this.validators.maxlength=this.getValidatorMaxlength(),this.updateValidators())},t.prototype.getValidatorRequired=function(){return!this.disabled&&this.required?i.Validators.required:null},t.prototype.getValidatorPattern=function(){if(this.pattern)return i.Validators.pattern(this.pattern);if(this.mask){var t=this.objMask.getRegexFromMask(this.mask);return i.Validators.pattern(t)}return null},t.prototype.getValidatorMinlength=function(){return this.minlength?i.Validators.minLength(this.minlength):null},t.prototype.getValidatorMaxlength=function(){return this.maxlength?i.Validators.maxLength(this.maxlength):null},t.prototype.updateValidators=function(){this.ngControl&&(this.ngControl.control.setValidators(this.convertObjectToArray(this.validators)),this.ngControl.control.updateValueAndValidity())},t.prototype.convertObjectToArray=function(t){var e=[];return Object.keys(t).forEach(function(i){t[i]&&e.push(t[i])}),e},t.prototype.onKeyup=function(t){this.mask&&(229!==t.target.keyCode&&(this.eventOnBlur(t),this.objMask.keyup(t)),this.callOnChange(this.objMask.valueToModel))},t.prototype.onKeypress=function(t){this.objMask.keypress(t)},t.prototype.onKeydown=function(t){this.mask&&229!==t.target.keyCode&&(this.eventOnBlur(t),this.objMask.keydown(t))},t.prototype.hasInvalidClass=function(){return this.el.nativeElement.classList.contains("ng-invalid")&&this.el.nativeElement.classList.contains("ng-dirty")&&""!==this.inputEl.nativeElement.value},t.prototype.cleanInput=function(){var t=!1;this.fireChange=!1,""!==this.inputEl.nativeElement.value&&(t=!0),this.inputEl.nativeElement.value="",""!==this.clean&&this.callOnChange(""),t&&this.change.emit()},t.prototype.eventOnInput=function(t){this.mask||(this.maxlength&&t.target.value.length>this.maxlength&&(t.target.value=t.target.value.toString().substring(0,this.maxlength)),this.callOnChange(t.target.value))},t.prototype.eventOnFocus=function(t){this.valueBeforeChange=this.inputEl.nativeElement.value,this.enter.emit()},t.prototype.eventOnBlur=function(t){var e=this;this.objMask.blur(t),this.blur.emit(),this.inputEl.nativeElement.value!==this.valueBeforeChange&&(this.fireChange=!0,setTimeout(function(){e.fireChange&&e.change.emit()},200))},t.prototype.verifyPattern=function(t,e){return new RegExp(t).test(e)},t.prototype.eventOnClick=function(t){this.mask&&this.objMask.click(t)},t.prototype.writeValue=function(t){this.inputEl&&(t?this.mask?(this.inputEl.nativeElement.value=this.objMask.controlFormatting(String(t)),this.objMask._formatModel&&this.onChangePropagate(this.objMask.valueToModel)):this.inputEl.nativeElement.value=t:this.inputEl.nativeElement.value=""),t&&this.change.emit()},t.prototype.callOnChange=function(t){this.onChangePropagate&&("number"===this.type?this.onChangePropagate(Number(t)):this.onChangePropagate(t)),this.modelLastUpdate!==t&&(this.changeModel.emit(),this.modelLastUpdate=t)},t.prototype.registerOnChange=function(t){this.onChangePropagate=t},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.ctorParameters=function(){return[{type:e.ElementRef},{type:i.NgControl,decorators:[{type:e.Optional}]}]},t.propDecorators={setName:[{type:e.Input,args:["name"]}],placeholder:[{type:e.Input,args:["t-placeholder"]}],setDisabled:[{type:e.Input,args:["t-disabled"]}],setReadonly:[{type:e.Input,args:["t-readonly"]}],setRequired:[{type:e.Input,args:["t-required"]}],setFocus:[{type:e.Input,args:["t-focus"]}],setClean:[{type:e.Input,args:["t-clean"]}],setPattern:[{type:e.Input,args:["t-pattern"]}],errorPattern:[{type:e.Input,args:["t-error-pattern"]}],setMaxlength:[{type:e.Input,args:["t-maxlength"]}],setMinlength:[{type:e.Input,args:["t-minlength"]}],setMask:[{type:e.Input,args:["t-mask"]}],setMaskFormatModel:[{type:e.Input,args:["t-mask-format-model"]}],blur:[{type:e.Output,args:["t-blur"]}],enter:[{type:e.Output,args:["t-enter"]}],change:[{type:e.Output,args:["t-change"]}],changeModel:[{type:e.Output,args:["t-change-model"]}],inputEl:[{type:e.ViewChild,args:["inp",{read:e.ElementRef}]}],cleanEl:[{type:e.ViewChild,args:["clean",{read:e.ElementRef}]}],onKeyup:[{type:e.HostListener,args:["keyup",["$event"]]}],onKeypress:[{type:e.HostListener,args:["keypress",["$event"]]}],onKeydown:[{type:e.HostListener,args:["keydown",["$event"]]}]},t}(),p=function(){function t(t,i){this.disabled=!1,this.required=!1,this.change=new e.EventEmitter,this.propagateChange=function(){},this.el=t,this.ngControl=i}return Object.defineProperty(t.prototype,"setDisabled",{set:function(t){this.disabled=""===t||o(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"setRequired",{set:function(t){this.required=""===t||o(t)},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){this.ngControl&&(this.ngControl.valueAccessor=this,this.required&&this.ngControl.control.setValidators([i.Validators.required]))},t.prototype.keyup=function(){var t=this.inputEl.nativeElement.querySelector("input:checked");t&&this.changeValue(t.value)},t.prototype.eventClick=function(t,e){e||this.changeValue(t)},t.prototype.changeValue=function(t){this.selectCheckedValue!==t&&this.change.emit(t),this.selectCheckedValue=t,this.propagateChange(this.selectCheckedValue)},t.prototype.writeValue=function(t){var e;void 0!==t&&(e=this.inputEl.nativeElement.querySelector("input[value='"+t+"']")),e?(e.checked=!0,this.selectCheckedValue=t):(e=this.inputEl.nativeElement.querySelector("input:checked"))&&(e.checked=!1,this.selectCheckedValue=null)},t.prototype.registerOnChange=function(t){this.propagateChange=t},t.prototype.registerOnTouched=function(){},t.ctorParameters=function(){return[{type:e.ElementRef},{type:i.NgControl,decorators:[{type:e.Optional}]}]},t.propDecorators={name:[{type:e.Input,args:["name"]}],setDisabled:[{type:e.Input,args:["t-disabled"]}],setRequired:[{type:e.Input,args:["t-required"]}],options:[{type:e.Input,args:["t-options"]}],change:[{type:e.Output,args:["t-change"]}],inputEl:[{type:e.ViewChild,args:["inp",{read:e.ElementRef}]}]},t}(),c=function(){function t(t,i,n){this.element=t,this.changeDetector=i,this.disabled=!1,this.required=!1,this.change=new e.EventEmitter,this.ngModelChange=new e.EventEmitter,this.validators=[],this.element=t,this.ngControl=n}return t.prototype.updateModel=function(t){},t.prototype.writeValue=function(t){},t.prototype.ngOnInit=function(){this.ngControl&&(this.ngControl.valueAccessor=this,this.required&&this.validators.push(i.Validators.required),this.ngControl.control.setValidators(this.validators))},t.prototype.ngAfterViewChecked=function(){this.changeDetector.detectChanges()},t.prototype.onChange=function(){this.change.emit(null)},t.prototype.registerOnChange=function(t){this.onModelChange=t},t.prototype.registerOnTouched=function(t){this.onModelTouched=t},t.ctorParameters=function(){return[{type:e.ElementRef},{type:e.ChangeDetectorRef},{type:i.NgControl,decorators:[{type:e.Optional}]}]},t.propDecorators={disabled:[{type:e.Input,args:["t-disabled"]}],required:[{type:e.Input,args:["t-required"]}],label:[{type:e.Input,args:["t-label"]}],name:[{type:e.Input,args:["name"]}],help:[{type:e.Input,args:["t-help"]}],placeholder:[{type:e.Input,args:["t-placeholder"]}],options:[{type:e.Input,args:["t-options"]}],change:[{type:e.Output,args:["t-change"]}],ngModelChange:[{type:e.Output,args:["ngModelChange"]}]},t}(),d={};d.Right=0,d.Left=1,d[d.Right]="Right",d[d.Left]="Left";var g=function(){function t(t,i){this.labelOn="true",this.labelOff="false",this.labelPosition=d.Right,this.disabled=!1,this.required=!1,this.change=new e.EventEmitter,this.ngModelChange=new e.EventEmitter,this.ngControl=i,this.changeDetector=t}return Object.defineProperty(t.prototype,"setLabelOn",{set:function(t){this.labelOn=t||"true"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"setLabelOff",{set:function(t){this.labelOff=t||"false"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"setLabelPosition",{set:function(t){this.labelPosition=t in d?t:d.Right},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"setDisabled",{set:function(t){this.disabled=""===t||o(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"setRequired",{set:function(t){this.required=""===t||o(t)},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){this.ngControl&&(this.ngControl.valueAccessor=this,this.required&&this.ngControl.control.setValidators([i.Validators.required]))},t.prototype.ngAfterViewChecked=function(){this.changeDetector.detectChanges()},t.prototype.eventClick=function(){this.disabled||this.changeValue(!this.switchValue)},t.prototype.changeValue=function(t){this.switchValue!==t&&(this.switchValue=t,this.change.emit(this.switchValue),this.propagateChange?this.propagateChange(t):this.ngModelChange.emit(t))},t.prototype.writeValue=function(t){t!==this.switchValue&&(this.switchValue=!!t)},t.prototype.registerOnChange=function(t){this.propagateChange=t},t.prototype.registerOnTouched=function(t){this.propagateChange=t},t.ctorParameters=function(){return[{type:e.ChangeDetectorRef},{type:i.NgControl,decorators:[{type:e.Optional}]}]},t.propDecorators={name:[{type:e.Input,args:["name"]}],label:[{type:e.Input,args:["t-label"]}],help:[{type:e.Input,args:["t-help"]}],setLabelOn:[{type:e.Input,args:["t-label-on"]}],setLabelOff:[{type:e.Input,args:["t-label-off"]}],setLabelPosition:[{type:e.Input,args:["t-label-position"]}],setDisabled:[{type:e.Input,args:["t-disabled"]}],setRequired:[{type:e.Input,args:["t-required"]}],change:[{type:e.Output,args:["t-change"]}],ngModelChange:[{type:e.Output,args:["ngModelChange"]}]},t}(),f=function(){function t(t){this.name="file",this.disabled=!1,this.autoUpload=!1,this.id="file",this.onUpload=new e.EventEmitter,this.onError=new e.EventEmitter,this.onSuccess=new e.EventEmitter,this.ngModelChange=new e.EventEmitter,this.ngControl=t}return Object.defineProperty(t.prototype,"setRequired",{set:function(t){this.required=""!==t&&o(t)},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){this.ngControl&&(this.ngControl.valueAccessor=this)},t.prototype.onFileChange=function(t){},t.prototype.uploadFiles=function(t){},t.prototype.stopUpload=function(t){},t.prototype.updateModel=function(t){},t.prototype.writeValue=function(t){},t.prototype.registerOnChange=function(t){this.onModelChange=t},t.prototype.registerOnTouched=function(t){this.onModelTouched=t},t.ctorParameters=function(){return[{type:i.NgControl,decorators:[{type:e.Optional}]}]},t.propDecorators={label:[{type:e.Input,args:["t-label"]}],help:[{type:e.Input,args:["t-help"]}],url:[{type:e.Input,args:["t-url"]}],fileRestrictions:[{type:e.Input,args:["t-restrictions"]}],name:[{type:e.Input,args:["name"]}],disabled:[{type:e.Input,args:["t-disabled"]}],autoUpload:[{type:e.Input,args:["t-auto-upload"]}],id:[{type:e.Input,args:["t-id"]}],isMultiple:[{type:e.Input,args:["t-multiple"]}],setRequired:[{type:e.Input,args:["t-required"]}],onUpload:[{type:e.Output,args:["t-upload"]}],onError:[{type:e.Output,args:["t-error"]}],onSuccess:[{type:e.Output,args:["t-success"]}],ngModelChange:[{type:e.Output,args:["ngModelChange"]}]},t}(),y=function(){function t(t){this.http=t,this.requests=[]}return t.prototype.upload=function(t,e,i,n,o,s){for(var r=e.length,a={data:{},file:null},l=0;l<r;l++){var h=new FormData,u=e[l];h.append("files",u.rawFile),i&&(a.file=u,i.emit(a),h.append("data",JSON.stringify(a.data))),this.sendFile(t,u,h,n,o,s)}},t.prototype.sendFile=function(t,e,i,o,s,r){var a=this,l=this.getRequest(t,i).subscribe(function(t){if(t.type===n.HttpEventType.UploadProgress){a.addRequest(e,l);var i=Math.round(100*t.loaded/t.total);o(e,i)}else t instanceof n.HttpResponse&&s(e,t)},function(t){r(e,t)})},t.prototype.getRequest=function(t,e){var i=new n.HttpRequest("POST",t,e,{reportProgress:!0});return this.http.request(i)},t.prototype.stopRequestByFile=function(t,e){var i=this.requests.find(function(e){return e.file.uid===t.uid});if(i){i.request.unsubscribe(),this.removeRequest(i),e()}},t.prototype.removeRequest=function(t){var e=this.requests.indexOf(t);this.requests.splice(e,1)},t.prototype.addRequest=function(t,e){this.requests.some(function(e){return e.file.uid===t.uid})||this.requests.push({file:t,request:e})},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:n.HttpClient}]},t}(),m={};m.Uploaded=0,m.Uploading=1,m.Error=2,m.None=3,m[m.Uploaded]="Uploaded",m[m.Uploading]="Uploading",m[m.Error]="Error",m[m.None]="None";var b=function(){function t(t){t&&(this.name=t.name,this.extension=this.getExtension(t.name),this.size=t.size,this.rawFile=t,this.uid=this.generateUUID(),this.status=m.None)}return t.prototype.getExtension=function(t){if(t){return t.substr(t.lastIndexOf(".")).toLowerCase()}return""},t.prototype.generateUUID=function(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()},t}();t.ThfCheckboxGroupBaseComponent=a,t.ThfDatepickerBaseComponent=l,t.ThfInputBaseComponent=u,t.ThfMask=h,t.ThfRadioGroupBaseComponent=p,t.ThfSelectBaseComponent=c,t.ThfSwitchBaseComponent=g,t.ThfSwitchLabelPosition=d,t.ThfUploadBaseComponent=f,t.ThfUploadBaseService=y,t.ThfUploadFile=b,t.ThfUploadStatus=m,Object.defineProperty(t,"__esModule",{value:!0})});